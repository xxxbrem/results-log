2025-01-18 09:24:52 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 09:25:37 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 09:25:37 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:37 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:37 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:38 - snowflake.connector.cursor - INFO - Number of results in first chunk: 93
2025-01-18 09:25:38 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:38 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:39 - root - INFO - SQL:
-- Query 1: List distinct country codes
SELECT DISTINCT "country_code"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Results:
country_code
DO
WO
BA
UA
MW
YU
ZM
LT
KR
RO
BG
TR
GR
CH
NO
MX
GE
EE
CZ
SV
HN
PA
EG
AU
CU
CR
PL
IT
CY
OA
GB
SG
CN
MC
JP
HU
DZ
AT
NL
CA
IS
SK
NI
IN
EC
ES
IE
EA
TN
GT
HK
CO
AR
SI
KE
IL
TW
MT
MD
JO
MA
ZA
EP
RS
PE
LU
DK
FI
BE
ZW
DD
DE
US
PH
SA
MN
FR
SU
BR
ID
KZ
HR
RU
SE
AP
ME
SM
NZ
PT
CL
LV
CS
MY

2025-01-18 09:25:39 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:39 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:39 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:40 - snowflake.connector.cursor - INFO - Number of results in first chunk: 80
2025-01-18 09:25:40 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:40 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:41 - root - INFO - SQL:
-- Query 2: List distinct kind codes
SELECT DISTINCT "kind_code"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Results:
kind_code
C1
A1
P
B7
F1
P9
I1
T9
U9
B5
A4
A3
P1
C4
V0
D2
U8
B1
S
D1
U4
G2
T5
C3
A7
S2
Z2
R
U
T2
Y2
D
T
L
Z
E
D0
G
Y1
B
U2
C
B8
C0
T3
R1
B2
U5
B9
A0
A8
I2
A2
F2
A
B3
T4
C9
T8
U0
U1
V
A6
Y
A5
S1
U3
M
H1
Y8
B4
C2
C5
Q
H3
B6
A9
E2
T1
Y4

2025-01-18 09:25:41 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:41 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:41 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 09:25:42 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:42 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:43 - root - INFO - SQL:
-- Query 3: Retrieve publication numbers and grant dates within the specified range
SELECT "publication_number", "grant_date"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE "grant_date" BETWEEN 20150101 AND 20181231
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,grant_date
AU-2009271785-B2,20150820
AU-2011340221-B2,20160303
AU-2011380292-B2,20150618
AU-2012216800-B2,20150702
AU-2012252127-B2,20150910
AU-2012319355-B2,20160609
AU-2013219820-B2,20150226
AU-2013257490-B2,20151105
AU-2013262076-B2,20171026
AU-2013330962-B2,20171019
AU-2014223296-B2,20170921
AU-2014225436-B2,20180510
AU-2014293246-B2,20170223
AU-2014340644-B2,20170202
AU-2015202438-B2,20170525
AU-2015203650-B2,20170406
AU-2015205903-B2,20170216
AU-2015261725-B2,20170105
AU-2015262930-B2,20181115
AU-2015301903-B2,20180208
AU-2015377754-B2,20181004
EP-1534807-B2,20160615
JP-5751771-B2,20150722
JP-5648409-B2,20150107
JP-5664130-B2,20150204
JP-5723137-B2,20150527
JP-5692903-B2,20150401
JP-5740978-B2,20150701
JP-5723617-B2,20150527
JP-5759737-B2,20150805
JP-5809816-B2,20151111
JP-5655645-B2,20150121
JP-5670805-B2,20150218
JP-5861907-B2,20160216
JP-5776930-B2,20150909
JP-5790140-B2,20151007
JP-5824873-B2,20151202
JP-5768520-B2,20150826
JP-5804808-B2,20151104
JP-5887744-B2,20160316
JP-6054019-B2,20161227
JP-5821581-B2,20151124
JP-6024866-B2,20161116
JP-5892782-B2,20160323
JP-5959851-B2,20160802
JP-5783041-B2,20150924
JP-5774982-B2,20150909
JP-5789192-B2,20151007
JP-5683483-B2,20150311
JP-5866129-B2,20160217
JP-5880124-B2,20160308
JP-5792668-B2,20151014
JP-6108516-B2,20170405
JP-5946675-B2,20160706
JP-5950661-B2,20160713
JP-6097020-B2,20170315
JP-6017197-B2,20161026
JP-6009244-B2,20161019
JP-5970260-B2,20160817
JP-6012295-B2,20161025
JP-6000001-B2,20160928
JP-6128774-B2,20170517
JP-6003381-B2,20161005
JP-6125171-B2,20170510
JP-6012338-B2,20161025
JP-6015245-B2,20161026
JP-5929642-B2,20160608
JP-5696114-B2,20150408
JP-5987625-B2,20160907
JP-6139863-B2,20170531
JP-5696126-B2,20150408
JP-5983378-B2,20160831
JP-5965831-B2,20160810
JP-5747020-B2,20150708
JP-6090834-B2,20170308
JP-5726165-B2,20150527
JP-5678030-B2,20150225
JP-5836949-B2,20151224
JP-5715162-B2,20150507
JP-5652479-B2,20150114
JP-6096518-B2,20170315
JP-5915569-B2,20160511
JP-6176651-B2,20170809
JP-6023612-B2,20161109
JP-6206790-B2,20171004
JP-6093601-B2,20170308
JP-6128911-B2,20170517
JP-5825283-B2,20151202
JP-6123415-B2,20170510
JP-6130720-B2,20170517
JP-5738923-B2,20150624
JP-6056658-B2,20170111
JP-6100099-B2,20170322
JP-6143579-B2,20170607
JP-6088922-B2,20170301
JP-6066846-B2,20170125
JP-5762478-B2,20150812
JP-6141133-B2,20170607
JP-5785591-B2,20150930
JP-5882265-B2,20160309
JP-5695713-B2,20150408
JP-6216199-B2,20171018
JP-5738960-B2,20150624
JP-5906231-B2,20160420
JP-6247925-B2,20171213
JP-6239972-B2,20171129
JP-5957445-B2,20160727
JP-5908463-B2,20160426
JP-5978209-B2,20160824
JP-6273145-B2,20180131
JP-5787381-B2,20150930
JP-6252187-B2,20171227
JP-6289118-B2,20180307
JP-6142809-B2,20170607
JP-6362005-B2,20180725
JP-6405103-B2,20181017
JP-6268479-B2,20180131
JP-6206307-B2,20171004
JP-5933623-B2,20160615
JP-5924366-B2,20160525
JP-6063897-B2,20170118
JP-5866403-B2,20160217
JP-6269305-B2,20180131
JP-6314680-B2,20180425
JP-6048455-B2,20161221
JP-6395036-B2,20180926
JP-6267605-B2,20180124
JP-5833203-B2,20151216
JP-6399395-B2,20181003
JP-5931164-B2,20160608
JP-5937182-B2,20160622
JP-6428211-B2,20181128
JP-6281480-B2,20180221
JP-6205342-B2,20170927
JP-5749866-B2,20150715
JP-6380802-B2,20180829
JP-6035355-B2,20161130
JP-6150827-B2,20170621
JP-6355053-B2,20180711
JP-6394453-B2,20180926
JP-5908139-B2,20160426
JP-6152883-B2,20170628
JP-6441183-B2,20181219
JP-6361982-B2,20180725
JP-6414006-B2,20181031
JP-6058103-B2,20170111
JP-6424803-B2,20181121
JP-6306559-B2,20180404
JP-6044707-B2,20161214
JP-5963947-B2,20160803
JP-5797356-B2,20151021
JP-6000454-B2,20160928
JP-6135882-B2,20170531
JP-6396928-B2,20180926
JP-6330831-B2,20180530
JP-6406284-B2,20181017
JP-6038368-B2,20161207
JP-6385380-B2,20180905
JP-6272386-B2,20180131
JP-6208838-B2,20171004
JP-6437984-B2,20181212
JP-6433973-B2,20181205
JP-6316934-B2,20180425
JP-6437523-B2,20181212
JP-6437544-B2,20181212
JP-6171104-B2,20170726
JP-6371399-B2,20180808
JP-6367355-B2,20180801
JP-6324557-B2,20180516
JP-6259955-B2,20180110
DE-102014016160-B3,20160218
DE-112004002783-B4,20150409
DE-102005040788-B4,20160504
DE-102007034734-B4,20180927
DE-102009014390-B4,20180628
DE-102011106746-B4,20150409
DE-102012025287-B4,20150430
DE-102012112322-B4,20151105
DE-102013018417-B4,20170223
DE-102014104439-B4,20181025
DE-102015003436-B4,20171026
DE-102016116919-B4,20180517
CN-104268684-B8,20180130
AU-2009302945-C1,20160421
AU-2012300852-C1,20180104
AU-2014277569-C1,20180823
RU-2546827-C1,20150410
RU-2550733-C1,20150510
RU-2571629-C1,20151220
RU-2562714-C1,20150910
RU-2577031-C1,20160310
RU-2577957-C1,20160320
RU-2641474-C1,20180117
RU-2611559-C1,20170228
RU-2622275-C1,20170613
RU-2673764-C1,20181129
RU-2648109-C1,20180322
RU-2564061-C2,20150927
RU-2556160-C2,20150710
RU-2541890-C2,20150220
RU-2566364-C2,20151027
RU-2599413-C2,20161010
RU-2628001-C2,20170814
RU-2628870-C2,20170822
RU-2630270-C2,20170906
RU-2645671-C2,20180227
RU-2651943-C2,20180424
AU-2009204645-B2,20160526
AU-2009298122-B2,20150115
AU-2010246351-B2,201607

2025-01-18 09:25:43 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:43 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:43 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:44 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 09:25:44 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:44 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:44 - root - INFO - SQL:
-- Query 4: Parse grant dates into date format
SELECT "grant_date", TRY_TO_DATE("grant_date"::TEXT, 'YYYYMMDD') AS "parsed_grant_date"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE("grant_date"::TEXT, 'YYYYMMDD') IS NOT NULL
LIMIT 1000;
Results:
Too long, hard cut:
grant_date,parsed_grant_date
19400611,1940-06-11
19460625,1946-06-25
19580513,1958-05-13
19370601,1937-06-01
19410812,1941-08-12
19580204,1958-02-04
18701227,1870-12-27
19401126,1940-11-26
19750722,1975-07-22
18920202,1892-02-02
19620227,1962-02-27
18601127,1860-11-27
19140630,1914-06-30
19571224,1957-12-24
19131223,1913-12-23
19400702,1940-07-02
19420113,1942-01-13
18911201,1891-12-01
19550906,1955-09-06
19120827,1912-08-27
19371109,1937-11-09
19751230,1975-12-30
19390404,1939-04-04
19580624,1958-06-24
19530908,1953-09-08
19571105,1957-11-05
19750708,1975-07-08
19121203,1912-12-03
19150223,1915-02-23
19450417,1945-04-17
19141110,1914-11-10
18920126,1892-01-26
19611205,1961-12-05
19461119,1946-11-19
19590825,1959-08-25
19610725,1961-07-25
19410415,1941-04-15
18701129,1870-11-29
19520325,1952-03-25
19571015,1957-10-15
19640609,1964-06-09
18920308,1892-03-08
19620417,1962-04-17
18780827,1878-08-27
19511030,1951-10-30
19590120,1959-01-20
19120305,1912-03-05
19400430,1940-04-30
19751230,1975-12-30
19600621,1960-06-21
19650518,1965-05-18
19650518,1965-05-18
19530623,1953-06-23
19510313,1951-03-13
19430323,1943-03-23
19540907,1954-09-07
19611003,1961-10-03
18840722,1884-07-22
18800914,1880-09-14
19070611,1907-06-11
19130826,1913-08-26
19131230,1913-12-30
19090413,1909-04-13
19510918,1951-09-18
19530609,1953-06-09
19140519,1914-05-19
19541130,1954-11-30
19600607,1960-06-07
19620731,1962-07-31
19360526,1936-05-26
19081117,1908-11-17
19140421,1914-04-21
19570416,1957-04-16
19140324,1914-03-24
18910714,1891-07-14
19451127,1945-11-27
19131230,1913-12-30
19090525,1909-05-25
18700809,1870-08-09
18811011,1881-10-11
19530512,1953-05-12
19560731,1956-07-31
19130218,1913-02-18
19420210,1942-02-10
19080901,1908-09-01
18640705,1864-07-05
18700510,1870-05-10
19071210,1907-12-10
19080602,1908-06-02
19430914,1943-09-14
19431026,1943-10-26
19060911,1906-09-11
19571029,1957-10-29
19071119,1907-11-19
19380201,1938-02-01
19550712,1955-07-12
18820530,1882-05-30
19580304,1958-03-04
19570212,1957-02-12
19660531,1966-05-31
19120102,1912-01-02
18690706,1869-07-06
19130617,1913-06-17
19421027,1942-10-27
19150713,1915-07-13
19560508,1956-05-08
19141027,1914-10-27
19531013,1953-10-13
19491108,1949-11-08
19531027,1953-10-27
19600726,1960-07-26
19620515,1962-05-15
19411223,1941-12-23
19150420,1915-04-20
19571015,1957-10-15
19600712,1960-07-12
19150824,1915-08-24
19370622,1937-06-22
18740127,1874-01-27
19090601,1909-06-01
19720627,1972-06-27
19150119,1915-01-19
19061106,1906-11-06
18810125,1881-01-25
19540330,1954-03-30
18840422,1884-04-22
19601129,1960-11-29
18960428,1896-04-28
19591110,1959-11-10
19391107,1939-11-07
19500815,1950-08-15
19170619,1917-06-19
19200511,1920-05-11
19390905,1939-09-05
19700915,1970-09-15
19410527,1941-05-27
18721224,1872-12-24
19311117,1931-11-17
19580415,1958-04-15
19621211,1962-12-11
19391121,1939-11-21
18850519,1885-05-19
19660125,1966-01-25
19391010,1939-10-10
18790429,1879-04-29
19280710,1928-07-10
19490208,1949-02-08
19511204,1951-12-04
19541012,1954-10-12
19641103,1964-11-03
19390103,1939-01-03
19171009,1917-10-09
19140714,1914-07-14
19450605,1945-06-05
19610110,1961-01-10
19150511,1915-05-11
19581125,1958-11-25
19381220,1938-12-20
19611212,1961-12-12
19740820,1974-08-20
19250901,1925-09-01
19591201,1959-12-01
19540223,1954-02-23
19590203,1959-02-03
19570618,1957-06-18
19591201,1959-12-01
18850707,1885-07-07
19700818,1970-08-18
19510612,1951-06-12
19500808,1950-08-08
19690603,1969-06-03
19700303,1970-03-03
19510605,1951-06-05
19520527,1952-05-27
19590512,1959-05-12
19620320,1962-03-20
18850519,1885-05-19
19390411,1939-04-11
19410902,1941-09-02
19230220,1923-02-20
18781203,1878-12-03
19460827,1946-08-27
19311020,1931-10-20
19180820,1918-08-20
19660419,1966-04-19
19661220,1966-12-20
19390411,1939-04-11
19720111,1972-01-11
19321101,1932-11-01
18890528,1889-05-28
19560717,1956-07-17
19520212,1952-02-12
19740716,1974-07-16
18580810,1858-08-10
19640428,1964-04-28
19140630,1914-06-30
18950430,1895-04-30
19621106,1962-11-06
19680507,1968-05-07
19720926,1972-09-26
19650803,1965-08-03
19521104,1952-11-04
19720815,1972-08-15
19411202,1941-12-02
19070416,1907-04-16
19690408,1969-04-08
19720201,1972-02-01
19590630,1959-06-30
19070917,1907-09-17
19721121,1972-11-21
19460730,1946-07-30
19380816,1938-08-16
19480615,1948-06-15
19680903,1968-09-03
19600614,1960-06-14
19431228,1943-12-28
19220822,1922-08-22
19681105,1968-11-05
19320503,1932-05-03
19330815,1933-08-15
19480928,1948-09-28
19720516,1972-05-16
19450116,1945-01-16
18740407,1874-04-07
18850714,1885-07-14
19741119,1974-11-19
19371026,1937-10-26
18840729,1884-07-29
19751007,1975-10-07
19130408,1913-04-08
19130603,1913-06-03
19510403,1951-04-03
19600209,1960-02-09
19640804,1964-08-04
19140106,1914-01-06
19401119,1940-11-19
19141215,1914-12-15
18900520,1890-05-20
18790408,1879-04-08
19580701,1958-07-01
19530901,1953-09-01
19750722,1975-07-22
19070827,1907-08-27
19530224,1953-02-24
19530224,1953-02-24
19430119,1943-01-19
19510417,1951-04-17
19540223,1954-02-23
19590922,19

2025-01-18 09:25:44 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:44 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:44 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:45 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 09:25:46 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:46 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:47 - root - INFO - SQL:
-- Query 5: Explore the structure of the citation field
SELECT t."publication_number", f.value
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."citation") f
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,VALUE
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-5077671-A"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2011246000-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2014350780-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2015227647-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2018155052-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2019130767-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-10703508-B1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-11042673-B1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-11080381-B2"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": ""Qin, \""Real-time downloading and analysis of QAR data using Air-to-Ground wireless communication\"", 2019, IEEE (Year: 2019)"",
  ""publication_number"": """",
  ""type"": """"
}"
US-2020259944-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-8077029-B1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2007019383-A1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2008093458-A1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2014028292-A1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2017187310-A1"",
  ""type"": """"
}"
US-2020292730-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2006286147-A1"",
  ""type"": """"
}"
US-2020292730-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2010314591-A1"",
  ""type"": """"
}"
US-2020360606-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2003114836-A1"",
  ""type"": """"
}"
US-2020360606-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2005022274-A1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-6492619-B1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-6559419-B1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-6734396-B2"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-7223940-B2"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-7731373-B2"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2016006911-A1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2016119509-A1"",


2025-01-18 09:25:47 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:47 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:47 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:48 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 09:25:48 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:48 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:48 - root - INFO - SQL:
-- Query 6: Extract cited publication numbers from the citation field
SELECT t."publication_number", f.value:"publication_number"::STRING AS "cited_publication_number"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."citation") f
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,cited_publication_number
US-2021025526-A1,US-617484-A
US-2021025526-A1,JP-S5896515-A
US-2021025526-A1,DE-3641632-A1
US-2021025526-A1,EP-1798429-A1
US-2021025526-A1,US-7452156-B2
US-2021025526-A1,US-8157469-B2
US-2021066882-A1,US-6369451-B2
US-2021066882-A1,US-6396082-B1
US-2021066882-A1,US-6436331-B1
US-2021066882-A1,US-2002127771-A1
US-2021066882-A1,US-6571466-B1
US-2021066882-A1,US-6674159-B1
US-2021066882-A1,US-7109061-B2
US-2021066882-A1,US-7213739-B2
US-2021066882-A1,US-7239767-B2
US-2021066882-A1,US-7443038-B2
US-2021066882-A1,US-7471282-B2
US-2021066882-A1,US-2009180732-A1
US-2021066882-A1,US-7656042-B2
US-2021066882-A1,US-7829992-B2
US-2021066882-A1,US-8158888-B2
US-2021066882-A1,US-8357565-B2
US-2021066882-A1,US-9627346-B2
US-2021066882-A1,US-9761542-B1
US-2021066882-A1,US-9837292-B2
US-2020033102-A1,US-4483251-A
US-2020033102-A1,US-10041770-B2
US-2021072457-A1,US-6942374-B2
US-2021072457-A1,US-7364341-B2
US-2021072457-A1,US-7866871-B2
US-2021072457-A1,US-7876489-B2
US-2021072457-A1,US-2011085107-A1
US-2021072457-A1,US-2011110091-A1
US-2021072457-A1,US-2011203147-A1
US-2021072457-A1,US-2011285296-A1
US-2021072457-A1,US-2012015157-A1
US-2021072457-A1,US-8262274-B2
US-2021072457-A1,US-2012268687-A1
US-2021072457-A1,US-8475026-B2
US-2021072457-A1,US-2014111862-A1
US-2021072457-A1,US-8858055-B2
US-2021072457-A1,US-9052431-B2
US-2021072457-A1,US-2016282978-A1
US-2021072457-A1,US-2018208111-A1
US-2021072457-A1,US-2018306730-A1
US-2021072457-A1,US-10132989-B2
US-2021072457-A1,US-2020079050-A1
US-2020117042-A1,US-2010055353-A1
US-2020117042-A1,US-9224984-B2
US-2020117042-A1,US-2016178810-A1
US-2020117042-A1,US-10522600-B2
US-2020021543-A1,US-2005055413-A1
US-2020021543-A1,US-2009307317-A1
US-2020021543-A1,US-2013232206-A1
US-2020021543-A1,US-2014237055-A1
US-2020022844-A1,US-4366169-A
US-2020022844-A1,US-4568327-A
US-2020022844-A1,US-2001018072-A1
US-2020022844-A1,US-2001037810-A1
US-2020022844-A1,US-6458109-B1
US-2020022844-A1,US-2003144619-A1
US-2020022844-A1,US-7048951-B1
US-2020022844-A1,US-7629384-B2
US-2020052202-A1,US-2004114413-A1
US-2020052202-A1,US-2010037822-A1
US-2020052202-A1,US-2012171874-A1
US-2020052202-A1,US-2014356549-A1
US-2020052202-A1,US-9343317-B2
US-2020139957-A1,US-2015369153-A1
US-2020139957-A1,US-2018106206-A1
US-2020139957-A1,US-2018126979-A1
US-2020139957-A1,US-2018216552-A1
US-2020139957-A1,US-2018283301-A1
US-2020139957-A1,US-2019078524-A1
US-2020139957-A1,US-2019390620-A1
US-2020139957-A1,US-2020088119-A1
US-2020139957-A1,US-2021079860-A1
US-2020323642-A1,US-2008208344-A1
US-2020323642-A1,US-2012004729-A1
US-2020323642-A1,US-8157842-B2
US-2020235727-A1,US-6333665-B1
US-2021178608-A1,US-4875275-A
US-2021178608-A1,US-4980963-A
US-2021178608-A1,US-5372567-A
US-2021178608-A1,GB-2292365-A
US-2021178608-A1,US-2010062919-A1
US-2021178608-A1,US-8360377-B2
US-2021178608-A1,US-2014363223-A1
US-2021178608-A1,WO-2015074710-A1
US-2021178608-A1,US-2018304475-A1
US-2020128826-A1,US-2007269473-A1
US-2020128826-A1,US-2011059144-A1
US-2020128826-A1,US-2014017287-A1
US-2020128826-A1,WO-2014118240-A1
US-2022388959-A1,US-2004063953-A1
US-2022388959-A1,US-2010234395-A1
US-2021053417-A1,US-5838483-A
US-2021053417-A1,US-7990603-B2
US-2021053417-A1,
US-2021053417-A1,
US-2021053417-A1,
US-2021038591-A1,WO-2009021163-A2
US-2021025791-A1,US-4798095-A
US-2021025791-A1,US-4982553-A
US-2021025791-A1,US-5366896-A
US-2021025791-A1,US-5479969-A
US-2021025791-A1,US-5800777-A
US-2021025791-A1,US-5817032-A
US-2021025791-A1,US-5985214-A
US-2021025791-A1,US-6060022-A
US-2021025791-A1,US-6253807-B1
US-2021025791-A1,US-6290907-B1
US-2021025791-A1,US-2001048899-A1
US-2021025791-A1,US-2002090320-A1
US-2021025791-A1,US-2002108857-A1
US-2021025791-A1,US-2003059347-A1
US-2021025791-A1,US-2003099573-A1
IT-MI20100845-A1,US-1654188-A
IT-MI20100845-A1,US-2506292-A
IT-MI20100845-A1,DE-4307918-A1
IT-MI20100845-A1,DE-19810417-A1
IT-MI20100845-A1,WO-2008068591-A2
IT-VI20090183-A1,CH-326215-A
IT-VI20090183-A1,US-5134380-A
IT-VI20090183-A1,US-5216409-A
IT-VI20090183-A1,US-5736637-A
IT-VI20090183-A1,EP-1411348-A1
IT-TO20100206-A1,DE-1580149-A1
IT-TO20100206-A1,DE-10252996-A1
IT-TO20100206-A1,FR-2865440-A1
IT-TO20100206-A1,DE-102004046678-A1
IT-TO20100206-A1,FR-2895705-A1
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-UA20161603-A1,AU-551882-B2
IT-UA20161603-A1,EP-1881576-A1
IT-UA20161603-A1,GB-2465609-A
IT-UA20161603-A1,US-2013029541-A1
IT-UA20161603-A1,DE-102013101120-A1
IT-UA20161603-A1,US-2015200530-A1
IT-BO20080517-A1,DE-3030931-A1
IT-BO20080517-A1,US-5467567-A
IT-BO20080517-A1,US-5572847-A
IT-BO20080517-A1,EP-0744497-A1
IT-BO20080517-A1,DE-19732904-A1
IT-BO20080517-A1,EP-1072726-A1
IT-BO20080731-A1,FR-2781409-A1
IT-BO20080731-A1,US-2002158357-A1
IT-UB20160960-A1,US-6481795-B1
IT-UB20160960-A1,US-2009230743-A1
IT-UB20160960-A1,EP-2653196-A2
IT-UB20160960-A1,WO-2014085732-A1
IT-TO20090280-A1,DE-1238299-B
IT-TO20090280-A1,US-3358522-A
IT-TO20090280-A1,US-5083984-A
I

2025-01-18 09:25:48 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:48 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:48 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:50 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 09:25:50 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:51 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:51 - root - INFO - SQL:
-- Query 7: Explore the structure of the ipc field
SELECT t."publication_number", f.value
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,VALUE
US-2022245697-A1,"{
  ""code"": ""G06F16/903"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F40/247"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06Q30/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F16/9035"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B1/267"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B90/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61M25/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B5/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/355"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/352"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/15"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/22"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W24/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/27"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/08"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/30"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/15"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""C12G3/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/262"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/256"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L17/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N1/40"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N21/64"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0525"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0567"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0569"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0568"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M4/58"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""G06K9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/09"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W40/105"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/18"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W10/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/513"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/188"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M16/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/03"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/463"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/148"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N59/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/61"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N43/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"


2025-01-18 09:25:51 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:51 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:51 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:52 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 09:25:52 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:53 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:53 - root - INFO - SQL:
-- Query 8: Extract IPC codes from the ipc field
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-2019386123-A1,H01L29/732
US-2019386123-A1,H01L23/66
US-2019386123-A1,H01L29/66
US-2019386123-A1,H01L29/205
US-2019386123-A1,H01L29/165
US-2019386123-A1,H01L29/73
US-2019386123-A1,H01L29/36
US-2019386123-A1,H01L29/08
US-2019386123-A1,H01L29/737
US-2019120553-A1,F26B15/12
US-2019120553-A1,F26B25/00
US-2020198027-A1,B23C5/22
US-2019137145-A1,H04B1/3888
US-2019137145-A1,H04M1/18
US-2019137145-A1,F24V30/00
US-2019137145-A1,G06F1/16
US-2019307110-A1,F21V31/00
US-2019307110-A1,H05B37/02
US-2019307110-A1,F21L4/08
US-2019307110-A1,A01K85/01
US-2019307110-A1,F21V33/00
US-2019307110-A1,F21V3/06
US-2019307110-A1,H05B44/00
US-2019310842-A1,H04L12/24
US-2019310842-A1,G06F8/65
US-2019310842-A1,G06F8/654
US-2019310842-A1,G06F8/61
US-2019310842-A1,G06F8/71
US-2019215233-A1,H04L12/24
US-2019215233-A1,H04L12/40
US-2019156651-A1,G16H40/63
US-2019156651-A1,A61B5/00
US-2019156651-A1,G08B21/24
US-2019156651-A1,A61B5/145
US-2019224509-A1,A62C37/36
US-2019224509-A1,G05B19/042
US-2020229416-A1,A01K97/01
US-2020229416-A1,A01K93/00
US-2019158596-A1,H04L29/08
US-2019245751-A1,H04Q11/00
US-2019245751-A1,H04L12/44
US-2019245751-A1,H04L49/111
US-2019245751-A1,H04L45/122
US-2020185880-A1,G01N21/39
US-2020185880-A1,H01S5/068
US-2020185880-A1,H01S5/022
US-2020251177-A1,H05K5/02
US-2020251177-A1,H05K7/18
US-2020251177-A1,G12B9/10
US-2019242715-A1,G01C21/34
US-2019242715-A1,G05D1/02
US-2019242715-A1,G01C21/36
US-2019242715-A1,G05D1/00
US-2019254081-A1,H04W74/08
US-2019254081-A1,H04L1/16
US-2019254081-A1,H04W76/11
US-2019254081-A1,H04L5/14
US-2019254081-A1,H04L5/00
US-2019254081-A1,H04W72/04
US-2019305700-A1,H02P25/089
US-2019305700-A1,G01R27/26
US-2019305700-A1,H02P6/182
US-2019169580-A1,C12N9/10
US-2019291557-A1,B60K1/04
US-2019264852-A1,F16L37/18
US-2020280587-A1,H04L45/42
US-2019267164-A1,H01Q1/36
US-2019267164-A1,H01F1/01
US-2019267164-A1,H01F1/36
US-2019267164-A1,C04B35/26
US-2019267164-A1,H01Q7/06
US-2019267164-A1,H01F1/34
US-2020287086-A1,H01L33/32
US-2020287086-A1,H01L31/102
US-2020287086-A1,H01L31/0352
US-2020287086-A1,H01L31/0304
US-2020287086-A1,H01L33/06
US-2019194351-A1,G01N33/573
US-2019194351-A1,C07K16/36
US-2019362101-A1,G06F16/951
US-2019362101-A1,G06F16/9535
US-2019362101-A1,G06F21/62
US-2019362101-A1,H04L29/06
US-2019298878-A1,A61L9/14
US-2019298878-A1,A61L9/01
US-2019246076-A1,G01P15/18
US-2019246076-A1,G06K9/00
US-2019246076-A1,H04N7/18
US-2019246076-A1,B60Q9/00
US-2019246076-A1,B60W40/076
US-2019157622-A1,H01L33/60
US-2019157622-A1,H01L33/32
US-2019157622-A1,G02B5/30
US-2019157622-A1,H01L51/52
US-2019316048-A1,C10G35/095
US-2019316048-A1,C10G11/05
US-2019316048-A1,C10G7/00
US-2019316048-A1,C10G63/04
US-2019287241-A1,A61B6/00
US-2019287241-A1,G06T7/00
US-2019287241-A1,G16H30/40
US-2019287241-A1,G06T7/73
US-2021220734-A1,A63F13/22
US-2021220734-A1,A63F13/42
US-2021220734-A1,G06F3/0338
US-2021220734-A1,A63F13/5255
US-2021288381-A1,H01M50/454
US-2021288381-A1,H01M50/491
US-2021288381-A1,H01M50/449
US-2021288381-A1,H01M50/44
US-2021288381-A1,H01M50/434
US-2021288381-A1,H01M50/423
US-2021288381-A1,H01M50/403
US-2021288381-A1,H01M50/417
US-2021288381-A1,H01M50/457
US-2021288381-A1,H01M50/451
US-2021288381-A1,H01M50/426
US-2021288381-A1,H01M50/42
US-2021288381-A1,H01M50/414
US-2021279534-A1,G06K15/02
US-2019281686-A1,F24F11/58
US-2019281686-A1,F24F11/63
US-2019281686-A1,H04L12/28
US-2019281686-A1,H05B37/02
US-2019211485-A1,D04H1/732
US-2019211485-A1,D04H1/54
US-2019211485-A1,D04H1/4234
US-2020032083-A1,B32B27/40
US-2020032083-A1,C09D7/40
US-2020032083-A1,C09D175/04
US-2020032083-A1,B32B27/22
US-2020032083-A1,B32B27/20
US-2020032083-A1,C09D7/61
US-2020032083-A1,E04F15/10
US-2020032083-A1,B32B7/04
US-2020046698-A1,A61K31/505
US-2020046698-A1,A61K31/55
US-2020046698-A1,A61P35/00
US-2020289344-A1,A45C11/00
US-2020289344-A1,A61J1/03
US-2020289344-A1,A61F13/551
US-2020289344-A1,A61F13/472
US-2020289344-A1,A45C13/10
US-2020289344-A1,A45F3/02
US-2020289344-A1,A61F13/20
US-2020296001-A1,H04L45/28
US-2020296001-A1,H04L45/02
US-2020296001-A1,H04L12/44
US-2019284445-A1,C09J7/20
US-2019284445-A1,G11B5/012
US-2019284445-A1,G11B21/10
US-2019284445-A1,C09J7/38
US-2019239634-A1,A46B9/04
US-2019239634-A1,A46B5/02
US-2019239634-A1,A46B15/00
US-2019239634-A1,A46B5/00
US-2019323219-A1,E03D3/12
US-2019249135-A1,C12N5/071
US-2019249135-A1,C12N5/095
US-2019249135-A1,C12N5/00
US-2019249150-A1,B01J20/28
US-2019249150-A1,B01J20/32
US-2019249150-A1,B01D61/14
US-2019249150-A1,A61L2/00
US-2019249150-A1,B01D67/00
US-2019249150-A1,B01J20/26
US-2019249150-A1,C12N7/00
US-2019265968-A1,G06F21/56
US-2019265968-A1,G06F8/656
US-2020369198-A1,B60R9/06
US-2020369198-A1,B62D33/023
US-2020369198-A1,B60P7/08
US-2020259178-A1,H01M4/133
US-2020259178-A1,H01G11/34
US-2020259178-A1,H01M4/583
US-2020259178-A1,H01G11/44
US-2020259178-A1,H01G11/24
US-2020259178-A1,H01M10/06
US-2020259178-A1,H01M10/0525
US-2020259178-A1,H01M12/06
US-2020259178-A1,C01B32/30
US-2020259178-A1,C01B32/336
US-2020259178-A1,H01M2/16
US-2020259178-A1,H01M4/14
US-2020259178-

2025-01-18 09:25:53 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:53 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:53 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:54 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 09:25:54 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:54 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:54 - root - INFO - SQL:
-- Query 9: Extract the 4-digit IPC codes
SELECT t."publication_number", SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4_code"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc4_code
DE-69427315-T2,C08J
DE-69427315-T2,C08L
DE-69611147-T2,E05B
DE-69611147-T2,E05B
DE-69614271-T2,A61K
DE-69614271-T2,C12N
DE-69614271-T2,C12Q
DE-69614271-T2,C07K
DE-69614271-T2,C12N
DE-69614271-T2,G01N
DE-69614271-T2,C12N
DE-69614271-T2,C07K
DE-69614271-T2,C12N
DE-69614271-T2,G01N
DE-69614271-T2,C12N
DE-69614271-T2,G01N
DE-69614271-T2,C12N
DE-69614271-T2,C12N
DE-69614271-T2,A61K
DE-69614271-T2,C12P
DE-69630331-T2,H04L
DE-69630331-T2,G06F
DE-69636755-T2,C12N
DE-69636755-T2,G01N
DE-69636755-T2,C12R
DE-69636755-T2,C12N
DE-69636755-T2,C12N
DE-69636755-T2,A61K
DE-69636755-T2,G01N
DE-69636755-T2,C12Q
DE-69636755-T2,C12N
DE-69728658-T2,B32B
DE-69728658-T2,B41C
DE-69728658-T2,B41N
DE-69728658-T2,B41N
DE-69728658-T2,B32B
DE-69728658-T2,B32B
DE-69807539-T2,G01N
DE-69807539-T2,G01N
DE-69807539-T2,G01N
DE-69832203-T2,A61B
DE-69832203-T2,A61B
HU-E042779-T2,F28B
HU-E042779-T2,F28C
HU-E039475-T2,E02D
HU-E039475-T2,F28F
HU-E045258-T2,H04L
HU-E032026-T2,B41J
HU-E032026-T2,B41J
HU-E059707-T2,B01D
HU-E059707-T2,B01D
HU-E062821-T2,G01N
HU-E062821-T2,A61B
HU-E062821-T2,A61F
TR-200000810-T2,C08L
TR-200000810-T2,C08L
TR-200000810-T2,C08L
TR-200000810-T2,C08J
TR-200000810-T2,C08J
TR-200000810-T2,C08K
TR-200000810-T2,C08F
TR-200000810-T2,C08K
TR-200000810-T2,C08J
DE-602004001511-T2,E05D
DK-1861705-T3,C12Q
DK-1861705-T3,G01N
DK-2101612-T3,A47C
DK-2101612-T3,A47C
DK-2579875-T3,A61P
DK-2579875-T3,A61P
DK-2579875-T3,A61K
DK-2579875-T3,A61K
DK-2579875-T3,A61K
DK-2579875-T3,A61K
DK-2692719-T3,C07H
DK-2692719-T3,C07C
DK-2692719-T3,C07C
DK-2692719-T3,C07C
DK-2692719-T3,A61Q
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61K
DK-2692719-T3,A61K
DK-2692719-T3,A23L
DK-2817131-T3,C08J
DK-2817131-T3,B29B
DK-3592973-T3,F03D
DK-3592973-T3,B66C
DK-3592973-T3,B66C
DK-3617419-T3,E04F
DK-3566308-T3,H03K
DK-3566308-T3,B06B
DK-0474188-T3,C07C
DK-0474188-T3,C07B
DK-0474188-T3,C07C
DK-0474188-T3,B01J
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0453366-T3,C09K
DK-0453366-T3,C09K
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0817408-T3,H03M
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0955950-T3,A61F
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A61K
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01P
DK-0912092-T3,A01P
DK-1000046-T3,A61P
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,A61K
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,A61P
DK-1000046-T3,A61K
DK-1000046-T3,C07D
DK-1000046-T3,A61P
DK-1181065-T3,A61M
ES-2195954-T3,B22D
ES-2195954-T3,F27D
ES-2195954-T3,F27B
ES-2195954-T3,F27D
ES-2195954-T3,B22D
ES-2195954-T3,F27B
ES-2280285-T3,B21B
ES-2280285-T3,B65H
ES-2280285-T3,B21B
ES-2280285-T3,B65H
ES-2280285-T3,B65G
ES-2280285-T3,B23K
ES-2280285-T3,F16C
ES-2280285-T3,G01B
ES-2262816-T3,F16K
ES-2262816-T3,F16K
ES-2351969-T3,A23G
ES-2351969-T3,A23G
ES-2351969-T3,A23G
ES-2387567-T3,B41F
ES-2387567-T3,B41F
ES-2387567-T3,B41F
ES-2387567-T3,B41F
ES-2350646-T3,G06K
ES-2337290-T3,B29C
ES-2337290-T3,G05D
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61K
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,C07D
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,C07D
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61K
ES-2369837-T3,A61K
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,C07D
ES-2369837-T3,C07D
ES-2369837-T3,C07D
ES-2369837-T3,C07D
ES-2394656-T3,A23C
ES-2363939-T3,H04L
ES-2677325-T3,H04W
ES-2677325-T3,H04W
ES-2677325-T3,H04W
ES-2677325-T3,H04W
ES-2395233-T3,A21D
ES-2395233-T3,A21D
ES-2395233-T3,A23G
ES-2596889-T3,A61B
ES-2596889-T3,A61B
ES-2713511-T3,B61D
ES-2713511-T3,B61D
ES-2713511-T3,B61D
ES-2582608-T3,C12N
ES-2582608-T3,C11D
ES-2536325-T3,H02H
ES-2536325-T3,H01H
ES-2536325-T3,H01H
ES-2585338-T3,A61F
ES-2585338-T3,A61F
ES-2903419-T3,A61K
ES-2903419-T3,A61P
ES-2903419-T3,A61P
ES-2903419-T3,A61K
ES-2903419-T3,A61K
ES-2822205-T3,G05B
ES-2820348-T3,C22C
ES-2820348-T3,C21D
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C22C
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C23C
ES-2820348-T3,C22C
ES-2820348-T3,C23C
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C22C
ES-2820348-T3,C23C
ES-2820348-T3,C22C
ES-2

2025-01-18 09:25:54 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:25:54 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:25:54 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:25:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 09:25:56 - snowflake.connector.connection - INFO - closed
2025-01-18 09:25:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:25:57 - root - INFO - SQL:
-- Query 10: Count the number of IPC codes per patent
SELECT t."publication_number", COUNT(f.value:"code"::STRING) AS "ipc_code_count"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
GROUP BY t."publication_number"
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code_count
US-2007103939-A1,1
US-2010025717-A1,7
US-2016358198-A1,1
US-2016004738-A1,1
US-2006069023-A1,3
US-2008246626-A1,1
US-2008142788-A1,4
US-2008251677-A1,2
US-2009304405-A1,1
US-2011255290-A1,2
US-2016050179-A1,2
US-11882594-B2,3
US-11905336-B2,5
JP-3197608-B2,9
JP-H0154139-B2,3
JP-3155733-B2,3
JP-3704472-B2,1
JP-H0473950-B2,1
AU-2019213367-B2,1
JP-4048886-B2,2
JP-4597553-B2,7
JP-4019099-B2,3
JP-4606421-B2,1
JP-4983369-B2,5
JP-4819749-B2,1
JP-5335548-B2,1
JP-5946675-B2,4
JP-6399395-B2,3
JP-6798759-B2,1
JP-7114135-B2,2
JP-6923416-B6,3
AU-2015256603-B9,1
RU-2305201-C1,1
JP-6150827-B2,4
JP-7223619-B2,1
DK-0412867-T3,5
ES-2606483-T3,1
JP-S4919562-Y1,2
KR-200363136-Y1,1
JP-H078916-Y2,3
JP-2598501-B2,4
JP-5652479-B2,8
JP-6771179-B2,3
JP-7283421-B2,1
DE-102006058122-B3,1
DE-102012008165-B3,3
SE-504689-C2,3
RU-20948-U1,1
JP-H0117956-Y2,3
JP-5759737-B2,4
US-2020082292-A1,6
US-2020402601-A1,2
US-2021038882-A1,2
US-2023117425-A1,36
US-2023271240-A1,3
US-2024139620-A1,3
AU-2003289488-A1,1
EP-0990514-A1,1
DE-102004010285-A1,4
DE-102016213940-A1,1
WO-2023237029-A1,1
WO-2019054361-A1,1
WO-2024166375-A1,2
WO-2022004869-A1,8
WO-2014007956-A1,3
EP-2209655-A2,2
WO-2019232203-A2,1
WO-2011037409-A3,5
DE-112018003760-A5,4
DE-102020114079-A1,1
WO-2022184594-A1,2
CS-84992-A3,12
US-2023415708-A1,2
PL-324009-A1,9
AU-2003292596-A1,3
DE-2460286-A1,3
EP-0558348-A1,9
EP-3488542-A1,1
EP-1403066-A1,5
EP-1889759-A1,6
EP-3499327-A1,1
JP-WO2004080010-A1,6
DE-102004015327-A1,6
WO-2024002045-A1,3
WO-2023108175-A1,7
BR-PI0816964-A2,2
PL-218017-A2,3
EP-2181951-A2,2
WO-2017160556-A1,2
DD-284418-A5,3
FR-2466932-B1,3
AU-2003303958-A8,1
US-11233500-B1,5
KR-100361832-B1,1
KR-100459994-B1,1
KR-100653159-B1,4
KR-101071620-B1,2
KR-101824619-B1,3
KR-101554816-B1,3
KR-101533547-B1,3
KR-101798955-B1,2
KR-101722046-B1,2
KR-102543182-B1,2
KR-101873778-B1,3
KR-102165783-B1,9
AU-752562-B2,3
JP-S5232570-B2,3
JP-S6227703-B2,3
JP-H0244030-B2,5
US-7964868-B2,4
US-8527133-B2,2
US-6256504-B1,3
EP-3569843-B1,1
KR-100605854-B1,1
KR-100826217-B1,4
KR-102109478-B1,3
KR-100839286-B1,6
US-8500209-B2,1
US-2006162019-A1,6
US-2007115483-A1,1
US-2008214959-A1,1
US-2008237040-A1,1
US-2007229359-A1,5
US-2010298018-A1,2
US-2015244938-A1,4
US-2017169190-A1,3
IN-2014DN05896-A,2
LT-IP887-A,8
US-2900155-A,1
SG-11202109510Y-A,6
US-2138577-A,1
US-2780353-A,4
FR-1025413-A,1
US-3897273-A,2
US-2474586-A,1
CA-821982-A,1
BE-618622-A,3
CA-1132947-A,4
BE-603547-A,4
AU-2286088-A,6
AU-6517786-A,1
AU-6885498-A,1
AU-7314796-A,2
BR-9906052-A,2
GB-2363458-A,1
GB-277437-A,1
JP-S56121479-A,1
JP-S53119161-A,1
JP-S52118173-A,1
JP-S58172915-A,2
JP-H08226678-A,1
JP-H07242008-A,4
JP-S63233289-A,1
JP-S55160047-A,13
JP-S517338-A,2
US-4008264-A,4
US-4322373-A,15
US-5353125-A,4
US-5947495-A,6
JP-H03253113-A,1
JP-S4967727-A,1
JP-S5751917-A,2
JP-H11354547-A,1
JP-S6222434-A,5
JP-H087387-A,2
JP-H0820314-A,3
JP-H0671570-A,5
JP-S6087007-A,1
JP-H05344826-A,1
JP-2001031139-A,2
JP-S6476028-A,3
JP-H0194682-A,1
JP-H05122146-A,3
US-2024074930-A1,2
US-2023115754-A1,4
US-2024081641-A1,2
AT-522845-A1,4
AU-2022207920-A1,3
CL-2012000108-A1,3
DE-2649304-A1,2
JP-WO2011024505-A1,1
JP-WO2020152906-A1,1
DE-102007026947-A1,2
DE-102015100896-A1,1
AU-2018417177-A1,3
WO-2018218838-A1,1
WO-2019206017-A1,1
BR-PI0916072-A2,2
SU-1726344-A2,1
BR-112021008415-A2,1
AU-2003225160-A8,5
PL-241961-B1,3
KR-100301998-B1,3
KR-101069214-B1,9
KR-100956962-B1,4
KR-101750448-B1,5
KR-101696846-B1,6
KR-101924153-B1,1
KR-102232519-B1,3
KR-102295488-B1,2
BR-112016018021-B1,1
JP-2755550-B2,5
US-8570253-B2,2
AU-7652294-A,1
BR-9602408-A,4
JP-H0575780-A,4
DE-102008027618-A1,5
DE-102023003161-A1,2
WO-2019090536-A1,1
WO-2015162523-A1,4
BR-PI1006055-A2,3
WO-2010088414-A2,5
DK-168046-B1,5
PL-107411-B1,2
JP-6773345-B1,2
KR-101169010-B1,4
KR-102339428-B1,3
KR-102571031-B1,1
JP-S584248-B2,1
JP-S649924-B2,10
US-6732644-B2,3
US-7501408-B2,23
US-7815497-B2,1
US-2016380415-A1,2
US-2016332058-A1,5
US-2018311153-A1,3
ES-2262816-T3,2
DE-112019002699-T5,5
IT-PN950036-U1,1
IT-UD960009-V0,1
KR-200396792-Y1,3
JP-H0623864-Y2,1
JP-S5243376-Y2,1
JP-S4124905-Y1,3
KR-200149974-Y1,1
JP-S5760080-Y2,3
JP-H0619503-Y2,3
JP-S5226495-Y2,6
IT-223357-Z2,1
US-2021188104-A1,7
US-2021307865-A1,4
US-2022261174-A1,1
US-2022115371-A1,5
US-2023044005-A1,5
US-2023225440-A1,1
DD-145122-A1,1
AU-2003273921-A1,20
AU-2005275017-A1,3
AU-2009222143-A1,4
EP-0604777-A1,1
JP-WO2021085619-A1,4
DE-102010000456-A1,3
US-2023304660-A1,5
DE-10046656-A1,2
AU-2009242965-A1,2
DE-4115500-A1,6
EP-1503928-A1,3
DE-102012213468-A1,3
DE-102019109413-A1,1
WO-2018053633-A1,2
WO-2019128465-A1,4
WO-2024075114-A1,3
WO-2021035083-A1,2
BR-112013016566-A2,15
WO-2017118749-A2,1
EP-1589123-A4,7
EP-3051706-A4,6
CH-661126-A5,2
FR-2061474-A5,3
DD-292126-A5,1
IT-1308601-B1,1
CH-689527-A5,3
NO-318939-B1,4
KR-960016337-B1,2
EP-2404994-B1,3
KR-100225083-B1,2
KR-100493829-B1,1
US-2664263-A,1
US-3259439-A,4
US-2040272-A,1
US-3773396-A,4
US-1407433-A,2
US-2480474-A,2
CA-636367-A,1
US-1635099-A,2
US-1900691-A,1
CA

2025-01-18 09:25:57 - root - INFO - itercount: 0
2025-01-18 09:25:57 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
**Relevant Tables and Columns:**

- **Table:** `PATENTS.PATENTS.PUBLICATIONS`

  - **"publication_number"**: Used to identify each patent uniquely; needed to find the specific patent with the highest originality.
  - **"country_code"**: To filter for U.S. patents (`"country_code" = 'US'`).
  - **"kind_code"**: To filter for patents with B2 classification (`"kind_code" = 'B2'`).
  - **"grant_date"**: To filter patents granted between 2015 and 2018 (`"grant_date" BETWEEN 20150101 AND 20181231`).
  - **"citation"**: A VARIANT column containing backward citations; used to extract cited patents.
  - **"ipc"**: A VARIANT column containing IPC codes of the patent; used to extract IPC codes.
  - **IPC codes of cited patents**: Necessary to calculate the originality score based on the diversity of IPC codes from backward citations.

**Conditions That May Be Used:**

- `"country_code" = 'US'`
- `"kind_code" = 'B2'`
- `"grant_date" BETWEEN 20150101 AND 20181231`


---

**SQL Queries:**

```sql
-- Query 1: List distinct country codes
SELECT DISTINCT "country_code"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
```

```sql
-- Query 2: List distinct kind codes
SELECT DISTINCT "kind_code"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
```

```sql
-- Query 3: Retrieve publication numbers and grant dates within the specified range
SELECT "publication_number", "grant_date"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE "grant_date" BETWEEN 20150101 AND 20181231
LIMIT 1000;
```

```sql
-- Query 4: Parse grant dates into date format
SELECT "grant_date", TRY_TO_DATE("grant_date"::TEXT, 'YYYYMMDD') AS "parsed_grant_date"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE("grant_date"::TEXT, 'YYYYMMDD') IS NOT NULL
LIMIT 1000;
```

```sql
-- Query 5: Explore the structure of the citation field
SELECT t."publication_number", f.value
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."citation") f
LIMIT 1000;
```

```sql
-- Query 6: Extract cited publication numbers from the citation field
SELECT t."publication_number", f.value:"publication_number"::STRING AS "cited_publication_number"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."citation") f
LIMIT 1000;
```

```sql
-- Query 7: Explore the structure of the ipc field
SELECT t."publication_number", f.value
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```

```sql
-- Query 8: Extract IPC codes from the ipc field
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```

```sql
-- Query 9: Extract the 4-digit IPC codes
SELECT t."publication_number", SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4_code"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```

```sql
-- Query 10: Count the number of IPC codes per patent
SELECT t."publication_number", COUNT(f.value:"code"::STRING) AS "ipc_code_count"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
GROUP BY t."publication_number"
LIMIT 1000;
```

---

These queries help to understand the structure and contents of the relevant columns in the `PATENTS.PATENTS.PUBLICATIONS` table:

1. **Query 1** and **Query 2** list the distinct values of `"country_code"` and `"kind_code"` to verify available codes.

2. **Query 3** and **Query 4** retrieve and parse the `"grant_date"` to ensure correct filtering by date.

3. **Queries 5** and **6** explore the `"citation"` field, showing how to extract cited publication numbers.

4. **Queries 7** and **8** explore the `"ipc"` field, showing how to extract IPC codes.

5. **Query 9** extracts the 4-digit IPC codes, which are needed to calculate the diversity for the originality score.

6. **Query 10** counts the number of IPC codes per patent, which might be useful to understand the breadth of classifications for each patent.

By running these queries, we can gain insights into how the data is structured and how to extract the necessary information to eventually compute the originality scores for the patents in question.Query:
-- Query 1: List distinct country codes
SELECT DISTINCT "country_code"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Answer:
country_code
DO
WO
BA
UA
MW
YU
ZM
LT
KR
RO
BG
TR
GR
CH
NO
MX
GE
EE
CZ
SV
HN
PA
EG
AU
CU
CR
PL
IT
CY
OA
GB
SG
CN
MC
JP
HU
DZ
AT
NL
CA
IS
SK
NI
IN
EC
ES
IE
EA
TN
GT
HK
CO
AR
SI
KE
IL
TW
MT
MD
JO
MA
ZA
EP
RS
PE
LU
DK
FI
BE
ZW
DD
DE
US
PH
SA
MN
FR
SU
BR
ID
KZ
HR
RU
SE
AP
ME
SM
NZ
PT
CL
LV
CS
MY
Query:
-- Query 2: List distinct kind codes
SELECT DISTINCT "kind_code"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Answer:
kind_code
C1
A1
P
B7
F1
P9
I1
T9
U9
B5
A4
A3
P1
C4
V0
D2
U8
B1
S
D1
U4
G2
T5
C3
A7
S2
Z2
R
U
T2
Y2
D
T
L
Z
E
D0
G
Y1
B
U2
C
B8
C0
T3
R1
B2
U5
B9
A0
A8
I2
A2
F2
A
B3
T4
C9
T8
U0
U1
V
A6
Y
A5
S1
U3
M
H1
Y8
B4
C2
C5
Q
H3
B6
A9
E2
T1
Y4
Query:
-- Query 3: Retrieve publication numbers and grant dates within the specified range
SELECT "publication_number", "grant_date"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE "grant_date" BETWEEN 20150101 AND 20181231
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,grant_date
AU-2009271785-B2,20150820
AU-2011340221-B2,20160303
AU-2011380292-B2,20150618
AU-2012216800-B2,20150702
AU-2012252127-B2,20150910
AU-2012319355-B2,20160609
AU-2013219820-B2,20150226
AU-2013257490-B2,20151105
AU-2013262076-B2,20171026
AU-2013330962-B2,20171019
AU-2014223296-B2,20170921
AU-2014225436-B2,20180510
AU-2014293246-B2,20170223
AU-2014340644-B2,20170202
AU-2015202438-B2,20170525
AU-2015203650-B2,20170406
AU-2015205903-B2,20170216
AU-2015261725-B2,20170105
AU-2015262930-B2,20181115
AU-2015301903-B2,20180208
AU-2015377754-B2,20181004
EP-1534807-B2,20160615
JP-5751771-B2,20150722
JP-5648409-B2,20150107
JP-5664130-B2,20150204
JP-5723137-B2,20150527
JP-5692903-B2,20150401
JP-5740978-B2,20150701
JP-5723617-B2,20150527
JP-5759737-B2,20150805
JP-5809816-B2,20151111
JP-5655645-B2,20150121
JP-5670805-B2,20150218
JP-5861907-B2,20160216
JP-5776930-B2,20150909
JP-5790140-B2,20151007
JP-5824873-B2,20151202
JP-5768520-B2,20150826
JP-5804808-B2,20151104
JP-5887744-B2,20160316
JP-6054019-B2,20161227
JP-5821581-B2,20151124
JP-6024866-B2,20161116
JP-5892782-B2,20160323
JP-5959851-B2,20160802
JP-5783041-B2,20150924
JP-5774982-B2,20150909
JP-5789192-B2,20151007
JP-5683483-B2,20150311
JP-5866129-B2,20160217
JP-5880124-B2,20160308
JP-5792668-B2,20151014
JP-6108516-B2,20170405
JP-5946675-B2,20160706
JP-5950661-B2,20160713
JP-6097020-B2,20170315
JP-6017197-B2,20161026
JP-6009244-B2,20161019
JP-5970260-B2,20160817
JP-6012295-B2,20161025
JP-6000001-B2,20160928
JP-6128774-B2,20170517
JP-6003381-B2,20161005
JP-6125171-B2,20170510
JP-6012338-B2,20161025
JP-6015245-B2,20161026
JP-5929642-B2,20160608
JP-5696114-B2,20150408
JP-5987625-B2,20160907
JP-6139863-B2,20170531
JP-5696126-B2,20150408
JP-5983378-B2,20160831
JP-5965831-B2,20160810
JP-5747020-B2,20150708
JP-6090834-B2,20170308
JP-5726165-B2,20150527
JP-5678030-B2,20150225
JP-5836949-B2,20151224
JP-5715162-B2,20150507
JP-5652479-B2,20150114
JP-6096518-B2,20170315
JP-5915569-B2,20160511
JP-6176651-B2,20170809
JP-6023612-B2,20161109
JP-6206790-B2,20171004
JP-6093601-B2,20170308
JP-6128911-B2,20170517
JP-5825283-B2,20151202
JP-6123415-B2,20170510
JP-6130720-B2,20170517
JP-5738923-B2,20150624
JP-6056658-B2,20170111
JP-6100099-B2,20170322
JP-6143579-B2,20170607
JP-6088922-B2,20170301
JP-6066846-B2,20170125
JP-5762478-B2,20150812
JP-6141133-B2,20170607
JP-5785591-B2,20150930
JP-5882265-B2,20160309
JP-5695713-B2,20150408
JP-6216199-B2,20171018
JP-5738960-B2,20150624
JP-5906231-B2,20160420
JP-6247925-B2,20171213
JP-6239972-B2,20171129
JP-5957445-B2,20160727
JP-5908463-B2,20160426
JP-5978209-B2,20160824
JP-6273145-B2,20180131
JP-5787381-B2,20150930
JP-6252187-B2,20171227
JP-6289118-B2,20180307
JP-6142809-B2,20170607
JP-6362005-B2,20180725
JP-6405103-B2,20181017
JP-6268479-B2,20180131
JP-6206307-B2,20171004
JP-5933623-B2,20160615
JP-5924366-B2,20160525
JP-6063897-B2,20170118
JP-5866403-B2,20160217
JP-6269305-B2,20180131
JP-6314680-B2,20180425
JP-6048455-B2,20161221
JP-6395036-B2,20180926
JP-6267605-B2,20180124
JP-5833203-B2,20151216
JP-6399395-B2,20181003
JP-5931164-B2,20160608
JP-5937182-B2,20160622
JP-6428211-B2,20181128
JP-6281480-B2,20180221
JP-6205342-B2,20170927
JP-5749866-B2,20150715
JP-6380802-B2,20180829
JP-6035355-B2,20161130
JP-6150827-B2,20170621
JP-6355053-B2,20180711
JP-6394453-B2,20180926
JP-5908139-B2,20160426
JP-6152883-B2,20170628
JP-6441183-B2,20181219
JP-6361982-B2,20180725
JP-6414006-B2,20181031
JP-6058103-B2,20170111
JP-6424803-B2,20181121
JP-6306559-B2,20180404
JP-6044707-B2,20161214
JP-5963947-B2,20160803
JP-5797356-B2,20151021
JP-6000454-B2,20160928
JP-6135882-B2,20170531
JP-6396928-B2,20180926
JP-6330831-B2,20180530
JP-6406284-B2,20181017
JP-6038368-B2,20161207
JP-6385380-B2,20180905
JP-6272386-B2,20180131
JP-6208838-B2,20171004
JP-6437984-B2,20181212
JP-6433973-B2,20181205
JP-6316934-B2,20180425
JP-6437523-B2,20181212
JP-6437544-B2,20181212
JP-6171104-B2,20170726
JP-6371399-B2,20180808
JP-6367355-B2,20180801
JP-6324557-B2,20180516
JP-6259955-B2,20180110
DE-102014016160-B3,20160218
DE-112004002783-B4,20150409
DE-102005040788-B4,20160504
DE-102007034734-B4,20180927
DE-102009014390-B4,20180628
DE-102011106746-B4,20150409
DE-102012025287-B4,20150430
DE-102012112322-B4,20151105
DE-102013018417-B4,20170223
DE-102014104439-B4,20181025
DE-102015003436-B4,20171026
DE-102016116919-B4,20180517
CN-104268684-B8,20180130
AU-2009302945-C1,20160421
AU-2012300852-C1,20180104
AU-2014277569-C1,20180823
RU-2546827-C1,20150410
RU-2550733-C1,20150510
RU-2571629-C1,20151220
RU-2562714-C1,20150910
RU-2577031-C1,20160310
RU-2577957-C1,20160320
RU-2641474-C1,20180117
RU-2611559-C1,20170228
RU-2622275-C1,20170613
RU-2673764-C1,20181129
RU-2648109-C1,20180322
RU-2564061-C2,20150927
RU-2556160-C2,20150710
RU-2541890-C2,20150220
RU-2566364-C2,20151027
RU-2599413-C2,20161010
RU-2628001-C2,20170814
RU-2628870-C2,20170822
RU-2630270-C2,20170906
RU-2645671-C2,20180227
RU-2651943-C2,20180424
AU-2009204645-B2,20160526
AU-2009298122-B2,20150115
AU-2010246351-B2,201607
Query:
-- Query 4: Parse grant dates into date format
SELECT "grant_date", TRY_TO_DATE("grant_date"::TEXT, 'YYYYMMDD') AS "parsed_grant_date"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE("grant_date"::TEXT, 'YYYYMMDD') IS NOT NULL
LIMIT 1000;
Answer:
Too long, hard cut:
grant_date,parsed_grant_date
19400611,1940-06-11
19460625,1946-06-25
19580513,1958-05-13
19370601,1937-06-01
19410812,1941-08-12
19580204,1958-02-04
18701227,1870-12-27
19401126,1940-11-26
19750722,1975-07-22
18920202,1892-02-02
19620227,1962-02-27
18601127,1860-11-27
19140630,1914-06-30
19571224,1957-12-24
19131223,1913-12-23
19400702,1940-07-02
19420113,1942-01-13
18911201,1891-12-01
19550906,1955-09-06
19120827,1912-08-27
19371109,1937-11-09
19751230,1975-12-30
19390404,1939-04-04
19580624,1958-06-24
19530908,1953-09-08
19571105,1957-11-05
19750708,1975-07-08
19121203,1912-12-03
19150223,1915-02-23
19450417,1945-04-17
19141110,1914-11-10
18920126,1892-01-26
19611205,1961-12-05
19461119,1946-11-19
19590825,1959-08-25
19610725,1961-07-25
19410415,1941-04-15
18701129,1870-11-29
19520325,1952-03-25
19571015,1957-10-15
19640609,1964-06-09
18920308,1892-03-08
19620417,1962-04-17
18780827,1878-08-27
19511030,1951-10-30
19590120,1959-01-20
19120305,1912-03-05
19400430,1940-04-30
19751230,1975-12-30
19600621,1960-06-21
19650518,1965-05-18
19650518,1965-05-18
19530623,1953-06-23
19510313,1951-03-13
19430323,1943-03-23
19540907,1954-09-07
19611003,1961-10-03
18840722,1884-07-22
18800914,1880-09-14
19070611,1907-06-11
19130826,1913-08-26
19131230,1913-12-30
19090413,1909-04-13
19510918,1951-09-18
19530609,1953-06-09
19140519,1914-05-19
19541130,1954-11-30
19600607,1960-06-07
19620731,1962-07-31
19360526,1936-05-26
19081117,1908-11-17
19140421,1914-04-21
19570416,1957-04-16
19140324,1914-03-24
18910714,1891-07-14
19451127,1945-11-27
19131230,1913-12-30
19090525,1909-05-25
18700809,1870-08-09
18811011,1881-10-11
19530512,1953-05-12
19560731,1956-07-31
19130218,1913-02-18
19420210,1942-02-10
19080901,1908-09-01
18640705,1864-07-05
18700510,1870-05-10
19071210,1907-12-10
19080602,1908-06-02
19430914,1943-09-14
19431026,1943-10-26
19060911,1906-09-11
19571029,1957-10-29
19071119,1907-11-19
19380201,1938-02-01
19550712,1955-07-12
18820530,1882-05-30
19580304,1958-03-04
19570212,1957-02-12
19660531,1966-05-31
19120102,1912-01-02
18690706,1869-07-06
19130617,1913-06-17
19421027,1942-10-27
19150713,1915-07-13
19560508,1956-05-08
19141027,1914-10-27
19531013,1953-10-13
19491108,1949-11-08
19531027,1953-10-27
19600726,1960-07-26
19620515,1962-05-15
19411223,1941-12-23
19150420,1915-04-20
19571015,1957-10-15
19600712,1960-07-12
19150824,1915-08-24
19370622,1937-06-22
18740127,1874-01-27
19090601,1909-06-01
19720627,1972-06-27
19150119,1915-01-19
19061106,1906-11-06
18810125,1881-01-25
19540330,1954-03-30
18840422,1884-04-22
19601129,1960-11-29
18960428,1896-04-28
19591110,1959-11-10
19391107,1939-11-07
19500815,1950-08-15
19170619,1917-06-19
19200511,1920-05-11
19390905,1939-09-05
19700915,1970-09-15
19410527,1941-05-27
18721224,1872-12-24
19311117,1931-11-17
19580415,1958-04-15
19621211,1962-12-11
19391121,1939-11-21
18850519,1885-05-19
19660125,1966-01-25
19391010,1939-10-10
18790429,1879-04-29
19280710,1928-07-10
19490208,1949-02-08
19511204,1951-12-04
19541012,1954-10-12
19641103,1964-11-03
19390103,1939-01-03
19171009,1917-10-09
19140714,1914-07-14
19450605,1945-06-05
19610110,1961-01-10
19150511,1915-05-11
19581125,1958-11-25
19381220,1938-12-20
19611212,1961-12-12
19740820,1974-08-20
19250901,1925-09-01
19591201,1959-12-01
19540223,1954-02-23
19590203,1959-02-03
19570618,1957-06-18
19591201,1959-12-01
18850707,1885-07-07
19700818,1970-08-18
19510612,1951-06-12
19500808,1950-08-08
19690603,1969-06-03
19700303,1970-03-03
19510605,1951-06-05
19520527,1952-05-27
19590512,1959-05-12
19620320,1962-03-20
18850519,1885-05-19
19390411,1939-04-11
19410902,1941-09-02
19230220,1923-02-20
18781203,1878-12-03
19460827,1946-08-27
19311020,1931-10-20
19180820,1918-08-20
19660419,1966-04-19
19661220,1966-12-20
19390411,1939-04-11
19720111,1972-01-11
19321101,1932-11-01
18890528,1889-05-28
19560717,1956-07-17
19520212,1952-02-12
19740716,1974-07-16
18580810,1858-08-10
19640428,1964-04-28
19140630,1914-06-30
18950430,1895-04-30
19621106,1962-11-06
19680507,1968-05-07
19720926,1972-09-26
19650803,1965-08-03
19521104,1952-11-04
19720815,1972-08-15
19411202,1941-12-02
19070416,1907-04-16
19690408,1969-04-08
19720201,1972-02-01
19590630,1959-06-30
19070917,1907-09-17
19721121,1972-11-21
19460730,1946-07-30
19380816,1938-08-16
19480615,1948-06-15
19680903,1968-09-03
19600614,1960-06-14
19431228,1943-12-28
19220822,1922-08-22
19681105,1968-11-05
19320503,1932-05-03
19330815,1933-08-15
19480928,1948-09-28
19720516,1972-05-16
19450116,1945-01-16
18740407,1874-04-07
18850714,1885-07-14
19741119,1974-11-19
19371026,1937-10-26
18840729,1884-07-29
19751007,1975-10-07
19130408,1913-04-08
19130603,1913-06-03
19510403,1951-04-03
19600209,1960-02-09
19640804,1964-08-04
19140106,1914-01-06
19401119,1940-11-19
19141215,1914-12-15
18900520,1890-05-20
18790408,1879-04-08
19580701,1958-07-01
19530901,1953-09-01
19750722,1975-07-22
19070827,1907-08-27
19530224,1953-02-24
19530224,1953-02-24
19430119,1943-01-19
19510417,1951-04-17
19540223,1954-02-23
19590922,19
Query:
-- Query 5: Explore the structure of the citation field
SELECT t."publication_number", f.value
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."citation") f
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,VALUE
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-5077671-A"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2011246000-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2014350780-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2015227647-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2018155052-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2019130767-A1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-10703508-B1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-11042673-B1"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-11080381-B2"",
  ""type"": """"
}"
US-2020348350-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": ""Qin, \""Real-time downloading and analysis of QAR data using Air-to-Ground wireless communication\"", 2019, IEEE (Year: 2019)"",
  ""publication_number"": """",
  ""type"": """"
}"
US-2020259944-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-8077029-B1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2007019383-A1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2008093458-A1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2014028292-A1"",
  ""type"": """"
}"
US-2020356150-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2017187310-A1"",
  ""type"": """"
}"
US-2020292730-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2006286147-A1"",
  ""type"": """"
}"
US-2020292730-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2010314591-A1"",
  ""type"": """"
}"
US-2020360606-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2003114836-A1"",
  ""type"": """"
}"
US-2020360606-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2005022274-A1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-6492619-B1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-6559419-B1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-6734396-B2"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-7223940-B2"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-7731373-B2"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2016006911-A1"",
  ""type"": """"
}"
US-2020389945-A1,"{
  ""application_number"": """",
  ""category"": ""SEA"",
  ""filing_date"": 0,
  ""npl_text"": """",
  ""publication_number"": ""US-2016119509-A1"",

Query:
-- Query 6: Extract cited publication numbers from the citation field
SELECT t."publication_number", f.value:"publication_number"::STRING AS "cited_publication_number"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."citation") f
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,cited_publication_number
US-2021025526-A1,US-617484-A
US-2021025526-A1,JP-S5896515-A
US-2021025526-A1,DE-3641632-A1
US-2021025526-A1,EP-1798429-A1
US-2021025526-A1,US-7452156-B2
US-2021025526-A1,US-8157469-B2
US-2021066882-A1,US-6369451-B2
US-2021066882-A1,US-6396082-B1
US-2021066882-A1,US-6436331-B1
US-2021066882-A1,US-2002127771-A1
US-2021066882-A1,US-6571466-B1
US-2021066882-A1,US-6674159-B1
US-2021066882-A1,US-7109061-B2
US-2021066882-A1,US-7213739-B2
US-2021066882-A1,US-7239767-B2
US-2021066882-A1,US-7443038-B2
US-2021066882-A1,US-7471282-B2
US-2021066882-A1,US-2009180732-A1
US-2021066882-A1,US-7656042-B2
US-2021066882-A1,US-7829992-B2
US-2021066882-A1,US-8158888-B2
US-2021066882-A1,US-8357565-B2
US-2021066882-A1,US-9627346-B2
US-2021066882-A1,US-9761542-B1
US-2021066882-A1,US-9837292-B2
US-2020033102-A1,US-4483251-A
US-2020033102-A1,US-10041770-B2
US-2021072457-A1,US-6942374-B2
US-2021072457-A1,US-7364341-B2
US-2021072457-A1,US-7866871-B2
US-2021072457-A1,US-7876489-B2
US-2021072457-A1,US-2011085107-A1
US-2021072457-A1,US-2011110091-A1
US-2021072457-A1,US-2011203147-A1
US-2021072457-A1,US-2011285296-A1
US-2021072457-A1,US-2012015157-A1
US-2021072457-A1,US-8262274-B2
US-2021072457-A1,US-2012268687-A1
US-2021072457-A1,US-8475026-B2
US-2021072457-A1,US-2014111862-A1
US-2021072457-A1,US-8858055-B2
US-2021072457-A1,US-9052431-B2
US-2021072457-A1,US-2016282978-A1
US-2021072457-A1,US-2018208111-A1
US-2021072457-A1,US-2018306730-A1
US-2021072457-A1,US-10132989-B2
US-2021072457-A1,US-2020079050-A1
US-2020117042-A1,US-2010055353-A1
US-2020117042-A1,US-9224984-B2
US-2020117042-A1,US-2016178810-A1
US-2020117042-A1,US-10522600-B2
US-2020021543-A1,US-2005055413-A1
US-2020021543-A1,US-2009307317-A1
US-2020021543-A1,US-2013232206-A1
US-2020021543-A1,US-2014237055-A1
US-2020022844-A1,US-4366169-A
US-2020022844-A1,US-4568327-A
US-2020022844-A1,US-2001018072-A1
US-2020022844-A1,US-2001037810-A1
US-2020022844-A1,US-6458109-B1
US-2020022844-A1,US-2003144619-A1
US-2020022844-A1,US-7048951-B1
US-2020022844-A1,US-7629384-B2
US-2020052202-A1,US-2004114413-A1
US-2020052202-A1,US-2010037822-A1
US-2020052202-A1,US-2012171874-A1
US-2020052202-A1,US-2014356549-A1
US-2020052202-A1,US-9343317-B2
US-2020139957-A1,US-2015369153-A1
US-2020139957-A1,US-2018106206-A1
US-2020139957-A1,US-2018126979-A1
US-2020139957-A1,US-2018216552-A1
US-2020139957-A1,US-2018283301-A1
US-2020139957-A1,US-2019078524-A1
US-2020139957-A1,US-2019390620-A1
US-2020139957-A1,US-2020088119-A1
US-2020139957-A1,US-2021079860-A1
US-2020323642-A1,US-2008208344-A1
US-2020323642-A1,US-2012004729-A1
US-2020323642-A1,US-8157842-B2
US-2020235727-A1,US-6333665-B1
US-2021178608-A1,US-4875275-A
US-2021178608-A1,US-4980963-A
US-2021178608-A1,US-5372567-A
US-2021178608-A1,GB-2292365-A
US-2021178608-A1,US-2010062919-A1
US-2021178608-A1,US-8360377-B2
US-2021178608-A1,US-2014363223-A1
US-2021178608-A1,WO-2015074710-A1
US-2021178608-A1,US-2018304475-A1
US-2020128826-A1,US-2007269473-A1
US-2020128826-A1,US-2011059144-A1
US-2020128826-A1,US-2014017287-A1
US-2020128826-A1,WO-2014118240-A1
US-2022388959-A1,US-2004063953-A1
US-2022388959-A1,US-2010234395-A1
US-2021053417-A1,US-5838483-A
US-2021053417-A1,US-7990603-B2
US-2021053417-A1,
US-2021053417-A1,
US-2021053417-A1,
US-2021038591-A1,WO-2009021163-A2
US-2021025791-A1,US-4798095-A
US-2021025791-A1,US-4982553-A
US-2021025791-A1,US-5366896-A
US-2021025791-A1,US-5479969-A
US-2021025791-A1,US-5800777-A
US-2021025791-A1,US-5817032-A
US-2021025791-A1,US-5985214-A
US-2021025791-A1,US-6060022-A
US-2021025791-A1,US-6253807-B1
US-2021025791-A1,US-6290907-B1
US-2021025791-A1,US-2001048899-A1
US-2021025791-A1,US-2002090320-A1
US-2021025791-A1,US-2002108857-A1
US-2021025791-A1,US-2003059347-A1
US-2021025791-A1,US-2003099573-A1
IT-MI20100845-A1,US-1654188-A
IT-MI20100845-A1,US-2506292-A
IT-MI20100845-A1,DE-4307918-A1
IT-MI20100845-A1,DE-19810417-A1
IT-MI20100845-A1,WO-2008068591-A2
IT-VI20090183-A1,CH-326215-A
IT-VI20090183-A1,US-5134380-A
IT-VI20090183-A1,US-5216409-A
IT-VI20090183-A1,US-5736637-A
IT-VI20090183-A1,EP-1411348-A1
IT-TO20100206-A1,DE-1580149-A1
IT-TO20100206-A1,DE-10252996-A1
IT-TO20100206-A1,FR-2865440-A1
IT-TO20100206-A1,DE-102004046678-A1
IT-TO20100206-A1,FR-2895705-A1
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-PZ20150004-A1,
IT-UA20161603-A1,AU-551882-B2
IT-UA20161603-A1,EP-1881576-A1
IT-UA20161603-A1,GB-2465609-A
IT-UA20161603-A1,US-2013029541-A1
IT-UA20161603-A1,DE-102013101120-A1
IT-UA20161603-A1,US-2015200530-A1
IT-BO20080517-A1,DE-3030931-A1
IT-BO20080517-A1,US-5467567-A
IT-BO20080517-A1,US-5572847-A
IT-BO20080517-A1,EP-0744497-A1
IT-BO20080517-A1,DE-19732904-A1
IT-BO20080517-A1,EP-1072726-A1
IT-BO20080731-A1,FR-2781409-A1
IT-BO20080731-A1,US-2002158357-A1
IT-UB20160960-A1,US-6481795-B1
IT-UB20160960-A1,US-2009230743-A1
IT-UB20160960-A1,EP-2653196-A2
IT-UB20160960-A1,WO-2014085732-A1
IT-TO20090280-A1,DE-1238299-B
IT-TO20090280-A1,US-3358522-A
IT-TO20090280-A1,US-5083984-A
I
Query:
-- Query 7: Explore the structure of the ipc field
SELECT t."publication_number", f.value
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,VALUE
US-2022245697-A1,"{
  ""code"": ""G06F16/903"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F40/247"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06Q30/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F16/9035"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B1/267"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B90/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61M25/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B5/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/355"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/352"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/15"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/22"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W24/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/27"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/08"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/30"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/15"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""C12G3/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/262"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/256"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L17/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N1/40"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N21/64"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0525"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0567"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0569"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0568"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M4/58"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""G06K9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/09"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W40/105"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/18"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W10/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/513"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/188"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M16/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/03"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/463"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/148"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N59/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/61"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N43/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"

Query:
-- Query 8: Extract IPC codes from the ipc field
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-2019386123-A1,H01L29/732
US-2019386123-A1,H01L23/66
US-2019386123-A1,H01L29/66
US-2019386123-A1,H01L29/205
US-2019386123-A1,H01L29/165
US-2019386123-A1,H01L29/73
US-2019386123-A1,H01L29/36
US-2019386123-A1,H01L29/08
US-2019386123-A1,H01L29/737
US-2019120553-A1,F26B15/12
US-2019120553-A1,F26B25/00
US-2020198027-A1,B23C5/22
US-2019137145-A1,H04B1/3888
US-2019137145-A1,H04M1/18
US-2019137145-A1,F24V30/00
US-2019137145-A1,G06F1/16
US-2019307110-A1,F21V31/00
US-2019307110-A1,H05B37/02
US-2019307110-A1,F21L4/08
US-2019307110-A1,A01K85/01
US-2019307110-A1,F21V33/00
US-2019307110-A1,F21V3/06
US-2019307110-A1,H05B44/00
US-2019310842-A1,H04L12/24
US-2019310842-A1,G06F8/65
US-2019310842-A1,G06F8/654
US-2019310842-A1,G06F8/61
US-2019310842-A1,G06F8/71
US-2019215233-A1,H04L12/24
US-2019215233-A1,H04L12/40
US-2019156651-A1,G16H40/63
US-2019156651-A1,A61B5/00
US-2019156651-A1,G08B21/24
US-2019156651-A1,A61B5/145
US-2019224509-A1,A62C37/36
US-2019224509-A1,G05B19/042
US-2020229416-A1,A01K97/01
US-2020229416-A1,A01K93/00
US-2019158596-A1,H04L29/08
US-2019245751-A1,H04Q11/00
US-2019245751-A1,H04L12/44
US-2019245751-A1,H04L49/111
US-2019245751-A1,H04L45/122
US-2020185880-A1,G01N21/39
US-2020185880-A1,H01S5/068
US-2020185880-A1,H01S5/022
US-2020251177-A1,H05K5/02
US-2020251177-A1,H05K7/18
US-2020251177-A1,G12B9/10
US-2019242715-A1,G01C21/34
US-2019242715-A1,G05D1/02
US-2019242715-A1,G01C21/36
US-2019242715-A1,G05D1/00
US-2019254081-A1,H04W74/08
US-2019254081-A1,H04L1/16
US-2019254081-A1,H04W76/11
US-2019254081-A1,H04L5/14
US-2019254081-A1,H04L5/00
US-2019254081-A1,H04W72/04
US-2019305700-A1,H02P25/089
US-2019305700-A1,G01R27/26
US-2019305700-A1,H02P6/182
US-2019169580-A1,C12N9/10
US-2019291557-A1,B60K1/04
US-2019264852-A1,F16L37/18
US-2020280587-A1,H04L45/42
US-2019267164-A1,H01Q1/36
US-2019267164-A1,H01F1/01
US-2019267164-A1,H01F1/36
US-2019267164-A1,C04B35/26
US-2019267164-A1,H01Q7/06
US-2019267164-A1,H01F1/34
US-2020287086-A1,H01L33/32
US-2020287086-A1,H01L31/102
US-2020287086-A1,H01L31/0352
US-2020287086-A1,H01L31/0304
US-2020287086-A1,H01L33/06
US-2019194351-A1,G01N33/573
US-2019194351-A1,C07K16/36
US-2019362101-A1,G06F16/951
US-2019362101-A1,G06F16/9535
US-2019362101-A1,G06F21/62
US-2019362101-A1,H04L29/06
US-2019298878-A1,A61L9/14
US-2019298878-A1,A61L9/01
US-2019246076-A1,G01P15/18
US-2019246076-A1,G06K9/00
US-2019246076-A1,H04N7/18
US-2019246076-A1,B60Q9/00
US-2019246076-A1,B60W40/076
US-2019157622-A1,H01L33/60
US-2019157622-A1,H01L33/32
US-2019157622-A1,G02B5/30
US-2019157622-A1,H01L51/52
US-2019316048-A1,C10G35/095
US-2019316048-A1,C10G11/05
US-2019316048-A1,C10G7/00
US-2019316048-A1,C10G63/04
US-2019287241-A1,A61B6/00
US-2019287241-A1,G06T7/00
US-2019287241-A1,G16H30/40
US-2019287241-A1,G06T7/73
US-2021220734-A1,A63F13/22
US-2021220734-A1,A63F13/42
US-2021220734-A1,G06F3/0338
US-2021220734-A1,A63F13/5255
US-2021288381-A1,H01M50/454
US-2021288381-A1,H01M50/491
US-2021288381-A1,H01M50/449
US-2021288381-A1,H01M50/44
US-2021288381-A1,H01M50/434
US-2021288381-A1,H01M50/423
US-2021288381-A1,H01M50/403
US-2021288381-A1,H01M50/417
US-2021288381-A1,H01M50/457
US-2021288381-A1,H01M50/451
US-2021288381-A1,H01M50/426
US-2021288381-A1,H01M50/42
US-2021288381-A1,H01M50/414
US-2021279534-A1,G06K15/02
US-2019281686-A1,F24F11/58
US-2019281686-A1,F24F11/63
US-2019281686-A1,H04L12/28
US-2019281686-A1,H05B37/02
US-2019211485-A1,D04H1/732
US-2019211485-A1,D04H1/54
US-2019211485-A1,D04H1/4234
US-2020032083-A1,B32B27/40
US-2020032083-A1,C09D7/40
US-2020032083-A1,C09D175/04
US-2020032083-A1,B32B27/22
US-2020032083-A1,B32B27/20
US-2020032083-A1,C09D7/61
US-2020032083-A1,E04F15/10
US-2020032083-A1,B32B7/04
US-2020046698-A1,A61K31/505
US-2020046698-A1,A61K31/55
US-2020046698-A1,A61P35/00
US-2020289344-A1,A45C11/00
US-2020289344-A1,A61J1/03
US-2020289344-A1,A61F13/551
US-2020289344-A1,A61F13/472
US-2020289344-A1,A45C13/10
US-2020289344-A1,A45F3/02
US-2020289344-A1,A61F13/20
US-2020296001-A1,H04L45/28
US-2020296001-A1,H04L45/02
US-2020296001-A1,H04L12/44
US-2019284445-A1,C09J7/20
US-2019284445-A1,G11B5/012
US-2019284445-A1,G11B21/10
US-2019284445-A1,C09J7/38
US-2019239634-A1,A46B9/04
US-2019239634-A1,A46B5/02
US-2019239634-A1,A46B15/00
US-2019239634-A1,A46B5/00
US-2019323219-A1,E03D3/12
US-2019249135-A1,C12N5/071
US-2019249135-A1,C12N5/095
US-2019249135-A1,C12N5/00
US-2019249150-A1,B01J20/28
US-2019249150-A1,B01J20/32
US-2019249150-A1,B01D61/14
US-2019249150-A1,A61L2/00
US-2019249150-A1,B01D67/00
US-2019249150-A1,B01J20/26
US-2019249150-A1,C12N7/00
US-2019265968-A1,G06F21/56
US-2019265968-A1,G06F8/656
US-2020369198-A1,B60R9/06
US-2020369198-A1,B62D33/023
US-2020369198-A1,B60P7/08
US-2020259178-A1,H01M4/133
US-2020259178-A1,H01G11/34
US-2020259178-A1,H01M4/583
US-2020259178-A1,H01G11/44
US-2020259178-A1,H01G11/24
US-2020259178-A1,H01M10/06
US-2020259178-A1,H01M10/0525
US-2020259178-A1,H01M12/06
US-2020259178-A1,C01B32/30
US-2020259178-A1,C01B32/336
US-2020259178-A1,H01M2/16
US-2020259178-A1,H01M4/14
US-2020259178-
Query:
-- Query 9: Extract the 4-digit IPC codes
SELECT t."publication_number", SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4_code"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc4_code
DE-69427315-T2,C08J
DE-69427315-T2,C08L
DE-69611147-T2,E05B
DE-69611147-T2,E05B
DE-69614271-T2,A61K
DE-69614271-T2,C12N
DE-69614271-T2,C12Q
DE-69614271-T2,C07K
DE-69614271-T2,C12N
DE-69614271-T2,G01N
DE-69614271-T2,C12N
DE-69614271-T2,C07K
DE-69614271-T2,C12N
DE-69614271-T2,G01N
DE-69614271-T2,C12N
DE-69614271-T2,G01N
DE-69614271-T2,C12N
DE-69614271-T2,C12N
DE-69614271-T2,A61K
DE-69614271-T2,C12P
DE-69630331-T2,H04L
DE-69630331-T2,G06F
DE-69636755-T2,C12N
DE-69636755-T2,G01N
DE-69636755-T2,C12R
DE-69636755-T2,C12N
DE-69636755-T2,C12N
DE-69636755-T2,A61K
DE-69636755-T2,G01N
DE-69636755-T2,C12Q
DE-69636755-T2,C12N
DE-69728658-T2,B32B
DE-69728658-T2,B41C
DE-69728658-T2,B41N
DE-69728658-T2,B41N
DE-69728658-T2,B32B
DE-69728658-T2,B32B
DE-69807539-T2,G01N
DE-69807539-T2,G01N
DE-69807539-T2,G01N
DE-69832203-T2,A61B
DE-69832203-T2,A61B
HU-E042779-T2,F28B
HU-E042779-T2,F28C
HU-E039475-T2,E02D
HU-E039475-T2,F28F
HU-E045258-T2,H04L
HU-E032026-T2,B41J
HU-E032026-T2,B41J
HU-E059707-T2,B01D
HU-E059707-T2,B01D
HU-E062821-T2,G01N
HU-E062821-T2,A61B
HU-E062821-T2,A61F
TR-200000810-T2,C08L
TR-200000810-T2,C08L
TR-200000810-T2,C08L
TR-200000810-T2,C08J
TR-200000810-T2,C08J
TR-200000810-T2,C08K
TR-200000810-T2,C08F
TR-200000810-T2,C08K
TR-200000810-T2,C08J
DE-602004001511-T2,E05D
DK-1861705-T3,C12Q
DK-1861705-T3,G01N
DK-2101612-T3,A47C
DK-2101612-T3,A47C
DK-2579875-T3,A61P
DK-2579875-T3,A61P
DK-2579875-T3,A61K
DK-2579875-T3,A61K
DK-2579875-T3,A61K
DK-2579875-T3,A61K
DK-2692719-T3,C07H
DK-2692719-T3,C07C
DK-2692719-T3,C07C
DK-2692719-T3,C07C
DK-2692719-T3,A61Q
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61P
DK-2692719-T3,A61K
DK-2692719-T3,A61K
DK-2692719-T3,A23L
DK-2817131-T3,C08J
DK-2817131-T3,B29B
DK-3592973-T3,F03D
DK-3592973-T3,B66C
DK-3592973-T3,B66C
DK-3617419-T3,E04F
DK-3566308-T3,H03K
DK-3566308-T3,B06B
DK-0474188-T3,C07C
DK-0474188-T3,C07B
DK-0474188-T3,C07C
DK-0474188-T3,B01J
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0474188-T3,C07C
DK-0453366-T3,C09K
DK-0453366-T3,C09K
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0817408-T3,H03M
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0817408-T3,H04B
DK-0955950-T3,A61F
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A61K
DK-0912092-T3,A01N
DK-0912092-T3,A01N
DK-0912092-T3,A01P
DK-0912092-T3,A01P
DK-1000046-T3,A61P
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,A61K
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,C07D
DK-1000046-T3,A61P
DK-1000046-T3,A61K
DK-1000046-T3,C07D
DK-1000046-T3,A61P
DK-1181065-T3,A61M
ES-2195954-T3,B22D
ES-2195954-T3,F27D
ES-2195954-T3,F27B
ES-2195954-T3,F27D
ES-2195954-T3,B22D
ES-2195954-T3,F27B
ES-2280285-T3,B21B
ES-2280285-T3,B65H
ES-2280285-T3,B21B
ES-2280285-T3,B65H
ES-2280285-T3,B65G
ES-2280285-T3,B23K
ES-2280285-T3,F16C
ES-2280285-T3,G01B
ES-2262816-T3,F16K
ES-2262816-T3,F16K
ES-2351969-T3,A23G
ES-2351969-T3,A23G
ES-2351969-T3,A23G
ES-2387567-T3,B41F
ES-2387567-T3,B41F
ES-2387567-T3,B41F
ES-2387567-T3,B41F
ES-2350646-T3,G06K
ES-2337290-T3,B29C
ES-2337290-T3,G05D
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61K
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,C07D
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,C07D
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61K
ES-2369837-T3,A61K
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,A61P
ES-2369837-T3,C07D
ES-2369837-T3,C07D
ES-2369837-T3,C07D
ES-2369837-T3,C07D
ES-2394656-T3,A23C
ES-2363939-T3,H04L
ES-2677325-T3,H04W
ES-2677325-T3,H04W
ES-2677325-T3,H04W
ES-2677325-T3,H04W
ES-2395233-T3,A21D
ES-2395233-T3,A21D
ES-2395233-T3,A23G
ES-2596889-T3,A61B
ES-2596889-T3,A61B
ES-2713511-T3,B61D
ES-2713511-T3,B61D
ES-2713511-T3,B61D
ES-2582608-T3,C12N
ES-2582608-T3,C11D
ES-2536325-T3,H02H
ES-2536325-T3,H01H
ES-2536325-T3,H01H
ES-2585338-T3,A61F
ES-2585338-T3,A61F
ES-2903419-T3,A61K
ES-2903419-T3,A61P
ES-2903419-T3,A61P
ES-2903419-T3,A61K
ES-2903419-T3,A61K
ES-2822205-T3,G05B
ES-2820348-T3,C22C
ES-2820348-T3,C21D
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C22C
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C23C
ES-2820348-T3,C22C
ES-2820348-T3,C23C
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C21D
ES-2820348-T3,C22C
ES-2820348-T3,C22C
ES-2820348-T3,C23C
ES-2820348-T3,C22C
ES-2
Query:
-- Query 10: Count the number of IPC codes per patent
SELECT t."publication_number", COUNT(f.value:"code"::STRING) AS "ipc_code_count"
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
GROUP BY t."publication_number"
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code_count
US-2007103939-A1,1
US-2010025717-A1,7
US-2016358198-A1,1
US-2016004738-A1,1
US-2006069023-A1,3
US-2008246626-A1,1
US-2008142788-A1,4
US-2008251677-A1,2
US-2009304405-A1,1
US-2011255290-A1,2
US-2016050179-A1,2
US-11882594-B2,3
US-11905336-B2,5
JP-3197608-B2,9
JP-H0154139-B2,3
JP-3155733-B2,3
JP-3704472-B2,1
JP-H0473950-B2,1
AU-2019213367-B2,1
JP-4048886-B2,2
JP-4597553-B2,7
JP-4019099-B2,3
JP-4606421-B2,1
JP-4983369-B2,5
JP-4819749-B2,1
JP-5335548-B2,1
JP-5946675-B2,4
JP-6399395-B2,3
JP-6798759-B2,1
JP-7114135-B2,2
JP-6923416-B6,3
AU-2015256603-B9,1
RU-2305201-C1,1
JP-6150827-B2,4
JP-7223619-B2,1
DK-0412867-T3,5
ES-2606483-T3,1
JP-S4919562-Y1,2
KR-200363136-Y1,1
JP-H078916-Y2,3
JP-2598501-B2,4
JP-5652479-B2,8
JP-6771179-B2,3
JP-7283421-B2,1
DE-102006058122-B3,1
DE-102012008165-B3,3
SE-504689-C2,3
RU-20948-U1,1
JP-H0117956-Y2,3
JP-5759737-B2,4
US-2020082292-A1,6
US-2020402601-A1,2
US-2021038882-A1,2
US-2023117425-A1,36
US-2023271240-A1,3
US-2024139620-A1,3
AU-2003289488-A1,1
EP-0990514-A1,1
DE-102004010285-A1,4
DE-102016213940-A1,1
WO-2023237029-A1,1
WO-2019054361-A1,1
WO-2024166375-A1,2
WO-2022004869-A1,8
WO-2014007956-A1,3
EP-2209655-A2,2
WO-2019232203-A2,1
WO-2011037409-A3,5
DE-112018003760-A5,4
DE-102020114079-A1,1
WO-2022184594-A1,2
CS-84992-A3,12
US-2023415708-A1,2
PL-324009-A1,9
AU-2003292596-A1,3
DE-2460286-A1,3
EP-0558348-A1,9
EP-3488542-A1,1
EP-1403066-A1,5
EP-1889759-A1,6
EP-3499327-A1,1
JP-WO2004080010-A1,6
DE-102004015327-A1,6
WO-2024002045-A1,3
WO-2023108175-A1,7
BR-PI0816964-A2,2
PL-218017-A2,3
EP-2181951-A2,2
WO-2017160556-A1,2
DD-284418-A5,3
FR-2466932-B1,3
AU-2003303958-A8,1
US-11233500-B1,5
KR-100361832-B1,1
KR-100459994-B1,1
KR-100653159-B1,4
KR-101071620-B1,2
KR-101824619-B1,3
KR-101554816-B1,3
KR-101533547-B1,3
KR-101798955-B1,2
KR-101722046-B1,2
KR-102543182-B1,2
KR-101873778-B1,3
KR-102165783-B1,9
AU-752562-B2,3
JP-S5232570-B2,3
JP-S6227703-B2,3
JP-H0244030-B2,5
US-7964868-B2,4
US-8527133-B2,2
US-6256504-B1,3
EP-3569843-B1,1
KR-100605854-B1,1
KR-100826217-B1,4
KR-102109478-B1,3
KR-100839286-B1,6
US-8500209-B2,1
US-2006162019-A1,6
US-2007115483-A1,1
US-2008214959-A1,1
US-2008237040-A1,1
US-2007229359-A1,5
US-2010298018-A1,2
US-2015244938-A1,4
US-2017169190-A1,3
IN-2014DN05896-A,2
LT-IP887-A,8
US-2900155-A,1
SG-11202109510Y-A,6
US-2138577-A,1
US-2780353-A,4
FR-1025413-A,1
US-3897273-A,2
US-2474586-A,1
CA-821982-A,1
BE-618622-A,3
CA-1132947-A,4
BE-603547-A,4
AU-2286088-A,6
AU-6517786-A,1
AU-6885498-A,1
AU-7314796-A,2
BR-9906052-A,2
GB-2363458-A,1
GB-277437-A,1
JP-S56121479-A,1
JP-S53119161-A,1
JP-S52118173-A,1
JP-S58172915-A,2
JP-H08226678-A,1
JP-H07242008-A,4
JP-S63233289-A,1
JP-S55160047-A,13
JP-S517338-A,2
US-4008264-A,4
US-4322373-A,15
US-5353125-A,4
US-5947495-A,6
JP-H03253113-A,1
JP-S4967727-A,1
JP-S5751917-A,2
JP-H11354547-A,1
JP-S6222434-A,5
JP-H087387-A,2
JP-H0820314-A,3
JP-H0671570-A,5
JP-S6087007-A,1
JP-H05344826-A,1
JP-2001031139-A,2
JP-S6476028-A,3
JP-H0194682-A,1
JP-H05122146-A,3
US-2024074930-A1,2
US-2023115754-A1,4
US-2024081641-A1,2
AT-522845-A1,4
AU-2022207920-A1,3
CL-2012000108-A1,3
DE-2649304-A1,2
JP-WO2011024505-A1,1
JP-WO2020152906-A1,1
DE-102007026947-A1,2
DE-102015100896-A1,1
AU-2018417177-A1,3
WO-2018218838-A1,1
WO-2019206017-A1,1
BR-PI0916072-A2,2
SU-1726344-A2,1
BR-112021008415-A2,1
AU-2003225160-A8,5
PL-241961-B1,3
KR-100301998-B1,3
KR-101069214-B1,9
KR-100956962-B1,4
KR-101750448-B1,5
KR-101696846-B1,6
KR-101924153-B1,1
KR-102232519-B1,3
KR-102295488-B1,2
BR-112016018021-B1,1
JP-2755550-B2,5
US-8570253-B2,2
AU-7652294-A,1
BR-9602408-A,4
JP-H0575780-A,4
DE-102008027618-A1,5
DE-102023003161-A1,2
WO-2019090536-A1,1
WO-2015162523-A1,4
BR-PI1006055-A2,3
WO-2010088414-A2,5
DK-168046-B1,5
PL-107411-B1,2
JP-6773345-B1,2
KR-101169010-B1,4
KR-102339428-B1,3
KR-102571031-B1,1
JP-S584248-B2,1
JP-S649924-B2,10
US-6732644-B2,3
US-7501408-B2,23
US-7815497-B2,1
US-2016380415-A1,2
US-2016332058-A1,5
US-2018311153-A1,3
ES-2262816-T3,2
DE-112019002699-T5,5
IT-PN950036-U1,1
IT-UD960009-V0,1
KR-200396792-Y1,3
JP-H0623864-Y2,1
JP-S5243376-Y2,1
JP-S4124905-Y1,3
KR-200149974-Y1,1
JP-S5760080-Y2,3
JP-H0619503-Y2,3
JP-S5226495-Y2,6
IT-223357-Z2,1
US-2021188104-A1,7
US-2021307865-A1,4
US-2022261174-A1,1
US-2022115371-A1,5
US-2023044005-A1,5
US-2023225440-A1,1
DD-145122-A1,1
AU-2003273921-A1,20
AU-2005275017-A1,3
AU-2009222143-A1,4
EP-0604777-A1,1
JP-WO2021085619-A1,4
DE-102010000456-A1,3
US-2023304660-A1,5
DE-10046656-A1,2
AU-2009242965-A1,2
DE-4115500-A1,6
EP-1503928-A1,3
DE-102012213468-A1,3
DE-102019109413-A1,1
WO-2018053633-A1,2
WO-2019128465-A1,4
WO-2024075114-A1,3
WO-2021035083-A1,2
BR-112013016566-A2,15
WO-2017118749-A2,1
EP-1589123-A4,7
EP-3051706-A4,6
CH-661126-A5,2
FR-2061474-A5,3
DD-292126-A5,1
IT-1308601-B1,1
CH-689527-A5,3
NO-318939-B1,4
KR-960016337-B1,2
EP-2404994-B1,3
KR-100225083-B1,2
KR-100493829-B1,1
US-2664263-A,1
US-3259439-A,4
US-2040272-A,1
US-3773396-A,4
US-1407433-A,2
US-2480474-A,2
CA-636367-A,1
US-1635099-A,2
US-1900691-A,1
CA
End Exploring Related Columns
Task: What is the publication number of US patent under the B2 classification granted during 2015 to 2018, with the highest originality score based on the diversity of 4-digits IPC codes from its backward citations?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: SELECT S."Column_Name" FROM {Database Name}.{Schema Name}.{Table_name} (ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
publication_number
[Data unavailable]:str (Attention: answer in one row)
```

To determine the publication number of the U.S. patent under the B2 classification granted between 2015 and 2018 with the highest originality score based on the diversity of 4-digit IPC codes from its backward citations, we would:

1. **Filter Patents**: Select all U.S. patents (`country_code = 'US'`) with a kind code of `B2` and a grant date between 20150101 and 20181231.

2. **Extract Backward Citations**: For each patent, extract its backward citations from the `citation` field.

3. **Retrieve IPC Codes of Cited Patents**: For each cited patent, retrieve its IPC codes from the `ipc` field, focusing on the 4-digit IPC codes.

4. **Calculate Originality Score**:
   - Count the total number of backward citations (`N_i_total`).
   - For each 4-digit IPC code `k`, count the number of citations (`N_i,k`).
   - Compute the originality score using the formula:
     \[
     \text{ORIGINALITY}_i = 1 - \sum_{k} \left( \frac{N_{i,k}}{N_{i,\text{total}}} \right)^2
     \]
     This score reflects the technological diversity of the patent's backward citations.

5. **Identify Patent with Highest Originality**: Compare the originality scores of all patents in the filtered set and select the one with the highest score.

Unfortunately, without access to the specific data from the PATENTS database, we cannot provide the exact publication number..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book" SQL: WHERE "title" LIKE '%book%'
However, if the string is not decided, you may use ILIKE and %. e.g. Get articles that mention "education": SQL: "body" ILIKE '%education%' OR "title" ILIKE '%education%'
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
Keep all decimals to four decimal places.

2025-01-18 09:26:42 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 09:26:42 - root - INFO - ```sql
WITH
patents AS (
  SELECT "publication_number", "citation"
  FROM PATENTS.PATENTS.PUBLICATIONS
  WHERE "country_code" = 'US' 
    AND "kind_code" = 'B2'
    AND "grant_date" BETWEEN 20150101 AND 20181231
),
citing_cited AS (
  SELECT t."publication_number" AS "patent_publication_number",
         cited.value:"publication_number"::STRING AS "cited_publication_number"
  FROM patents t,
  LATERAL FLATTEN(input => t."citation") cited
  WHERE cited.value:"publication_number" IS NOT NULL
),
cited_ipc AS (
  SELECT cc."patent_publication_number",
         cc."cited_publication_number",
         SUBSTR(ipc_item.value:"code"::STRING, 1, 4) AS "ipc4_code"
  FROM citing_cited cc
  LEFT JOIN PATENTS.PATENTS.PUBLICATIONS cited
    ON cc."cited_publication_number" = cited."publication_number"
  LEFT JOIN LATERAL FLATTEN(input => cited."ipc") ipc_item
  WHERE ipc_item.value:"code" IS NOT NULL
),
N_i_k AS (
  SELECT
    "patent_publication_number",
    "ipc4_code",
    COUNT(*) AS "N_i_k"
  FROM cited_ipc
  GROUP BY "patent_publication_number", "ipc4_code"
),
N_i_total AS (
  SELECT
    "patent_publication_number",
    SUM("N_i_k") AS "N_i_total"
  FROM N_i_k
  GROUP BY "patent_publication_number"
),
originality_scores AS (
  SELECT
    N_i_k."patent_publication_number",
    1 - SUM( POWER( N_i_k."N_i_k" / N_i_total."N_i_total", 2 ) ) AS "originality_score"
  FROM N_i_k
  JOIN N_i_total ON N_i_k."patent_publication_number" = N_i_total."patent_publication_number"
  GROUP BY N_i_k."patent_publication_number"
)
SELECT "patent_publication_number" AS "publication_number"
FROM originality_scores
ORDER BY "originality_score" DESC NULLS LAST
LIMIT 1;
```
2025-01-18 09:26:42 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:26:42 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:26:42 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:26:44 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-18 09:26:44 - snowflake.connector.connection - INFO - closed
2025-01-18 09:26:44 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:26:44 - root - INFO - itercount: 1
2025-01-18 09:26:44 - root - INFO - 0
2025-01-18 09:26:44 - root - INFO - results: 
publication_number
US-9121016-B2


2025-01-18 09:26:44 - root - INFO - Please check the answer again by reviewing What is the publication number of US patent under the B2 classification granted during 2015 to 2018, with the highest originality score based on the diversity of 4-digits IPC codes from its backward citations?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
publication_number
[Data unavailable]:str (Attention: answer in one row)
```

To determine the publication number of the U.S. patent under the B2 classification granted between 2015 and 2018 with the highest originality score based on the diversity of 4-digit IPC codes from its backward citations, we would:

1. **Filter Patents**: Select all U.S. patents (`country_code = 'US'`) with a kind code of `B2` and a grant date between 20150101 and 20181231.

2. **Extract Backward Citations**: For each patent, extract its backward citations from the `citation` field.

3. **Retrieve IPC Codes of Cited Patents**: For each cited patent, retrieve its IPC codes from the `ipc` field, focusing on the 4-digit IPC codes.

4. **Calculate Originality Score**:
   - Count the total number of backward citations (`N_i_total`).
   - For each 4-digit IPC code `k`, count the number of citations (`N_i,k`).
   - Compute the originality score using the formula:
     \[
     \text{ORIGINALITY}_i = 1 - \sum_{k} \left( \frac{N_{i,k}}{N_{i,\text{total}}} \right)^2
     \]
     This score reflects the technological diversity of the patent's backward citations.

5. **Identify Patent with Highest Originality**: Compare the originality scores of all patents in the filtered set and select the one with the highest score.

Unfortunately, without access to the specific data from the PATENTS database, we cannot provide the exact publication number. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
publication_number
US-9121016-B2
Current sql:
WITH
patents AS (
  SELECT "publication_number", "citation"
  FROM PATENTS.PATENTS.PUBLICATIONS
  WHERE "country_code" = 'US' 
    AND "kind_code" = 'B2'
    AND "grant_date" BETWEEN 20150101 AND 20181231
),
citing_cited AS (
  SELECT t."publication_number" AS "patent_publication_number",
         cited.value:"publication_number"::STRING AS "cited_publication_number"
  FROM patents t,
  LATERAL FLATTEN(input => t."citation") cited
  WHERE cited.value:"publication_number" IS NOT NULL
),
cited_ipc AS (
  SELECT cc."patent_publication_number",
         cc."cited_publication_number",
         SUBSTR(ipc_item.value:"code"::STRING, 1, 4) AS "ipc4_code"
  FROM citing_cited cc
  LEFT JOIN PATENTS.PATENTS.PUBLICATIONS cited
    ON cc."cited_publication_number" = cited."publication_number"
  LEFT JOIN LATERAL FLATTEN(input => cited."ipc") ipc_item
  WHERE ipc_item.value:"code" IS NOT NULL
),
N_i_k AS (
  SELECT
    "patent_publication_number",
    "ipc4_code",
    COUNT(*) AS "N_i_k"
  FROM cited_ipc
  GROUP BY "patent_publication_number", "ipc4_code"
),
N_i_total AS (
  SELECT
    "patent_publication_number",
    SUM("N_i_k") AS "N_i_total"
  FROM N_i_k
  GROUP BY "patent_publication_number"
),
originality_scores AS (
  SELECT
    N_i_k."patent_publication_number",
    1 - SUM( POWER( N_i_k."N_i_k" / N_i_total."N_i_total", 2 ) ) AS "originality_score"
  FROM N_i_k
  JOIN N_i_total ON N_i_k."patent_publication_number" = N_i_total."patent_publication_number"
  GROUP BY N_i_k."patent_publication_number"
)
SELECT "patent_publication_number" AS "publication_number"
FROM originality_scores
ORDER BY "originality_score" DESC NULLS LAST
LIMIT 1;When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.

2025-01-18 09:27:34 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 09:27:34 - root - INFO - ```sql
WITH
patents AS (
  SELECT "publication_number", "citation"
  FROM PATENTS.PATENTS.PUBLICATIONS
  WHERE "country_code" = 'US' 
    AND "kind_code" = 'B2'
    AND "grant_date" BETWEEN 20150101 AND 20181231
),
citing_cited AS (
  SELECT t."publication_number" AS "patent_publication_number",
         cited.value:"publication_number"::STRING AS "cited_publication_number"
  FROM patents t,
  LATERAL FLATTEN(input => t."citation") cited
  WHERE cited.value:"publication_number" IS NOT NULL
),
cited_ipc AS (
  SELECT cc."patent_publication_number",
         cc."cited_publication_number",
         SUBSTR(ipc_item.value:"code"::STRING, 1, 4) AS "ipc4_code"
  FROM citing_cited cc
  LEFT JOIN PATENTS.PATENTS.PUBLICATIONS cited
    ON cc."cited_publication_number" = cited."publication_number"
  LEFT JOIN LATERAL FLATTEN(input => cited."ipc") ipc_item
  WHERE ipc_item.value:"code" IS NOT NULL
),
N_i_k AS (
  SELECT
    "patent_publication_number",
    "ipc4_code",
    COUNT(*) AS "N_i_k"
  FROM cited_ipc
  GROUP BY "patent_publication_number", "ipc4_code"
),
N_i_total AS (
  SELECT
    "patent_publication_number",
    SUM("N_i_k") AS "N_i_total"
  FROM N_i_k
  GROUP BY "patent_publication_number"
),
originality_scores AS (
  SELECT
    N_i_k."patent_publication_number",
    ROUND(1 - SUM( POWER( N_i_k."N_i_k" / N_i_total."N_i_total", 2 ) ), 4) AS "originality_score"
  FROM N_i_k
  JOIN N_i_total ON N_i_k."patent_publication_number" = N_i_total."patent_publication_number"
  GROUP BY N_i_k."patent_publication_number"
)
SELECT "patent_publication_number" AS "publication_number"
FROM originality_scores
ORDER BY "originality_score" DESC NULLS LAST
LIMIT 1;
```

```csv
publication_number
US-9121016-B2
```
2025-01-18 09:27:34 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 09:27:34 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 09:27:34 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 09:27:35 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-18 09:27:35 - snowflake.connector.connection - INFO - closed
2025-01-18 09:27:35 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 09:27:36 - root - INFO - itercount: 2
2025-01-18 09:27:36 - root - INFO - 0
2025-01-18 09:27:36 - root - INFO - Total iteration counts: 2
