2025-01-24 22:34:47 - openai._base_client - INFO - Retrying request to /chat/completions in 0.440761 seconds
2025-01-24 22:35:58 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:35:58 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:35:58 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:35:58 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:36:00 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:36:00 - snowflake.connector.connection - INFO - closed
2025-01-24 22:36:00 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:36:00 - root - INFO - SQL:
SELECT DISTINCT "drugName"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   LIMIT 100;
Results:
drugName
Pamidronate Disodium
Gemtuzumab Ozogamicin
Ibritumomab Tiuxetan
Rolapitant Hydrochloride
Uridine Triacetate
Ondansetron Hydrochloride
Palonosetron Hydrochloride
Aprepitant
Defibrotide Sodium
Romiplostim
Eltrombopag Olamine
Imiquimod
Raloxifene Hydrochloride
Prednisone
Mechlorethamine Hydrochloride
Chlorambucil
Cyclophosphamide
Melphalan Hydrochloride
Ifosfamide
Busulfan
Thiotepa
Pemetrexed Disodium
Thioguanine
Clofarabine
Nelarabine
Fluorouracil
Cytarabine
Capecitabine
Etoposide
Paclitaxel
Cabazitaxel
Dactinomycin
Mitoxantrone Hydrochloride
Carboplatin
Rituximab
Cetuximab
Brentuximab Vedotin
Nivolumab
Ixabepilone
Oxaliplatin
Panitumumab
Pertuzumab
Ramucirumab
Pembrolizumab
Elotuzumab
Dasatinib
Lapatinib Ditosylate
Temsirolimus
Regorafenib
Ibrutinib
Venetoclax
Lanreotide Acetate
Bendamustine Hydrochloride
Lomustine
Carmustine
Dacarbazine
Temozolomide
Pralatrexate
Mercaptopurine
Fludarabine Phosphate
Gemcitabine Hydrochloride
Azacitidine
Vincristine Sulfate
Vinblastine Sulfate
Vinorelbine Tartrate
Trabectedin
Doxorubicin Hydrochloride
Daunorubicin Hydrochloride
Idarubicin Hydrochloride
Epirubicin Hydrochloride
Mitomycin C
Ipilimumab
Daratumumab
Imatinib Mesylate
Decitabine
Bleomycin
Necitumumab
Aminolevulinic Acid
Gefitinib
Erlotinib Hydrochloride
Sunitinib Malate
Pazopanib Hydrochloride
Vandetanib
Crizotinib
Ruxolitinib Phosphate
Axitinib
Ponatinib Hydrochloride
Trametinib
Osimertinib
Hydroxyurea
Ceritinib
Topotecan Hydrochloride
Docetaxel
Cisplatin
Trastuzumab
Procarbazine Hydrochloride
Bevacizumab
Ofatumumab
Obinutuzumab
Blinatumomab

2025-01-24 22:36:00 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:36:00 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:36:00 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:36:02 - snowflake.connector.cursor - INFO - Number of results in first chunk: 48
2025-01-24 22:36:02 - snowflake.connector.connection - INFO - closed
2025-01-24 22:36:02 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:36:02 - root - INFO - SQL:
SELECT DISTINCT "targetSpecies"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   LIMIT 100;
Results:
targetSpecies
Homo sapiens
""
Escherichia coli (strain K12)
Rattus norvegicus
Rattus
Mus musculus
Cavia porcellus
Trypanosoma cruzi
Saccharomyces cerevisiae
Rat
Mouse
Escherichia coli
Toxoplasma gondii
Lactobacillus casei
Mycobacterium tuberculosis
Drosophila melanogaster
Varicella-zoster virus (strain Dumas)
Bos taurus
Human papillomavirus type 1a
Enterobacteria phage T4
Human herpesvirus 8
Cercopithecus
Haemophilus influenzae
Streptococcus pyogenes M1 GAS
Human herpesvirus 1 (strain 17)
Clostridium botulinum
Providencia stuartii
Gallus gallus
Plasmodium falciparum (isolate 3D7)
Danio rerio
Mycobacterium tuberculosis H37Rv
Alcaligenes sp. (strain DSM 11172)
Oryctolagus cuniculus
Pneumocystis carinii
Macaca fascicularis
Human herpesvirus 1 (strain SC16)
Escherichia coli str. K-12 substr. MG1655
Sus scrofa
Bison bison
Bacillus amyloliquefaciens
Streptomyces caespitosus
Plasmodium falciparum
Aquifex aeolicus (strain VF5)
Haloarcula marismortui (strain ATCC 43049 / DSM 3752 / JCM 8966 / VKM B-1809)
Vibrio fischeri
Leishmania major
Ovis aries
Torpedo californica

2025-01-24 22:36:02 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:36:02 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:36:02 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:36:04 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-24 22:36:04 - snowflake.connector.connection - INFO - closed
2025-01-24 22:36:04 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:37:01 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:37:01 - root - INFO - ```sql
SELECT i."interactionID", i."drugName", i."targetSpecies", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE e."exp_assayValueMedian" <= 100
LIMIT 100;
```
2025-01-24 22:37:01 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:37:01 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:37:01 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:37:02 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:37:02 - snowflake.connector.connection - INFO - closed
2025-01-24 22:37:03 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:38:25 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:38:25 - root - INFO - SQL:
SELECT i."interactionID", i."drugName", i."targetSpecies", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE e."exp_assayValueMedian" <= 100
LIMIT 100;
Results:
Too long, hard cut:
interactionID,drugName,targetSpecies,target_uniprotID,exp_assayValueMedian,exp_assayValueLow,exp_assayValueHigh
173,Rolapitant Hydrochloride,Homo sapiens,P25103,0.66,,
1218,Uridine Triacetate,Rattus norvegicus,P25099,14.3,,
1219,Uridine Triacetate,Rattus norvegicus,P30543,2.8,,
16,Venetoclax,Homo sapiens,P10415,0.01,,
16,Venetoclax,Homo sapiens,P10415,0.01,,
17,Venetoclax,Homo sapiens,Q07817,48.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hyd

2025-01-24 22:38:25 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:38:25 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:38:25 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:38:27 - snowflake.connector.cursor - INFO - Number of results in first chunk: 6
2025-01-24 22:38:27 - snowflake.connector.connection - INFO - closed
2025-01-24 22:38:27 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:39:28 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:39:28 - root - INFO - ```sql
SELECT i."interactionID", i."drugName", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE i."drugName" = 'Regorafenib'
  AND i."targetSpecies" = 'Homo sapiens'
  AND e."exp_assayValueMedian" <= 100
  AND e."exp_assayValueLow" IS NOT NULL
  AND e."exp_assayValueHigh" IS NOT NULL
  AND e."exp_assayValueLow" <= 100
  AND e."exp_assayValueHigh" <= 100
LIMIT 100;
```
2025-01-24 22:39:28 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:39:28 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:39:28 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:39:29 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-24 22:39:29 - snowflake.connector.connection - INFO - closed
2025-01-24 22:39:30 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:39:59 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:39:59 - root - INFO - ```sql
SELECT i."interactionID", i."drugName", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE i."drugName" = 'Regorafenib'
  AND i."targetSpecies" = 'Homo sapiens'
  AND e."exp_assayValueMedian" <= 100
LIMIT 100;
```
2025-01-24 22:39:59 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:39:59 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:39:59 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:40:00 - snowflake.connector.cursor - INFO - Number of results in first chunk: 5
2025-01-24 22:40:00 - snowflake.connector.connection - INFO - closed
2025-01-24 22:40:01 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:25 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:41:25 - root - INFO - SQL:
SELECT i."interactionID", i."drugName", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE i."drugName" = 'Regorafenib'
  AND i."targetSpecies" = 'Homo sapiens'
  AND e."exp_assayValueMedian" <= 100
LIMIT 100;
Results:
interactionID,drugName,target_uniprotID,exp_assayValueMedian,exp_assayValueLow,exp_assayValueHigh
22,Regorafenib,P15056,28.0,,
22,Regorafenib,P15056,28.0,,
152,Regorafenib,P35968,13.0,,
152,Regorafenib,P35968,13.0,,
6776,Regorafenib,P34913,0.5,,

2025-01-24 22:41:25 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:25 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:25 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:26 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:26 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:27 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:27 - root - INFO - SQL:
-- Corrected Query 2:
SELECT DISTINCT "uniprot_id", "stable_id"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77
WHERE "uniprot_id" IS NOT NULL
LIMIT 100
Results:
uniprot_id,stable_id
P68871,R-HSA-1008196
P69891,R-HSA-1008211
O15525,R-HSA-1008212
P02100,R-HSA-1008215
P02042,R-HSA-1008218
Q16621,R-HSA-1008221
Q9UIJ7,R-HSA-1008241
O60675,R-HSA-1008242
P69892,R-HSA-1008254
P69905,R-HSA-1008268
P98160,R-HSA-1011570
Q9NZN4,R-HSA-1011594
Q9H4M9,R-HSA-1011616
Q8NF50,R-HSA-1011619
Q96HP0,R-HSA-1012966
Q96N67,R-HSA-1012970
Q8IZD9,R-HSA-1012973
Q9BZ29,R-HSA-1012981
Q9BTV7,R-HSA-1013845
Q8TDN4,R-HSA-1013870
Q96AZ6,R-HSA-1015671
Q9Y6K5,R-HSA-1015672
P20592,R-HSA-1015675
Q15646,R-HSA-1015678
Q6GPH4,R-HSA-1015680
P14316,R-HSA-1015681
Q05823,R-HSA-1015684
Q8N1I0,R-HSA-1012995
Q5JSL3,R-HSA-1012996
O14896,R-HSA-1015670
P09913,R-HSA-1015674
Q01629,R-HSA-1015682
Q02556,R-HSA-1015685
Q01628,R-HSA-1015688
Q9UBX8,R-HSA-1015811
Q8NI22,R-HSA-1017216
P49257,R-HSA-1017222
Q9BZQ6,R-HSA-1022110
O43173,R-HSA-1022124
Q13438,R-HSA-1022132
Q9UK11,R-HSA-1027350
Q9UK13,R-HSA-1027355
Q9Y2Q1,R-HSA-1027388
Q9NYT6,R-HSA-1027389
A6NK53,R-HSA-1027392
O14978,R-HSA-1027393
Q5JNZ3,R-HSA-1027415
Q96PQ6,R-HSA-1027420
P17035,R-HSA-1027421
Q9BRR0,R-HSA-1027422
Q9HBT8,R-HSA-1027429
P17036,R-HSA-1027432
Q9H0R5,R-HSA-1031696
P18146,R-HSA-1031703
Q9NZL3,R-HSA-1027352
Q96RE9,R-HSA-1027414
Q96GC6,R-HSA-1027416
Q9NZN3,R-HSA-1011601
Q9NRW7,R-HSA-1011607
Q96BY6,R-HSA-1012998
P32456,R-HSA-1015673
Q13568,R-HSA-1015676
P40305,R-HSA-1015677
Q9ULX9,R-HSA-1008261
Q9H7D0,R-HSA-1012991
Q8TDN4,R-HSA-1013859
P10914,R-HSA-1015686
P29728,R-HSA-1015689
O43286,R-HSA-1015832
P13196,R-HSA-1022086
Q13398,R-HSA-1027347
Q9UDV6,R-HSA-1027348
O14771,R-HSA-1027351
Q9UL59,R-HSA-1027353
Q14590,R-HSA-1027383
O43296,R-HSA-1027386
Q14588,R-HSA-1027390
Q14586,R-HSA-1027394
P17027,R-HSA-1027395
P15622,R-HSA-1027396
Q86WZ6,R-HSA-1027397
Q9UIE0,R-HSA-1027399
Q9UDV7,R-HSA-1027417
Q96NJ3,R-HSA-1027425
Q14593,R-HSA-1027426
Q9BYC5,R-HSA-1028782
Q8N8V2,R-HSA-1031689
Q96PP9,R-HSA-1031691
Q96PP8,R-HSA-1031692
Q6ZN66,R-HSA-1031693
Q92637,R-HSA-1031697
P33076,R-HSA-1031702
P13284,R-HSA-1031704
P23497,R-HSA-1031705
P29590,R-HSA-1031706
P61647,R-HSA-1022137
Q9UK10,R-HSA-1027357
Q9UJU3,R-HSA-1027387
Q14584,R-HSA-1027391
Q8NDW4,R-HSA-1027398

2025-01-24 22:41:27 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:27 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:27 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:28 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:28 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:28 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:29 - root - INFO - SQL:
-- Corrected Query 3 (Adjusted to include more data):
SELECT i."target_uniprotID", p."stable_id"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
  ON i."target_uniprotID" = p."uniprot_id"
WHERE i."targetSpecies" = 'Homo sapiens'
LIMIT 100
Results:
target_uniprotID,stable_id
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786

2025-01-24 22:41:29 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:29 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:29 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:30 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:30 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:30 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:30 - root - INFO - SQL:
-- Corrected Query 4:
SELECT DISTINCT "pe_stable_id", "pathway_stable_id", "evidence_code"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77
LIMIT 100
Results:
pe_stable_id,pathway_stable_id,evidence_code
R-HSA-904852,R-HSA-15869,IEA
R-HSA-6786263,R-HSA-15869,IEA
R-HSA-2311338,R-HSA-68875,IEA
R-HSA-165978,R-HSA-68875,IEA
R-HSA-2168081,R-HSA-68875,IEA
R-HSA-2172182,R-HSA-68875,IEA
R-HSA-162984,R-HSA-68875,IEA
R-HSA-2172190,R-HSA-68875,IEA
R-HSA-157451,R-HSA-68875,IEA
R-HSA-68901,R-HSA-68875,IEA
R-HSA-166000,R-HSA-68875,IEA
R-HSA-2167938,R-HSA-68875,IEA
R-HSA-2160957,R-HSA-68875,IEA
R-HSA-2430549,R-HSA-68875,IEA
R-HSA-2422374,R-HSA-68875,IEA
R-HSA-68897,R-HSA-68875,IEA
R-HSA-165968,R-HSA-68875,IEA
R-HSA-2167933,R-HSA-68875,IEA
R-HSA-165991,R-HSA-68875,IEA
R-HSA-2517883,R-HSA-68877,IEA
R-HSA-2517887,R-HSA-68877,IEA
R-HSA-157451,R-HSA-68877,IEA
R-HSA-157415,R-HSA-68877,IEA
R-HSA-1638139,R-HSA-68877,IEA
R-HSA-376238,R-HSA-68882,IEA
R-HSA-9634171,R-HSA-68882,IEA
R-HSA-376247,R-HSA-68882,IEA
R-HSA-2167938,R-HSA-68886,IEA
R-HSA-2430532,R-HSA-68886,IEA
R-HSA-376243,R-HSA-68886,IEA
R-HSA-68897,R-HSA-68886,IEA
R-HSA-2517883,R-HSA-68886,IEA
R-HSA-1638136,R-HSA-68886,IEA
R-HSA-176975,R-HSA-69190,IEA
R-HSA-68513,R-HSA-69206,IEA
R-HSA-68549,R-HSA-69239,IEA
R-HSA-3006646,R-HSA-69242,IEA
R-HSA-165978,R-HSA-69278,IEA
R-HSA-170066,R-HSA-68875,IEA
R-HSA-165540,R-HSA-68882,IEA
R-HSA-9634170,R-HSA-68882,IEA
R-HSA-9634225,R-HSA-68882,IEA
R-HSA-376243,R-HSA-68882,IEA
R-HSA-9634226,R-HSA-68882,IEA
R-HSA-9634218,R-HSA-68882,IEA
R-HSA-2168081,R-HSA-68886,IEA
R-HSA-165991,R-HSA-68886,IEA
R-HSA-3000318,R-HSA-68886,IEA
R-HSA-376246,R-HSA-68886,IEA
R-HSA-2172179,R-HSA-68886,IEA
R-HSA-180733,R-HSA-68886,IEA
R-HSA-376251,R-HSA-68886,IEA
R-HSA-68546,R-HSA-69190,IEA
R-HSA-3006646,R-HSA-69190,IEA
R-HSA-176963,R-HSA-69190,IEA
R-HSA-68669,R-HSA-69205,IEA
R-HSA-68889,R-HSA-69205,IEA
R-HSA-113832,R-HSA-69242,IEA
R-HSA-157446,R-HSA-69273,IEA
R-HSA-9634221,R-HSA-68882,IEA
R-HSA-68549,R-HSA-69190,IEA
R-HSA-68642,R-HSA-69206,IEA
R-HSA-68905,R-HSA-69278,IEA
R-HSA-2167936,R-HSA-68875,IEA
R-HSA-2430532,R-HSA-68875,IEA
R-HSA-2422381,R-HSA-68875,IEA
R-HSA-2517885,R-HSA-68877,IEA
R-HSA-68897,R-HSA-68877,IEA
R-HSA-157747,R-HSA-68882,IEA
R-HSA-9634167,R-HSA-68882,IEA
R-HSA-180743,R-HSA-68882,IEA
R-HSA-376237,R-HSA-68882,IEA
R-HSA-9634168,R-HSA-68882,IEA
R-HSA-376253,R-HSA-68882,IEA
R-HSA-376251,R-HSA-68882,IEA
R-HSA-376247,R-HSA-68886,IEA
R-HSA-2172190,R-HSA-68886,IEA
R-HSA-9634218,R-HSA-68886,IEA
R-HSA-157451,R-HSA-68886,IEA
R-HSA-6805183,R-HSA-68886,IEA
R-HSA-68557,R-HSA-69190,IEA
R-HSA-68555,R-HSA-69278,IEA
R-HSA-176975,R-HSA-69278,IEA
R-HSA-157415,R-HSA-68875,IEA
R-HSA-2172179,R-HSA-68875,IEA
R-HSA-3000318,R-HSA-68875,IEA
R-HSA-1638140,R-HSA-68877,IEA
R-HSA-376246,R-HSA-68882,IEA
R-HSA-6805183,R-HSA-68882,IEA
R-HSA-9634172,R-HSA-68882,IEA
R-HSA-2517885,R-HSA-68886,IEA
R-HSA-162984,R-HSA-68886,IEA
R-HSA-157747,R-HSA-68886,IEA
R-HSA-2422374,R-HSA-68886,IEA
R-HSA-2172182,R-HSA-68886,IEA
R-HSA-376237,R-HSA-68886,IEA
R-HSA-2430549,R-HSA-68886,IEA
R-HSA-180743,R-HSA-68886,IEA
R-HSA-2160957,R-HSA-68886,IEA
R-HSA-1638140,R-HSA-68886,IEA

2025-01-24 22:41:30 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:30 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:30 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:32 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:32 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:32 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:32 - root - INFO - SQL:
-- Corrected Query 5 (Simplified conditions):
SELECT DISTINCT pw."stable_id", pw."name", pw."species", pw."lowest_level"
FROM (
  SELECT DISTINCT p."stable_id"
  FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
  JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    ON i."target_uniprotID" = p."uniprot_id"
  WHERE i."targetSpecies" = 'Homo sapiens'
) t
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
  ON t."stable_id" = p2p."pe_stable_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
  ON p2p."pathway_stable_id" = pw."stable_id"
WHERE pw."species" = 'Homo sapiens'
LIMIT 100
Results:
Too long, hard cut:
stable_id,name,species,lowest_level
R-HSA-186763,Downstream signal transduction,Homo sapiens,True
R-HSA-9700206,Signaling by ALK in cancer,Homo sapiens,False
R-HSA-201681,TCF dependent signaling in response to WNT,Homo sapiens,False
R-HSA-380320,Recruitment of NuMA to mitotic centrosomes,Homo sapiens,True
R-HSA-1483166,Synthesis of PA,Homo sapiens,True
R-HSA-975634,Retinoid metabolism and transport,Homo sapiens,True
R-HSA-5607764,CLEC7A (Dectin-1) signaling,Homo sapiens,False
R-HSA-9717316,alectinib resistant ALK mutants,Homo sapiens,True
R-HSA-450408,AUF1 (hnRNP D0) binds and destabilizes mRNA,Homo sapiens,True
R-HSA-5362798,Release of Hh-Np from the secreting cell,Homo sapiens,True
R-HSA-196854,Metabolism of vitamins and cofactors,Homo sapiens,False
R-HSA-9671793,Diseases of hemostasis,Homo sapiens,False
R-HSA-8982491,Glycogen metabolism,Homo sapiens,False
R-HSA-1430728,Metabolism,Homo sapiens,False
R-HSA-202131,Metabolism of nitric oxide: NOS3 activation and regulation,Homo sapiens,False
R-HSA-166166,MyD88-independent TLR4 cascade ,Homo sapiens,False
R-HSA-1368108,"BMAL1:CLOCK,NPAS2 activates circadian gene expression",Homo sapiens,True
R-HSA-418346,Platelet homeostasis,Homo sapiens,False
R-HSA-1295596,Spry regulation of FGF signaling,Homo sapiens,True
R-HSA-77075,RNA Pol II CTD phosphorylation and interaction with CE,Homo sapiens,True
R-HSA-5654719,SHC-mediated cascade:FGFR4,Homo sapiens,True
R-HSA-199418,Negative regulation of the PI3K/AKT network,Homo sapiens,False
R-HSA-9702605,pexidartinib-resistant FLT3 mutants,Homo sapiens,True
R-HSA-5693537,Resolution of D-Loop Structures,Homo sapiens,False
R-HSA-195399,VEGF binds to VEGFR leading to receptor dimerization,Homo sapiens,True
R-HSA-9669917,Imatinib-resistant KIT mutants,Homo sapiens,True
R-HSA-9665348,Signaling by ERBB2 ECD mutants,Homo sapiens,True
R-HSA-9020702,Interleukin-1 signaling,Homo sapiens,False
R-HSA-9031628,NGF-stimulated transcription,Homo sapiens,True
R-HSA-442720,CREB1 phosphorylation through the activation of Adenylate Cyclase,Homo sapiens,True
R-HSA-1181150,Signaling by NODAL,Homo sapiens,False
R-HSA-4839726,Chromatin organization,Homo sapiens,False
R-HSA-2142770,Synthesis of 15-eicosatetraenoic acid derivatives,Homo sapiens,True
R-HSA-211163,AKT-mediated inactivation of FOXO1A,Homo sapiens,True
R-HSA-380259,Loss of Nlp from mitotic centrosomes,Homo sapiens,True
R-HSA-174154,APC/C:Cdc20 mediated degradation of Securin,Homo sapiens,True
R-HSA-6782135,Dual incision in TC-NER,Homo sapiens,True
R-HSA-190242,FGFR1 ligand binding and activation,Homo sapiens,False
R-HSA-211897,Cytochrome P450 - arranged by substrate type,Homo sapiens,False
R-HSA-5696395,Formation of Incision Complex in GG-NER,Homo sapiens,True
R-HSA-3560783,"Defective B4GALT7 causes EDS, progeroid type",Homo sapiens,True
R-HSA-2514859,"Inactivation, recovery and regulation of the phototransduction cascade",Homo sapiens,True
R-HSA-975957,Nonsense Mediated Decay (NMD) enhanced by the Exon Junction Complex (EJC),Homo sapiens,True
R-HSA-2022090,Assembly of collagen fibrils and other multimeric structures,Homo sapiens,False
R-HSA-6781823,Formation of TC-NER Pre-Incision Complex,Homo sapiens,True
R-HSA-375280,Amine ligand-binding receptors,Homo sapiens,False
R-HSA-9012999,RHO GTPase cycle,Homo sapiens,False
R-HSA-2173789,TGF-beta receptor signaling activates SMADs,Homo sapiens,False
R-HSA-1912422,Pre-NOTCH Expression and Processing,Homo sapiens,False
R-HSA-6806834,Signaling by MET,Homo sapiens,False
R-HSA-174143,APC/C-mediated degradation of cell cycle proteins,Homo sapiens,False
R-HSA-114604,GPVI-mediated activation cascade,Homo sapiens,True
R-HSA-193048,Androgen biosynthesis,Homo sapiens,True
R-HSA-445095,Interaction between L1 and Ankyrins,Homo sapiens,True
R-HSA-8854214,TBC/RABGAPs,Homo sapiens,True
R-HSA-68949,Orc1 removal from chromatin,Homo sapiens,True
R-HSA-1483191,Synthesis of PC,Homo sapiens,True
R-HSA-5576890,Phase 3 - rapid repolarisation,Homo sapiens,True
R-HSA-442729,CREB1 phosphorylation through the activation of CaMKII/CaMKK/CaMKIV cascasde,Homo sapiens,True
R-HSA-6791312,TP53 Regulates Transcription of Cell Cycle Genes,Homo sapiens,False
R-HSA-499943,Interconversion of nucleotide di- and triphosphates,Homo sapiens,True
R-HSA-73933,Resolution of Abasic Sites (AP sites),Homo sapiens,False
R-HSA-9007101,Rab regulation of trafficking,Homo sapiens,False
R-HSA-9674415,Drug resistance of PDGFR mutants,Homo sapiens,False
R-HSA-1566948,Elastic fibre formation,Homo sapiens,False
R-HSA-113501,Inhibition of replication initiation of damaged DNA by RB1/E2F1,Homo sapiens,True
R-HSA-9702600,midostaurin-resistant FLT3 mutants,Homo sapiens,True
R-HSA-9013106,RHOC GTPase cycle,Homo sapiens,True
R-HSA-422356,Regulation of insulin secretion,Homo sapiens,False
R-HSA-428890,Role of ABL in ROBO-SLIT signaling,Homo sapiens,True
R-HSA-9033241,Peroxisomal protein import,Homo sapiens,False
R-HSA-9665230,Drug resistance in ERBB2 KD mutants,Homo sapiens,False
R-HSA-376176,Signaling by ROBO

2025-01-24 22:41:32 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:32 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:32 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:34 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:34 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:34 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:34 - root - INFO - SQL:
-- Corrected Query 6 (Simplified conditions):
SELECT DISTINCT i."targetID", i."target_uniprotID"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE i."targetSpecies" = 'Homo sapiens'
  AND e."exp_assayValueMedian" <= 100
LIMIT 100
Results:
targetID,target_uniprotID
1,P46098
126,P40238
39,Q92731
202,Q15125
755,P41595
816,Q99720
122,P32745
124,P35346
651,P08183
36,P00533
322,P52732
306,O14965
18,P11836
17,P15391
5,Q9UM73
196,P16234
197,Q08345
357,O43293
335,Q9H2G2
32,P11511
10,P51451
442,P51812
269,Q15303
303,P08684
127,P04818
861,P05106
45,P36888
90,P42336
590,Q9BZL6
701,P51617
44,P17948
85,Q9Y4K4
195,P04629
258,Q9Y2U5
309,P30530
327,Q12866
412,Q2M2I8
448,Q06418
679,O43283
236,P29317
341,P09769
359,P54764
361,P29322
362,P54762
389,Q15569
664,P43166
478,P53355
594,O75116
27,Q9BWU1
58,Q96DB2
334,O75582
330,Q13188
404,Q9UEE5
747,P48729
873,Q01538
705,Q9H2K8
326,Q8IVH8
370,O95819
615,P15328
821,Q02643
660,P00915
337,P35590
114,Q13043
584,O75385
865,P33527
33,P16410
21,P28907
333,O75676
252,Q08881
409,O75914
624,P49759
676,Q9NWZ3
696,Q9H2X6
748,P80370
116,P12931
343,Q59H18
352,P41240
397,P21709
621,P29320
745,O15197
740,P0C1S8
171,Q99436
115,Q99835
649,P41597
353,P48730
358,Q12852
438,Q9BRS2
580,Q8N4C8
702,P23443
13,Q06187
48,P06241
49,P42685
78,P07948
132,P42681
318,P54753
319,P54760
42,P11362
578,Q9UF33
582,Q8TDR2
276,P08922

2025-01-24 22:41:34 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:34 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:34 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:35 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:35 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:36 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:36 - root - INFO - SQL:
-- Corrected Query 7 (Simplified conditions):
SELECT DISTINCT pw."stable_id", pw."name", pw."species", pw."lowest_level"
FROM (
  SELECT DISTINCT p."stable_id"
  FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
  JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
    ON i."expID" = e."expID"
  JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    ON i."target_uniprotID" = p."uniprot_id"
  WHERE i."targetSpecies" = 'Homo sapiens'
    AND e."exp_assayValueMedian" <= 100
) t
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
  ON t."stable_id" = p2p."pe_stable_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
  ON p2p."pathway_stable_id" = pw."stable_id"
WHERE pw."species" = 'Homo sapiens'
LIMIT 100
Results:
Too long, hard cut:
stable_id,name,species,lowest_level
R-HSA-5654743,Signaling by FGFR4,Homo sapiens,False
R-HSA-5684996,MAPK1/MAPK3 signaling,Homo sapiens,False
R-HSA-6791312,TP53 Regulates Transcription of Cell Cycle Genes,Homo sapiens,False
R-HSA-9020702,Interleukin-1 signaling,Homo sapiens,False
R-HSA-69206,G1/S Transition,Homo sapiens,False
R-HSA-112399,IRS-mediated signalling,Homo sapiens,False
R-HSA-75153,Apoptotic execution phase,Homo sapiens,False
R-HSA-1500931,Cell-Cell communication,Homo sapiens,False
R-HSA-174143,APC/C-mediated degradation of cell cycle proteins,Homo sapiens,False
R-HSA-199418,Negative regulation of the PI3K/AKT network,Homo sapiens,False
R-HSA-5607764,CLEC7A (Dectin-1) signaling,Homo sapiens,False
R-HSA-211897,Cytochrome P450 - arranged by substrate type,Homo sapiens,False
R-HSA-9664417,Leishmania phagocytosis,Homo sapiens,False
R-HSA-2428924,IGF1R signaling cascade,Homo sapiens,False
R-HSA-166058,MyD88:MAL(TIRAP) cascade initiated on plasma membrane,Homo sapiens,False
R-HSA-9658195,Leishmania infection,Homo sapiens,False
R-HSA-8982491,Glycogen metabolism,Homo sapiens,False
R-HSA-1461973,Defensins,Homo sapiens,False
R-HSA-9675132,Diseases of cellular response to stress,Homo sapiens,False
R-HSA-2672351,Stimuli-sensing channels,Homo sapiens,False
R-HSA-73933,Resolution of Abasic Sites (AP sites),Homo sapiens,False
R-HSA-9674415,Drug resistance of PDGFR mutants,Homo sapiens,False
R-HSA-1280215,Cytokine Signaling in Immune system,Homo sapiens,False
R-HSA-168142,Toll Like Receptor 10 (TLR10) Cascade,Homo sapiens,False
R-HSA-5654716,Downstream signaling of activated FGFR4,Homo sapiens,False
R-HSA-76005,Response to elevated platelet cytosolic Ca2+,Homo sapiens,False
R-HSA-111885,Opioid Signalling,Homo sapiens,False
R-HSA-8986944,Transcriptional Regulation by MECP2,Homo sapiens,False
R-HSA-9034015,Signaling by NTRK3 (TRKC),Homo sapiens,False
R-HSA-9725370,Signaling by ALK fusions and activated point mutants,Homo sapiens,False
R-HSA-5668541,TNFR2 non-canonical NF-kB pathway,Homo sapiens,False
R-HSA-74751,Insulin receptor signalling cascade,Homo sapiens,False
R-HSA-198753,ERK/MAPK targets,Homo sapiens,False
R-HSA-5205647,Mitophagy,Homo sapiens,False
R-HSA-5357769,Caspase activation via extrinsic apoptotic signalling pathway,Homo sapiens,False
R-HSA-5655332,Signaling by FGFR3 in disease,Homo sapiens,False
R-HSA-453276,Regulation of mitotic cell cycle,Homo sapiens,False
R-HSA-5250941,Negative epigenetic regulation of rRNA expression,Homo sapiens,False
R-HSA-5693606,DNA Double Strand Break Response,Homo sapiens,False
R-HSA-69306,DNA Replication,Homo sapiens,False
R-HSA-9013694,Signaling by NOTCH4,Homo sapiens,False
R-HSA-381119,Unfolded Protein Response (UPR),Homo sapiens,False
R-HSA-9682385,FLT3 signaling in disease,Homo sapiens,False
R-HSA-71291,Metabolism of amino acids and derivatives,Homo sapiens,False
R-HSA-9665230,Drug resistance in ERBB2 KD mutants,Homo sapiens,False
R-HSA-389356,CD28 co-stimulation,Homo sapiens,False
R-HSA-5602358,Diseases associated with the TLR signaling cascade,Homo sapiens,False
R-HSA-8876384,Listeria monocytogenes entry into host cells,Homo sapiens,False
R-HSA-9007101,Rab regulation of trafficking,Homo sapiens,False
R-HSA-5625740,RHO GTPases activate PKNs,Homo sapiens,False
R-HSA-1227990,Signaling by ERBB2 in Cancer,Homo sapiens,False
R-HSA-1566948,Elastic fibre formation,Homo sapiens,False
R-HSA-9674428,PDGFR mutants bind TKIs,Homo sapiens,True
R-HSA-8847993,ERBB2 Activates PTK6 Signaling,Homo sapiens,True
R-HSA-936837,Ion transport by P-type ATPases,Homo sapiens,True
R-HSA-9717301,NVP-TAE684-resistant ALK mutants,Homo sapiens,True
R-HSA-8951664,Neddylation,Homo sapiens,True
R-HSA-9702600,midostaurin-resistant FLT3 mutants,Homo sapiens,True
R-HSA-5693579,Homologous DNA Pairing and Strand Exchange,Homo sapiens,False
R-HSA-9700206,Signaling by ALK in cancer,Homo sapiens,False
R-HSA-68886,M Phase,Homo sapiens,False
R-HSA-450408,AUF1 (hnRNP D0) binds and destabilizes mRNA,Homo sapiens,True
R-HSA-141444,Amplification  of signal from unattached  kinetochores via a MAD2  inhibitory signal,Homo sapiens,True
R-HSA-438066,"Unblocking of NMDA receptors, glutamate binding and activation",Homo sapiens,True
R-HSA-9013507,NOTCH3 Activation and Transmission of Signal to the Nucleus,Homo sapiens,False
R-HSA-9005891,Loss of function of MECP2 in Rett syndrome,Homo sapiens,False
R-HSA-74752,Signaling by Insulin receptor,Homo sapiens,False
R-HSA-8941326,RUNX2 regulates bone development,Homo sapiens,False
R-HSA-6807070,PTEN Regulation,Homo sapiens,False
R-HSA-6802957,Oncogenic MAPK signaling,Homo sapiens,False
R-HSA-69202,Cyclin E associated events during G1/S transition ,Homo sapiens,False
R-HSA-1489509,DAG and IP3 signaling,Homo sapiens,False
R-HSA-9683610,Maturation of nucleoprotein,Homo sapiens,True
R-HSA-69242,S Phase,Homo sapiens,False
R-HSA-5693532,DNA Double-Strand Break Repair,Homo sapiens,False
R-HSA-446353,Cell-extracellular matrix interactions,Homo sapiens,False
R-HSA-453279,Mitotic G1 p

2025-01-24 22:41:36 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:36 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:36 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:37 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 22:41:37 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:38 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:38 - root - INFO - SQL:
-- Corrected Query 8 (Simplified conditions):
SELECT pw."name" AS pathway_name, COUNT(DISTINCT p."uniprot_id") AS target_count
FROM (
  SELECT DISTINCT i."target_uniprotID"
  FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
  JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
    ON i."expID" = e."expID"
  WHERE i."targetSpecies" = 'Homo sapiens'
    AND e."exp_assayValueMedian" <= 100
) t
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
  ON t."target_uniprotID" = p."uniprot_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
  ON p."stable_id" = p2p."pe_stable_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
  ON p2p."pathway_stable_id" = pw."stable_id"
WHERE pw."species" = 'Homo sapiens'
GROUP BY pw."name"
ORDER BY target_count DESC
LIMIT 100
Results:
PATHWAY_NAME,TARGET_COUNT
Signal Transduction,133
Disease,77
Immune System,64
Gene expression (Transcription),60
Generic Transcription Pathway,60
RNA Polymerase II Transcription,60
Developmental Biology,54
Diseases of signal transduction by growth factor receptors and second messengers,54
Signaling by Receptor Tyrosine Kinases,52
Nervous system development,46
Metabolism,46
Axon guidance,45
Cytokine Signaling in Immune system,44
Innate Immune System,40
Signaling by Interleukins,38
Infectious disease,38
Intracellular signaling by second messengers,35
Cellular responses to stress,32
Cellular responses to stimuli,32
PIP3 activates AKT signaling,32
MAPK family signaling cascades,31
Metabolism of proteins,30
MAPK1/MAPK3 signaling,30
RAF/MAP kinase cascade,29
Post-translational protein modification,27
Adaptive Immune System,26
Signaling by GPCR,25
Cell Cycle,24
Metabolism of lipids,24
GPCR downstream signalling,23
"Cell Cycle, Mitotic",22
Hemostasis,22
"Signaling by Rho GTPases, Miro GTPases and RHOBTB3",21
Signaling by Rho GTPases,21
Signaling by NOTCH,21
"PI5P, PP2A and IER3 Regulate PI3K/AKT Signaling",19
Negative regulation of the PI3K/AKT network,19
EPH-Ephrin signaling,19
SUMOylation,17
Regulation of TP53 Activity,17
PI3K/AKT Signaling in Cancer,17
Transcriptional Regulation by TP53,17
SUMO E3 ligases SUMOylate target proteins,17
Transcriptional regulation by RUNX2,15
EPH-ephrin mediated repulsion of cells,15
Signaling by NTRKs,15
Mitotic G1 phase and G1/S transition,15
Signaling by NOTCH1,15
Constitutive Signaling by Aberrant PI3K in Cancer,15
Signaling by Nuclear Receptors,15
Signaling by VEGF,14
Toll-like Receptor Cascades,14
Transport of small molecules,14
SARS-CoV Infections,14
Toll Like Receptor 4 (TLR4) Cascade,14
NOTCH1 Intracellular Domain Regulates Transcription,14
Organelle biogenesis and maintenance,14
Constitutive Signaling by NOTCH1 HD+PEST Domain Mutants,13
Fc epsilon receptor (FCERI) signaling,13
"Platelet activation, signaling and aggregation",13
Regulation of TP53 Activity through Phosphorylation,13
Signaling by NOTCH1 HD+PEST Domain Mutants in Cancer,13
RHO GTPase cycle,13
Neuronal System,13
Toll Like Receptor TLR1:TLR2 Cascade,13
Toll Like Receptor 2 (TLR2) Cascade,13
Programmed Cell Death,13
Signaling by NOTCH1 in Cancer,13
Constitutive Signaling by NOTCH1 PEST Domain Mutants,13
Apoptosis,13
MyD88:MAL(TIRAP) cascade initiated on plasma membrane,13
Signaling by NTRK1 (TRKA),13
Toll Like Receptor TLR6:TLR2 Cascade,13
Transcriptional regulation by RUNX1,13
Signaling by NOTCH1 PEST Domain Mutants in Cancer,13
Potential therapeutics for SARS,12
Notch-HLH transcription pathway,12
EPHA-mediated growth cone collapse,12
PTEN Regulation,12
Transmission across Chemical Synapses,12
Signaling by the B Cell Receptor (BCR),12
TCR signaling,12
VEGFA-VEGFR2 Pathway,12
L1CAM interactions,12
Toll Like Receptor 7/8 (TLR7/8) Cascade,11
Toll Like Receptor 3 (TLR3) Cascade,11
MyD88 cascade initiated on plasma membrane,11
Toll Like Receptor 9 (TLR9) Cascade,11
Interleukin-1 signaling,11
Paradoxical activation of RAF signaling by kinase inactive BRAF,11
MyD88-independent TLR4 cascade ,11
Signaling by BRAF and RAF1 fusions,11
Costimulation by the CD28 family,11
Signaling by WNT,11
RHO GTPase Effectors,11
Signaling downstream of RAS mutants,11
Oncogenic MAPK signaling,11
Toll Like Receptor 10 (TLR10) Cascade,11
Neurotransmitter receptors and postsynaptic signal transmission,11
Signaling by RAS mutants,11

2025-01-24 22:41:38 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:38 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:38 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:39 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-24 22:41:39 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:39 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:39 - root - INFO - SQL:
-- Corrected Query 9:
SELECT DISTINCT "species"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77
LIMIT 100
Results:
species
Homo sapiens

2025-01-24 22:41:39 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:39 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:39 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:41 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:41:41 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:41 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:41 - root - INFO - SQL:
-- Corrected Query 10:
SELECT DISTINCT "evidence_code"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77
LIMIT 100
Results:
evidence_code
IEA
TAS

2025-01-24 22:41:41 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:41 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:41 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 6
2025-01-24 22:41:42 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:43 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:43 - root - INFO - SQL:
-- Corrected Query 11:
SELECT DISTINCT "exp_assayType"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1
LIMIT 100
Results:
exp_assayType
""
KD
Kd
Ki
EC50
IC50

2025-01-24 22:41:43 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:43 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:43 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:44 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-24 22:41:44 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:45 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:45 - root - INFO - SQL:
-- Corrected Query 12:
SELECT COUNT(*)
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77
WHERE "species" = 'Homo sapiens' AND "lowest_level" = TRUE
Results:
COUNT(*)
1773

2025-01-24 22:41:45 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:41:45 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:41:45 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:41:46 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-24 22:41:46 - snowflake.connector.connection - INFO - closed
2025-01-24 22:41:47 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:41:47 - root - INFO - SQL:
-- Corrected Query 13:
SELECT COUNT(*)
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77
WHERE "uniprot_id" IS NOT NULL
Results:
COUNT(*)
204683

2025-01-24 22:41:47 - root - INFO - itercount: 0
2025-01-24 22:41:47 - root - INFO - Database Name: TARGETOME_REACTOME
Schema Name: REACTOME_VERSIONED
DDL describes table information.
,0
table_name,PE_TO_PATHWAY_V77
description,
DDL,"create or replace TABLE PE_TO_PATHWAY_V77 (
	""pe_stable_id"" VARCHAR(16777216),
	""pathway_stable_id"" VARCHAR(16777216),
	""evidence_code"" VARCHAR(16777216)
);"

,1
table_name,PATHWAY_V77
description,
DDL,"create or replace TABLE PATHWAY_V77 (
	""stable_id"" VARCHAR(16777216),
	""url"" VARCHAR(16777216),
	""name"" VARCHAR(16777216),
	""species"" VARCHAR(16777216),
	""lowest_level"" BOOLEAN
);"

,2
table_name,PATHWAY_HIERARCHY_V77
description,
DDL,"create or replace TABLE PATHWAY_HIERARCHY_V77 (
	""parent_id"" VARCHAR(16777216),
	""child_id"" VARCHAR(16777216)
);"

,3
table_name,PHYSICAL_ENTITY_V77
description,
DDL,"create or replace TABLE PHYSICAL_ENTITY_V77 (
	""ensembl_id"" VARCHAR(16777216),
	""uniprot_id"" VARCHAR(16777216),
	""stable_id"" VARCHAR(16777216),
	""name"" VARCHAR(16777216),
	""location"" VARCHAR(16777216)
);"

Database Name: TARGETOME_REACTOME
Schema Name: TARGETOME_VERSIONED
DDL describes table information.
,0
table_name,EXPERIMENTS_V1
description,
DDL,"create or replace TABLE EXPERIMENTS_V1 (
	""expID"" NUMBER(38,0),
	""exp_assayType"" VARCHAR(16777216),
	""exp_assayValueLow"" FLOAT,
	""exp_assayValueMedian"" FLOAT,
	""exp_assayValueHigh"" FLOAT,
	""exp_assayUnits"" VARCHAR(16777216),
	""exp_assayRelation"" VARCHAR(16777216),
	""exp_assayDescription"" VARCHAR(16777216),
	""exp_assaySpecies"" VARCHAR(16777216),
	""exp_parentSource"" VARCHAR(16777216),
	""sourceID"" NUMBER(38,0),
	""PubMedID"" VARCHAR(16777216),
	""databaseName"" VARCHAR(16777216),
	""db_version"" VARCHAR(16777216),
	""db_downloadURL"" VARCHAR(16777216),
	""db_downloadDate"" VARCHAR(16777216)
);"

,1
table_name,INTERACTIONS_V1
description,
DDL,"create or replace TABLE INTERACTIONS_V1 (
	""interactionID"" NUMBER(38,0),
	""drugID"" NUMBER(38,0),
	""targetID"" NUMBER(38,0),
	""interactionType"" VARCHAR(16777216),
	""drugName"" VARCHAR(16777216),
	""drug_approvalDate"" VARCHAR(16777216),
	""drug_atcClassID"" VARCHAR(16777216),
	""drug_atcClassName"" VARCHAR(16777216),
	""drug_atcClassStatus"" VARCHAR(16777216),
	""drug_epcClassID"" VARCHAR(16777216),
	""drug_epcClassName"" VARCHAR(16777216),
	""targetName"" VARCHAR(16777216),
	""targetType"" VARCHAR(16777216),
	""target_uniprotID"" VARCHAR(16777216),
	""targetSpecies"" VARCHAR(16777216),
	""sourceID"" NUMBER(38,0),
	""expID"" NUMBER(38,0)
);"

,2
table_name,SOURCES_V1
description,
DDL,"create or replace TABLE SOURCES_V1 (
	""sourceID"" NUMBER(38,0),
	""PubMedID"" VARCHAR(16777216),
	""databaseName"" VARCHAR(16777216),
	""db_version"" VARCHAR(16777216),
	""db_downloadURL"" VARCHAR(16777216),
	""db_downloadDate"" VARCHAR(16777216)
);"

,3
table_name,DRUG_SYNONYMS_V1
description,
DDL,"create or replace TABLE DRUG_SYNONYMS_V1 (
	""drugID"" NUMBER(38,0),
	""synonym"" VARCHAR(16777216)
);"

,4
table_name,TARGET_SYNONYMS_V1
description,
DDL,"create or replace TABLE TARGET_SYNONYMS_V1 (
	""targetID"" NUMBER(38,0),
	""synonym"" VARCHAR(16777216)
);"

External knowledge that might be helpful: 
None
The table structure information is ({database name: {schema name: {table name}}}): 
{'TARGETOME_REACTOME': {'REACTOME_VERSIONED': ['PATHWAY_HIERARCHY_V77', 'PATHWAY_V77', 'PE_TO_PATHWAY_V77', 'PHYSICAL_ENTITY_V77'], 'TARGETOME_VERSIONED': ['DRUG_SYNONYMS_V1', 'EXPERIMENTS_V1', 'INTERACTIONS_V1', 'SOURCES_V1', 'TARGET_SYNONYMS_V1']}}
Begin Exploring Related Columns
**Relevant Tables, Columns, and Potential Usage:**

1. **INTERACTIONS_V1** (TARGETOME_VERSIONED)
   - `"interactionID"`: Identify unique interactions.
   - `"drugID"`: Drug identifier.
   - `"drugName"`: **Used to filter for 'sorafenib'**.
   - `"targetID"`: Target identifier.
   - `"targetName"`: Name of the target.
   - `"targetSpecies"`: **Used to filter for 'homo sapiens'**.
   - `"target_uniprotID"`: **Used to link targets to physical entities (Uniprot IDs)**.
   - `"expID"`: **Used to join with EXPERIMENTS_V1 for assay values**.

2. **EXPERIMENTS_V1** (TARGETOME_VERSIONED)
   - `"expID"`: Experiment identifier.
   - `"exp_assayValueMedian"`: **Used to apply median assay value  100**.
   - `"exp_assayValueLow"`: **Used to apply assay value low  100 or NULL**.
   - `"exp_assayValueHigh"`: **Used to apply assay value high  100 or NULL**.

3. **PHYSICAL_ENTITY_V77** (REACTOME_VERSIONED)
   - `"uniprot_id"`: **Used to link with target Uniprot IDs**.
   - `"stable_id"`: **Used to link physical entities to pathways**.

4. **PE_TO_PATHWAY_V77** (REACTOME_VERSIONED)
   - `"pe_stable_id"`: **Physical entity stable ID, used to join with PHYSICAL_ENTITY_V77**.
   - `"pathway_stable_id"`: **Used to identify pathways in PATHWAY_V77**.
   - `"evidence_code"`: **Used to filter for 'TAS' evidence code**.

5. **PATHWAY_V77** (REACTOME_VERSIONED)
   - `"stable_id"`: Pathway identifier.
   - `"name"`: Name of the pathway.
   - `"species"`: **Used to filter for 'Homo sapiens' pathways**.
   - `"lowest_level"`: **Used to filter for pathways at the lowest level (TRUE)**.

**Conditions That May Be Used:**

- Filter interactions where `"drugName"` = 'sorafenib'.
- Filter interactions where `"targetSpecies"` = 'homo sapiens'.
- Apply assay conditions:
  - `"exp_assayValueMedian"`  100.
  - `"exp_assayValueLow"`  100 or NULL.
  - `"exp_assayValueHigh"`  100 or NULL.
- Filter pathways where `"evidence_code"` = 'TAS'.
- Filter pathways where `"lowest_level"` = TRUE.
- Filter pathways where `"species"` = 'Homo sapiens'.

---

**SQL Queries:**

1. **List all drug names in INTERACTIONS_V1:**

   ```sql
   SELECT DISTINCT "drugName"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   LIMIT 100;
   ```

2. **List all target species in INTERACTIONS_V1:**

   ```sql
   SELECT DISTINCT "targetSpecies"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   LIMIT 100;
   ```

3. **Get target Uniprot IDs for 'sorafenib' and 'homo sapiens':**

   ```sql
   SELECT DISTINCT "target_uniprotID"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   WHERE "drugName" = 'sorafenib' AND "targetSpecies" = 'homo sapiens'
   LIMIT 100;
   ```

4. **Retrieve assay values for interactions involving 'sorafenib' and 'homo sapiens' targets:**

   ```sql
   SELECT i."interactionID", i."drugName", i."target_uniprotID",
          e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
   JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
     ON i."expID" = e."expID"
   WHERE i."drugName" = 'sorafenib' AND i."targetSpecies" = 'homo sapiens'
   LIMIT 100;
   ```

5. **List physical entities with Uniprot IDs in PHYSICAL_ENTITY_V77:**

   ```sql
   SELECT DISTINCT "uniprot_id", "stable_id"
   FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77
   WHERE "uniprot_id" IS NOT NULL
   LIMIT 100;
   ```

6. **Map target Uniprot IDs to physical entity stable IDs:**

   ```sql
   SELECT i."target_uniprotID", p."stable_id"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
   JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
     ON i."target_uniprotID" = p."uniprot_id"
   WHERE i."drugName" = 'sorafenib' AND i."targetSpecies" = 'homo sapiens'
   LIMIT 100;
   ```

7. **List pathways associated with physical entities (evidence codes):**

   ```sql
   SELECT DISTINCT "pe_stable_id", "pathway_stable_id", "evidence_code"
   FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77
   LIMIT 100;
   ```

8. **Retrieve pathways associated with 'sorafenib' targets:**

   ```sql
   SELECT DISTINCT pw."stable_id", pw."name", pw."species", pw."lowest_level"
   FROM (
     SELECT DISTINCT p."stable_id"
     FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
     JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
       ON i."target_uniprotID" = p."uniprot_id"
     WHERE i."drugName" = 'sorafenib' AND i."targetSpecies" = 'homo sapiens'
   ) t
   JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
     ON t."stable_id" = p2p."pe_stable_id"
   JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
     ON p2p."pathway_stable_id" = pw."stable_id"
   WHERE p2p."evidence_code" = 'TAS' AND pw."lowest_level" = TRUE
   LIMIT 100;
   ```

9. **Filter targets meeting assay conditions:**

   ```sql
   SELECT DISTINCT i."targetID", i."target_uniprotID"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
   JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
     ON i."expID" = e."expID"
   WHERE i."drugName" = 'sorafenib"
     AND i."targetSpecies" = 'homo sapiens'
     AND e."exp_assayValueMedian" <= 100
     AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
     AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
   LIMIT 100;
   ```

10. **Retrieve pathways for targets meeting assay conditions:**

    ```sql
    SELECT DISTINCT pw."stable_id", pw."name", pw."species", pw."lowest_level"
    FROM (
      SELECT DISTINCT p."stable_id"
      FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
      JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
      JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
        ON i."target_uniprotID" = p."uniprot_id"
      WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
    ) t
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
      ON t."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
      ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p2p."evidence_code" = 'TAS' AND pw."lowest_level" = TRUE
    LIMIT 100;
    ```

11. **Count the number of targets per pathway:**

    ```sql
    SELECT pw."name" AS pathway_name, COUNT(DISTINCT p."uniprot_id") AS target_count
    FROM (
      SELECT DISTINCT i."target_uniprotID"
      FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
      JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
      WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
    ) t
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
      ON t."target_uniprotID" = p."uniprot_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
      ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
      ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p2p."evidence_code" = 'TAS' AND pw."lowest_level" = TRUE
    GROUP BY pw."name"
    ORDER BY target_count DESC
    LIMIT 100;
    ```

12. **List all species present in PATHWAY_V77:**

    ```sql
    SELECT DISTINCT "species"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77
    LIMIT 100;
    ```

13. **List all unique evidence codes in PE_TO_PATHWAY_V77:**

    ```sql
    SELECT DISTINCT "evidence_code"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77
    LIMIT 100;
    ```

14. **List all unique assay types in EXPERIMENTS_V1:**

    ```sql
    SELECT DISTINCT "exp_assayType"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1
    LIMIT 100;
    ```

15. **Count total pathways for 'Homo sapiens' at the lowest level:**

    ```sql
    SELECT COUNT(*)
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77
    WHERE "species" = 'Homo sapiens' AND "lowest_level" = TRUE;
    ```

16. **Count total physical entities with Uniprot IDs:**

    ```sql
    SELECT COUNT(*)
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77
    WHERE "uniprot_id" IS NOT NULL;
    ```

---

These queries progressively explore the relevant data, starting from simple listings to more complex joins and filters that align with the conditions specified in the task. They help in understanding the values present in the related columns and how different tables are connected, which is essential for further analysis.Query:
SELECT DISTINCT "drugName"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   LIMIT 100;
Answer:
drugName
Pamidronate Disodium
Gemtuzumab Ozogamicin
Ibritumomab Tiuxetan
Rolapitant Hydrochloride
Uridine Triacetate
Ondansetron Hydrochloride
Palonosetron Hydrochloride
Aprepitant
Defibrotide Sodium
Romiplostim
Eltrombopag Olamine
Imiquimod
Raloxifene Hydrochloride
Prednisone
Mechlorethamine Hydrochloride
Chlorambucil
Cyclophosphamide
Melphalan Hydrochloride
Ifosfamide
Busulfan
Thiotepa
Pemetrexed Disodium
Thioguanine
Clofarabine
Nelarabine
Fluorouracil
Cytarabine
Capecitabine
Etoposide
Paclitaxel
Cabazitaxel
Dactinomycin
Mitoxantrone Hydrochloride
Carboplatin
Rituximab
Cetuximab
Brentuximab Vedotin
Nivolumab
Ixabepilone
Oxaliplatin
Panitumumab
Pertuzumab
Ramucirumab
Pembrolizumab
Elotuzumab
Dasatinib
Lapatinib Ditosylate
Temsirolimus
Regorafenib
Ibrutinib
Venetoclax
Lanreotide Acetate
Bendamustine Hydrochloride
Lomustine
Carmustine
Dacarbazine
Temozolomide
Pralatrexate
Mercaptopurine
Fludarabine Phosphate
Gemcitabine Hydrochloride
Azacitidine
Vincristine Sulfate
Vinblastine Sulfate
Vinorelbine Tartrate
Trabectedin
Doxorubicin Hydrochloride
Daunorubicin Hydrochloride
Idarubicin Hydrochloride
Epirubicin Hydrochloride
Mitomycin C
Ipilimumab
Daratumumab
Imatinib Mesylate
Decitabine
Bleomycin
Necitumumab
Aminolevulinic Acid
Gefitinib
Erlotinib Hydrochloride
Sunitinib Malate
Pazopanib Hydrochloride
Vandetanib
Crizotinib
Ruxolitinib Phosphate
Axitinib
Ponatinib Hydrochloride
Trametinib
Osimertinib
Hydroxyurea
Ceritinib
Topotecan Hydrochloride
Docetaxel
Cisplatin
Trastuzumab
Procarbazine Hydrochloride
Bevacizumab
Ofatumumab
Obinutuzumab
Blinatumomab
Query:
SELECT DISTINCT "targetSpecies"
   FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1
   LIMIT 100;
Answer:
targetSpecies
Homo sapiens
""
Escherichia coli (strain K12)
Rattus norvegicus
Rattus
Mus musculus
Cavia porcellus
Trypanosoma cruzi
Saccharomyces cerevisiae
Rat
Mouse
Escherichia coli
Toxoplasma gondii
Lactobacillus casei
Mycobacterium tuberculosis
Drosophila melanogaster
Varicella-zoster virus (strain Dumas)
Bos taurus
Human papillomavirus type 1a
Enterobacteria phage T4
Human herpesvirus 8
Cercopithecus
Haemophilus influenzae
Streptococcus pyogenes M1 GAS
Human herpesvirus 1 (strain 17)
Clostridium botulinum
Providencia stuartii
Gallus gallus
Plasmodium falciparum (isolate 3D7)
Danio rerio
Mycobacterium tuberculosis H37Rv
Alcaligenes sp. (strain DSM 11172)
Oryctolagus cuniculus
Pneumocystis carinii
Macaca fascicularis
Human herpesvirus 1 (strain SC16)
Escherichia coli str. K-12 substr. MG1655
Sus scrofa
Bison bison
Bacillus amyloliquefaciens
Streptomyces caespitosus
Plasmodium falciparum
Aquifex aeolicus (strain VF5)
Haloarcula marismortui (strain ATCC 43049 / DSM 3752 / JCM 8966 / VKM B-1809)
Vibrio fischeri
Leishmania major
Ovis aries
Torpedo californica
Query:
SELECT i."interactionID", i."drugName", i."targetSpecies", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE e."exp_assayValueMedian" <= 100
LIMIT 100;
Answer:
Too long, hard cut:
interactionID,drugName,targetSpecies,target_uniprotID,exp_assayValueMedian,exp_assayValueLow,exp_assayValueHigh
173,Rolapitant Hydrochloride,Homo sapiens,P25103,0.66,,
1218,Uridine Triacetate,Rattus norvegicus,P25099,14.3,,
1219,Uridine Triacetate,Rattus norvegicus,P30543,2.8,,
16,Venetoclax,Homo sapiens,P10415,0.01,,
16,Venetoclax,Homo sapiens,P10415,0.01,,
17,Venetoclax,Homo sapiens,Q07817,48.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.631,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,79.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.0794,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,98.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.398,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,50.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,0.09,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,3.4,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,12.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,16.0,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,7.6,,
1,Ondansetron Hydrochloride,Homo sapiens,P46098,2.8,,
1,Ondansetron Hyd
Query:
SELECT i."interactionID", i."drugName", i."target_uniprotID",
       e."exp_assayValueMedian", e."exp_assayValueLow", e."exp_assayValueHigh"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE i."drugName" = 'Regorafenib'
  AND i."targetSpecies" = 'Homo sapiens'
  AND e."exp_assayValueMedian" <= 100
LIMIT 100;
Answer:
interactionID,drugName,target_uniprotID,exp_assayValueMedian,exp_assayValueLow,exp_assayValueHigh
22,Regorafenib,P15056,28.0,,
22,Regorafenib,P15056,28.0,,
152,Regorafenib,P35968,13.0,,
152,Regorafenib,P35968,13.0,,
6776,Regorafenib,P34913,0.5,,
Query:
-- Corrected Query 2:
SELECT DISTINCT "uniprot_id", "stable_id"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77
WHERE "uniprot_id" IS NOT NULL
LIMIT 100
Answer:
uniprot_id,stable_id
P68871,R-HSA-1008196
P69891,R-HSA-1008211
O15525,R-HSA-1008212
P02100,R-HSA-1008215
P02042,R-HSA-1008218
Q16621,R-HSA-1008221
Q9UIJ7,R-HSA-1008241
O60675,R-HSA-1008242
P69892,R-HSA-1008254
P69905,R-HSA-1008268
P98160,R-HSA-1011570
Q9NZN4,R-HSA-1011594
Q9H4M9,R-HSA-1011616
Q8NF50,R-HSA-1011619
Q96HP0,R-HSA-1012966
Q96N67,R-HSA-1012970
Q8IZD9,R-HSA-1012973
Q9BZ29,R-HSA-1012981
Q9BTV7,R-HSA-1013845
Q8TDN4,R-HSA-1013870
Q96AZ6,R-HSA-1015671
Q9Y6K5,R-HSA-1015672
P20592,R-HSA-1015675
Q15646,R-HSA-1015678
Q6GPH4,R-HSA-1015680
P14316,R-HSA-1015681
Q05823,R-HSA-1015684
Q8N1I0,R-HSA-1012995
Q5JSL3,R-HSA-1012996
O14896,R-HSA-1015670
P09913,R-HSA-1015674
Q01629,R-HSA-1015682
Q02556,R-HSA-1015685
Q01628,R-HSA-1015688
Q9UBX8,R-HSA-1015811
Q8NI22,R-HSA-1017216
P49257,R-HSA-1017222
Q9BZQ6,R-HSA-1022110
O43173,R-HSA-1022124
Q13438,R-HSA-1022132
Q9UK11,R-HSA-1027350
Q9UK13,R-HSA-1027355
Q9Y2Q1,R-HSA-1027388
Q9NYT6,R-HSA-1027389
A6NK53,R-HSA-1027392
O14978,R-HSA-1027393
Q5JNZ3,R-HSA-1027415
Q96PQ6,R-HSA-1027420
P17035,R-HSA-1027421
Q9BRR0,R-HSA-1027422
Q9HBT8,R-HSA-1027429
P17036,R-HSA-1027432
Q9H0R5,R-HSA-1031696
P18146,R-HSA-1031703
Q9NZL3,R-HSA-1027352
Q96RE9,R-HSA-1027414
Q96GC6,R-HSA-1027416
Q9NZN3,R-HSA-1011601
Q9NRW7,R-HSA-1011607
Q96BY6,R-HSA-1012998
P32456,R-HSA-1015673
Q13568,R-HSA-1015676
P40305,R-HSA-1015677
Q9ULX9,R-HSA-1008261
Q9H7D0,R-HSA-1012991
Q8TDN4,R-HSA-1013859
P10914,R-HSA-1015686
P29728,R-HSA-1015689
O43286,R-HSA-1015832
P13196,R-HSA-1022086
Q13398,R-HSA-1027347
Q9UDV6,R-HSA-1027348
O14771,R-HSA-1027351
Q9UL59,R-HSA-1027353
Q14590,R-HSA-1027383
O43296,R-HSA-1027386
Q14588,R-HSA-1027390
Q14586,R-HSA-1027394
P17027,R-HSA-1027395
P15622,R-HSA-1027396
Q86WZ6,R-HSA-1027397
Q9UIE0,R-HSA-1027399
Q9UDV7,R-HSA-1027417
Q96NJ3,R-HSA-1027425
Q14593,R-HSA-1027426
Q9BYC5,R-HSA-1028782
Q8N8V2,R-HSA-1031689
Q96PP9,R-HSA-1031691
Q96PP8,R-HSA-1031692
Q6ZN66,R-HSA-1031693
Q92637,R-HSA-1031697
P33076,R-HSA-1031702
P13284,R-HSA-1031704
P23497,R-HSA-1031705
P29590,R-HSA-1031706
P61647,R-HSA-1022137
Q9UK10,R-HSA-1027357
Q9UJU3,R-HSA-1027387
Q14584,R-HSA-1027391
Q8NDW4,R-HSA-1027398
Query:
-- Corrected Query 3 (Adjusted to include more data):
SELECT i."target_uniprotID", p."stable_id"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
  ON i."target_uniprotID" = p."uniprot_id"
WHERE i."targetSpecies" = 'Homo sapiens'
LIMIT 100
Answer:
target_uniprotID,stable_id
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P98160,R-HSA-1011570
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
P04049,R-HSA-109786
Query:
-- Corrected Query 4:
SELECT DISTINCT "pe_stable_id", "pathway_stable_id", "evidence_code"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77
LIMIT 100
Answer:
pe_stable_id,pathway_stable_id,evidence_code
R-HSA-904852,R-HSA-15869,IEA
R-HSA-6786263,R-HSA-15869,IEA
R-HSA-2311338,R-HSA-68875,IEA
R-HSA-165978,R-HSA-68875,IEA
R-HSA-2168081,R-HSA-68875,IEA
R-HSA-2172182,R-HSA-68875,IEA
R-HSA-162984,R-HSA-68875,IEA
R-HSA-2172190,R-HSA-68875,IEA
R-HSA-157451,R-HSA-68875,IEA
R-HSA-68901,R-HSA-68875,IEA
R-HSA-166000,R-HSA-68875,IEA
R-HSA-2167938,R-HSA-68875,IEA
R-HSA-2160957,R-HSA-68875,IEA
R-HSA-2430549,R-HSA-68875,IEA
R-HSA-2422374,R-HSA-68875,IEA
R-HSA-68897,R-HSA-68875,IEA
R-HSA-165968,R-HSA-68875,IEA
R-HSA-2167933,R-HSA-68875,IEA
R-HSA-165991,R-HSA-68875,IEA
R-HSA-2517883,R-HSA-68877,IEA
R-HSA-2517887,R-HSA-68877,IEA
R-HSA-157451,R-HSA-68877,IEA
R-HSA-157415,R-HSA-68877,IEA
R-HSA-1638139,R-HSA-68877,IEA
R-HSA-376238,R-HSA-68882,IEA
R-HSA-9634171,R-HSA-68882,IEA
R-HSA-376247,R-HSA-68882,IEA
R-HSA-2167938,R-HSA-68886,IEA
R-HSA-2430532,R-HSA-68886,IEA
R-HSA-376243,R-HSA-68886,IEA
R-HSA-68897,R-HSA-68886,IEA
R-HSA-2517883,R-HSA-68886,IEA
R-HSA-1638136,R-HSA-68886,IEA
R-HSA-176975,R-HSA-69190,IEA
R-HSA-68513,R-HSA-69206,IEA
R-HSA-68549,R-HSA-69239,IEA
R-HSA-3006646,R-HSA-69242,IEA
R-HSA-165978,R-HSA-69278,IEA
R-HSA-170066,R-HSA-68875,IEA
R-HSA-165540,R-HSA-68882,IEA
R-HSA-9634170,R-HSA-68882,IEA
R-HSA-9634225,R-HSA-68882,IEA
R-HSA-376243,R-HSA-68882,IEA
R-HSA-9634226,R-HSA-68882,IEA
R-HSA-9634218,R-HSA-68882,IEA
R-HSA-2168081,R-HSA-68886,IEA
R-HSA-165991,R-HSA-68886,IEA
R-HSA-3000318,R-HSA-68886,IEA
R-HSA-376246,R-HSA-68886,IEA
R-HSA-2172179,R-HSA-68886,IEA
R-HSA-180733,R-HSA-68886,IEA
R-HSA-376251,R-HSA-68886,IEA
R-HSA-68546,R-HSA-69190,IEA
R-HSA-3006646,R-HSA-69190,IEA
R-HSA-176963,R-HSA-69190,IEA
R-HSA-68669,R-HSA-69205,IEA
R-HSA-68889,R-HSA-69205,IEA
R-HSA-113832,R-HSA-69242,IEA
R-HSA-157446,R-HSA-69273,IEA
R-HSA-9634221,R-HSA-68882,IEA
R-HSA-68549,R-HSA-69190,IEA
R-HSA-68642,R-HSA-69206,IEA
R-HSA-68905,R-HSA-69278,IEA
R-HSA-2167936,R-HSA-68875,IEA
R-HSA-2430532,R-HSA-68875,IEA
R-HSA-2422381,R-HSA-68875,IEA
R-HSA-2517885,R-HSA-68877,IEA
R-HSA-68897,R-HSA-68877,IEA
R-HSA-157747,R-HSA-68882,IEA
R-HSA-9634167,R-HSA-68882,IEA
R-HSA-180743,R-HSA-68882,IEA
R-HSA-376237,R-HSA-68882,IEA
R-HSA-9634168,R-HSA-68882,IEA
R-HSA-376253,R-HSA-68882,IEA
R-HSA-376251,R-HSA-68882,IEA
R-HSA-376247,R-HSA-68886,IEA
R-HSA-2172190,R-HSA-68886,IEA
R-HSA-9634218,R-HSA-68886,IEA
R-HSA-157451,R-HSA-68886,IEA
R-HSA-6805183,R-HSA-68886,IEA
R-HSA-68557,R-HSA-69190,IEA
R-HSA-68555,R-HSA-69278,IEA
R-HSA-176975,R-HSA-69278,IEA
R-HSA-157415,R-HSA-68875,IEA
R-HSA-2172179,R-HSA-68875,IEA
R-HSA-3000318,R-HSA-68875,IEA
R-HSA-1638140,R-HSA-68877,IEA
R-HSA-376246,R-HSA-68882,IEA
R-HSA-6805183,R-HSA-68882,IEA
R-HSA-9634172,R-HSA-68882,IEA
R-HSA-2517885,R-HSA-68886,IEA
R-HSA-162984,R-HSA-68886,IEA
R-HSA-157747,R-HSA-68886,IEA
R-HSA-2422374,R-HSA-68886,IEA
R-HSA-2172182,R-HSA-68886,IEA
R-HSA-376237,R-HSA-68886,IEA
R-HSA-2430549,R-HSA-68886,IEA
R-HSA-180743,R-HSA-68886,IEA
R-HSA-2160957,R-HSA-68886,IEA
R-HSA-1638140,R-HSA-68886,IEA
Query:
-- Corrected Query 5 (Simplified conditions):
SELECT DISTINCT pw."stable_id", pw."name", pw."species", pw."lowest_level"
FROM (
  SELECT DISTINCT p."stable_id"
  FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
  JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    ON i."target_uniprotID" = p."uniprot_id"
  WHERE i."targetSpecies" = 'Homo sapiens'
) t
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
  ON t."stable_id" = p2p."pe_stable_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
  ON p2p."pathway_stable_id" = pw."stable_id"
WHERE pw."species" = 'Homo sapiens'
LIMIT 100
Answer:
Too long, hard cut:
stable_id,name,species,lowest_level
R-HSA-186763,Downstream signal transduction,Homo sapiens,True
R-HSA-9700206,Signaling by ALK in cancer,Homo sapiens,False
R-HSA-201681,TCF dependent signaling in response to WNT,Homo sapiens,False
R-HSA-380320,Recruitment of NuMA to mitotic centrosomes,Homo sapiens,True
R-HSA-1483166,Synthesis of PA,Homo sapiens,True
R-HSA-975634,Retinoid metabolism and transport,Homo sapiens,True
R-HSA-5607764,CLEC7A (Dectin-1) signaling,Homo sapiens,False
R-HSA-9717316,alectinib resistant ALK mutants,Homo sapiens,True
R-HSA-450408,AUF1 (hnRNP D0) binds and destabilizes mRNA,Homo sapiens,True
R-HSA-5362798,Release of Hh-Np from the secreting cell,Homo sapiens,True
R-HSA-196854,Metabolism of vitamins and cofactors,Homo sapiens,False
R-HSA-9671793,Diseases of hemostasis,Homo sapiens,False
R-HSA-8982491,Glycogen metabolism,Homo sapiens,False
R-HSA-1430728,Metabolism,Homo sapiens,False
R-HSA-202131,Metabolism of nitric oxide: NOS3 activation and regulation,Homo sapiens,False
R-HSA-166166,MyD88-independent TLR4 cascade ,Homo sapiens,False
R-HSA-1368108,"BMAL1:CLOCK,NPAS2 activates circadian gene expression",Homo sapiens,True
R-HSA-418346,Platelet homeostasis,Homo sapiens,False
R-HSA-1295596,Spry regulation of FGF signaling,Homo sapiens,True
R-HSA-77075,RNA Pol II CTD phosphorylation and interaction with CE,Homo sapiens,True
R-HSA-5654719,SHC-mediated cascade:FGFR4,Homo sapiens,True
R-HSA-199418,Negative regulation of the PI3K/AKT network,Homo sapiens,False
R-HSA-9702605,pexidartinib-resistant FLT3 mutants,Homo sapiens,True
R-HSA-5693537,Resolution of D-Loop Structures,Homo sapiens,False
R-HSA-195399,VEGF binds to VEGFR leading to receptor dimerization,Homo sapiens,True
R-HSA-9669917,Imatinib-resistant KIT mutants,Homo sapiens,True
R-HSA-9665348,Signaling by ERBB2 ECD mutants,Homo sapiens,True
R-HSA-9020702,Interleukin-1 signaling,Homo sapiens,False
R-HSA-9031628,NGF-stimulated transcription,Homo sapiens,True
R-HSA-442720,CREB1 phosphorylation through the activation of Adenylate Cyclase,Homo sapiens,True
R-HSA-1181150,Signaling by NODAL,Homo sapiens,False
R-HSA-4839726,Chromatin organization,Homo sapiens,False
R-HSA-2142770,Synthesis of 15-eicosatetraenoic acid derivatives,Homo sapiens,True
R-HSA-211163,AKT-mediated inactivation of FOXO1A,Homo sapiens,True
R-HSA-380259,Loss of Nlp from mitotic centrosomes,Homo sapiens,True
R-HSA-174154,APC/C:Cdc20 mediated degradation of Securin,Homo sapiens,True
R-HSA-6782135,Dual incision in TC-NER,Homo sapiens,True
R-HSA-190242,FGFR1 ligand binding and activation,Homo sapiens,False
R-HSA-211897,Cytochrome P450 - arranged by substrate type,Homo sapiens,False
R-HSA-5696395,Formation of Incision Complex in GG-NER,Homo sapiens,True
R-HSA-3560783,"Defective B4GALT7 causes EDS, progeroid type",Homo sapiens,True
R-HSA-2514859,"Inactivation, recovery and regulation of the phototransduction cascade",Homo sapiens,True
R-HSA-975957,Nonsense Mediated Decay (NMD) enhanced by the Exon Junction Complex (EJC),Homo sapiens,True
R-HSA-2022090,Assembly of collagen fibrils and other multimeric structures,Homo sapiens,False
R-HSA-6781823,Formation of TC-NER Pre-Incision Complex,Homo sapiens,True
R-HSA-375280,Amine ligand-binding receptors,Homo sapiens,False
R-HSA-9012999,RHO GTPase cycle,Homo sapiens,False
R-HSA-2173789,TGF-beta receptor signaling activates SMADs,Homo sapiens,False
R-HSA-1912422,Pre-NOTCH Expression and Processing,Homo sapiens,False
R-HSA-6806834,Signaling by MET,Homo sapiens,False
R-HSA-174143,APC/C-mediated degradation of cell cycle proteins,Homo sapiens,False
R-HSA-114604,GPVI-mediated activation cascade,Homo sapiens,True
R-HSA-193048,Androgen biosynthesis,Homo sapiens,True
R-HSA-445095,Interaction between L1 and Ankyrins,Homo sapiens,True
R-HSA-8854214,TBC/RABGAPs,Homo sapiens,True
R-HSA-68949,Orc1 removal from chromatin,Homo sapiens,True
R-HSA-1483191,Synthesis of PC,Homo sapiens,True
R-HSA-5576890,Phase 3 - rapid repolarisation,Homo sapiens,True
R-HSA-442729,CREB1 phosphorylation through the activation of CaMKII/CaMKK/CaMKIV cascasde,Homo sapiens,True
R-HSA-6791312,TP53 Regulates Transcription of Cell Cycle Genes,Homo sapiens,False
R-HSA-499943,Interconversion of nucleotide di- and triphosphates,Homo sapiens,True
R-HSA-73933,Resolution of Abasic Sites (AP sites),Homo sapiens,False
R-HSA-9007101,Rab regulation of trafficking,Homo sapiens,False
R-HSA-9674415,Drug resistance of PDGFR mutants,Homo sapiens,False
R-HSA-1566948,Elastic fibre formation,Homo sapiens,False
R-HSA-113501,Inhibition of replication initiation of damaged DNA by RB1/E2F1,Homo sapiens,True
R-HSA-9702600,midostaurin-resistant FLT3 mutants,Homo sapiens,True
R-HSA-9013106,RHOC GTPase cycle,Homo sapiens,True
R-HSA-422356,Regulation of insulin secretion,Homo sapiens,False
R-HSA-428890,Role of ABL in ROBO-SLIT signaling,Homo sapiens,True
R-HSA-9033241,Peroxisomal protein import,Homo sapiens,False
R-HSA-9665230,Drug resistance in ERBB2 KD mutants,Homo sapiens,False
R-HSA-376176,Signaling by ROBO
Query:
-- Corrected Query 6 (Simplified conditions):
SELECT DISTINCT i."targetID", i."target_uniprotID"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
  ON i."expID" = e."expID"
WHERE i."targetSpecies" = 'Homo sapiens'
  AND e."exp_assayValueMedian" <= 100
LIMIT 100
Answer:
targetID,target_uniprotID
1,P46098
126,P40238
39,Q92731
202,Q15125
755,P41595
816,Q99720
122,P32745
124,P35346
651,P08183
36,P00533
322,P52732
306,O14965
18,P11836
17,P15391
5,Q9UM73
196,P16234
197,Q08345
357,O43293
335,Q9H2G2
32,P11511
10,P51451
442,P51812
269,Q15303
303,P08684
127,P04818
861,P05106
45,P36888
90,P42336
590,Q9BZL6
701,P51617
44,P17948
85,Q9Y4K4
195,P04629
258,Q9Y2U5
309,P30530
327,Q12866
412,Q2M2I8
448,Q06418
679,O43283
236,P29317
341,P09769
359,P54764
361,P29322
362,P54762
389,Q15569
664,P43166
478,P53355
594,O75116
27,Q9BWU1
58,Q96DB2
334,O75582
330,Q13188
404,Q9UEE5
747,P48729
873,Q01538
705,Q9H2K8
326,Q8IVH8
370,O95819
615,P15328
821,Q02643
660,P00915
337,P35590
114,Q13043
584,O75385
865,P33527
33,P16410
21,P28907
333,O75676
252,Q08881
409,O75914
624,P49759
676,Q9NWZ3
696,Q9H2X6
748,P80370
116,P12931
343,Q59H18
352,P41240
397,P21709
621,P29320
745,O15197
740,P0C1S8
171,Q99436
115,Q99835
649,P41597
353,P48730
358,Q12852
438,Q9BRS2
580,Q8N4C8
702,P23443
13,Q06187
48,P06241
49,P42685
78,P07948
132,P42681
318,P54753
319,P54760
42,P11362
578,Q9UF33
582,Q8TDR2
276,P08922
Query:
-- Corrected Query 7 (Simplified conditions):
SELECT DISTINCT pw."stable_id", pw."name", pw."species", pw."lowest_level"
FROM (
  SELECT DISTINCT p."stable_id"
  FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
  JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
    ON i."expID" = e."expID"
  JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    ON i."target_uniprotID" = p."uniprot_id"
  WHERE i."targetSpecies" = 'Homo sapiens'
    AND e."exp_assayValueMedian" <= 100
) t
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
  ON t."stable_id" = p2p."pe_stable_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
  ON p2p."pathway_stable_id" = pw."stable_id"
WHERE pw."species" = 'Homo sapiens'
LIMIT 100
Answer:
Too long, hard cut:
stable_id,name,species,lowest_level
R-HSA-5654743,Signaling by FGFR4,Homo sapiens,False
R-HSA-5684996,MAPK1/MAPK3 signaling,Homo sapiens,False
R-HSA-6791312,TP53 Regulates Transcription of Cell Cycle Genes,Homo sapiens,False
R-HSA-9020702,Interleukin-1 signaling,Homo sapiens,False
R-HSA-69206,G1/S Transition,Homo sapiens,False
R-HSA-112399,IRS-mediated signalling,Homo sapiens,False
R-HSA-75153,Apoptotic execution phase,Homo sapiens,False
R-HSA-1500931,Cell-Cell communication,Homo sapiens,False
R-HSA-174143,APC/C-mediated degradation of cell cycle proteins,Homo sapiens,False
R-HSA-199418,Negative regulation of the PI3K/AKT network,Homo sapiens,False
R-HSA-5607764,CLEC7A (Dectin-1) signaling,Homo sapiens,False
R-HSA-211897,Cytochrome P450 - arranged by substrate type,Homo sapiens,False
R-HSA-9664417,Leishmania phagocytosis,Homo sapiens,False
R-HSA-2428924,IGF1R signaling cascade,Homo sapiens,False
R-HSA-166058,MyD88:MAL(TIRAP) cascade initiated on plasma membrane,Homo sapiens,False
R-HSA-9658195,Leishmania infection,Homo sapiens,False
R-HSA-8982491,Glycogen metabolism,Homo sapiens,False
R-HSA-1461973,Defensins,Homo sapiens,False
R-HSA-9675132,Diseases of cellular response to stress,Homo sapiens,False
R-HSA-2672351,Stimuli-sensing channels,Homo sapiens,False
R-HSA-73933,Resolution of Abasic Sites (AP sites),Homo sapiens,False
R-HSA-9674415,Drug resistance of PDGFR mutants,Homo sapiens,False
R-HSA-1280215,Cytokine Signaling in Immune system,Homo sapiens,False
R-HSA-168142,Toll Like Receptor 10 (TLR10) Cascade,Homo sapiens,False
R-HSA-5654716,Downstream signaling of activated FGFR4,Homo sapiens,False
R-HSA-76005,Response to elevated platelet cytosolic Ca2+,Homo sapiens,False
R-HSA-111885,Opioid Signalling,Homo sapiens,False
R-HSA-8986944,Transcriptional Regulation by MECP2,Homo sapiens,False
R-HSA-9034015,Signaling by NTRK3 (TRKC),Homo sapiens,False
R-HSA-9725370,Signaling by ALK fusions and activated point mutants,Homo sapiens,False
R-HSA-5668541,TNFR2 non-canonical NF-kB pathway,Homo sapiens,False
R-HSA-74751,Insulin receptor signalling cascade,Homo sapiens,False
R-HSA-198753,ERK/MAPK targets,Homo sapiens,False
R-HSA-5205647,Mitophagy,Homo sapiens,False
R-HSA-5357769,Caspase activation via extrinsic apoptotic signalling pathway,Homo sapiens,False
R-HSA-5655332,Signaling by FGFR3 in disease,Homo sapiens,False
R-HSA-453276,Regulation of mitotic cell cycle,Homo sapiens,False
R-HSA-5250941,Negative epigenetic regulation of rRNA expression,Homo sapiens,False
R-HSA-5693606,DNA Double Strand Break Response,Homo sapiens,False
R-HSA-69306,DNA Replication,Homo sapiens,False
R-HSA-9013694,Signaling by NOTCH4,Homo sapiens,False
R-HSA-381119,Unfolded Protein Response (UPR),Homo sapiens,False
R-HSA-9682385,FLT3 signaling in disease,Homo sapiens,False
R-HSA-71291,Metabolism of amino acids and derivatives,Homo sapiens,False
R-HSA-9665230,Drug resistance in ERBB2 KD mutants,Homo sapiens,False
R-HSA-389356,CD28 co-stimulation,Homo sapiens,False
R-HSA-5602358,Diseases associated with the TLR signaling cascade,Homo sapiens,False
R-HSA-8876384,Listeria monocytogenes entry into host cells,Homo sapiens,False
R-HSA-9007101,Rab regulation of trafficking,Homo sapiens,False
R-HSA-5625740,RHO GTPases activate PKNs,Homo sapiens,False
R-HSA-1227990,Signaling by ERBB2 in Cancer,Homo sapiens,False
R-HSA-1566948,Elastic fibre formation,Homo sapiens,False
R-HSA-9674428,PDGFR mutants bind TKIs,Homo sapiens,True
R-HSA-8847993,ERBB2 Activates PTK6 Signaling,Homo sapiens,True
R-HSA-936837,Ion transport by P-type ATPases,Homo sapiens,True
R-HSA-9717301,NVP-TAE684-resistant ALK mutants,Homo sapiens,True
R-HSA-8951664,Neddylation,Homo sapiens,True
R-HSA-9702600,midostaurin-resistant FLT3 mutants,Homo sapiens,True
R-HSA-5693579,Homologous DNA Pairing and Strand Exchange,Homo sapiens,False
R-HSA-9700206,Signaling by ALK in cancer,Homo sapiens,False
R-HSA-68886,M Phase,Homo sapiens,False
R-HSA-450408,AUF1 (hnRNP D0) binds and destabilizes mRNA,Homo sapiens,True
R-HSA-141444,Amplification  of signal from unattached  kinetochores via a MAD2  inhibitory signal,Homo sapiens,True
R-HSA-438066,"Unblocking of NMDA receptors, glutamate binding and activation",Homo sapiens,True
R-HSA-9013507,NOTCH3 Activation and Transmission of Signal to the Nucleus,Homo sapiens,False
R-HSA-9005891,Loss of function of MECP2 in Rett syndrome,Homo sapiens,False
R-HSA-74752,Signaling by Insulin receptor,Homo sapiens,False
R-HSA-8941326,RUNX2 regulates bone development,Homo sapiens,False
R-HSA-6807070,PTEN Regulation,Homo sapiens,False
R-HSA-6802957,Oncogenic MAPK signaling,Homo sapiens,False
R-HSA-69202,Cyclin E associated events during G1/S transition ,Homo sapiens,False
R-HSA-1489509,DAG and IP3 signaling,Homo sapiens,False
R-HSA-9683610,Maturation of nucleoprotein,Homo sapiens,True
R-HSA-69242,S Phase,Homo sapiens,False
R-HSA-5693532,DNA Double-Strand Break Repair,Homo sapiens,False
R-HSA-446353,Cell-extracellular matrix interactions,Homo sapiens,False
R-HSA-453279,Mitotic G1 p
Query:
-- Corrected Query 8 (Simplified conditions):
SELECT pw."name" AS pathway_name, COUNT(DISTINCT p."uniprot_id") AS target_count
FROM (
  SELECT DISTINCT i."target_uniprotID"
  FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
  JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
    ON i."expID" = e."expID"
  WHERE i."targetSpecies" = 'Homo sapiens'
    AND e."exp_assayValueMedian" <= 100
) t
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
  ON t."target_uniprotID" = p."uniprot_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
  ON p."stable_id" = p2p."pe_stable_id"
JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
  ON p2p."pathway_stable_id" = pw."stable_id"
WHERE pw."species" = 'Homo sapiens'
GROUP BY pw."name"
ORDER BY target_count DESC
LIMIT 100
Answer:
PATHWAY_NAME,TARGET_COUNT
Signal Transduction,133
Disease,77
Immune System,64
Gene expression (Transcription),60
Generic Transcription Pathway,60
RNA Polymerase II Transcription,60
Developmental Biology,54
Diseases of signal transduction by growth factor receptors and second messengers,54
Signaling by Receptor Tyrosine Kinases,52
Nervous system development,46
Metabolism,46
Axon guidance,45
Cytokine Signaling in Immune system,44
Innate Immune System,40
Signaling by Interleukins,38
Infectious disease,38
Intracellular signaling by second messengers,35
Cellular responses to stress,32
Cellular responses to stimuli,32
PIP3 activates AKT signaling,32
MAPK family signaling cascades,31
Metabolism of proteins,30
MAPK1/MAPK3 signaling,30
RAF/MAP kinase cascade,29
Post-translational protein modification,27
Adaptive Immune System,26
Signaling by GPCR,25
Cell Cycle,24
Metabolism of lipids,24
GPCR downstream signalling,23
"Cell Cycle, Mitotic",22
Hemostasis,22
"Signaling by Rho GTPases, Miro GTPases and RHOBTB3",21
Signaling by Rho GTPases,21
Signaling by NOTCH,21
"PI5P, PP2A and IER3 Regulate PI3K/AKT Signaling",19
Negative regulation of the PI3K/AKT network,19
EPH-Ephrin signaling,19
SUMOylation,17
Regulation of TP53 Activity,17
PI3K/AKT Signaling in Cancer,17
Transcriptional Regulation by TP53,17
SUMO E3 ligases SUMOylate target proteins,17
Transcriptional regulation by RUNX2,15
EPH-ephrin mediated repulsion of cells,15
Signaling by NTRKs,15
Mitotic G1 phase and G1/S transition,15
Signaling by NOTCH1,15
Constitutive Signaling by Aberrant PI3K in Cancer,15
Signaling by Nuclear Receptors,15
Signaling by VEGF,14
Toll-like Receptor Cascades,14
Transport of small molecules,14
SARS-CoV Infections,14
Toll Like Receptor 4 (TLR4) Cascade,14
NOTCH1 Intracellular Domain Regulates Transcription,14
Organelle biogenesis and maintenance,14
Constitutive Signaling by NOTCH1 HD+PEST Domain Mutants,13
Fc epsilon receptor (FCERI) signaling,13
"Platelet activation, signaling and aggregation",13
Regulation of TP53 Activity through Phosphorylation,13
Signaling by NOTCH1 HD+PEST Domain Mutants in Cancer,13
RHO GTPase cycle,13
Neuronal System,13
Toll Like Receptor TLR1:TLR2 Cascade,13
Toll Like Receptor 2 (TLR2) Cascade,13
Programmed Cell Death,13
Signaling by NOTCH1 in Cancer,13
Constitutive Signaling by NOTCH1 PEST Domain Mutants,13
Apoptosis,13
MyD88:MAL(TIRAP) cascade initiated on plasma membrane,13
Signaling by NTRK1 (TRKA),13
Toll Like Receptor TLR6:TLR2 Cascade,13
Transcriptional regulation by RUNX1,13
Signaling by NOTCH1 PEST Domain Mutants in Cancer,13
Potential therapeutics for SARS,12
Notch-HLH transcription pathway,12
EPHA-mediated growth cone collapse,12
PTEN Regulation,12
Transmission across Chemical Synapses,12
Signaling by the B Cell Receptor (BCR),12
TCR signaling,12
VEGFA-VEGFR2 Pathway,12
L1CAM interactions,12
Toll Like Receptor 7/8 (TLR7/8) Cascade,11
Toll Like Receptor 3 (TLR3) Cascade,11
MyD88 cascade initiated on plasma membrane,11
Toll Like Receptor 9 (TLR9) Cascade,11
Interleukin-1 signaling,11
Paradoxical activation of RAF signaling by kinase inactive BRAF,11
MyD88-independent TLR4 cascade ,11
Signaling by BRAF and RAF1 fusions,11
Costimulation by the CD28 family,11
Signaling by WNT,11
RHO GTPase Effectors,11
Signaling downstream of RAS mutants,11
Oncogenic MAPK signaling,11
Toll Like Receptor 10 (TLR10) Cascade,11
Neurotransmitter receptors and postsynaptic signal transmission,11
Signaling by RAS mutants,11
Query:
-- Corrected Query 9:
SELECT DISTINCT "species"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77
LIMIT 100
Answer:
species
Homo sapiens
Query:
-- Corrected Query 10:
SELECT DISTINCT "evidence_code"
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77
LIMIT 100
Answer:
evidence_code
IEA
TAS
Query:
-- Corrected Query 11:
SELECT DISTINCT "exp_assayType"
FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1
LIMIT 100
Answer:
exp_assayType
""
KD
Kd
Ki
EC50
IC50
Query:
-- Corrected Query 12:
SELECT COUNT(*)
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77
WHERE "species" = 'Homo sapiens' AND "lowest_level" = TRUE
Answer:
COUNT(*)
1773
Query:
-- Corrected Query 13:
SELECT COUNT(*)
FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77
WHERE "uniprot_id" IS NOT NULL
Answer:
COUNT(*)
204683
End Exploring Related Columns
Task: What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered.

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: ```sql
SELECT "COLUMN_NAME" FROM DATABASE.SCHEMA.TABLE WHERE ... ``` (Adjust "DATABASE", "SCHEMA", and "TABLE" to match actual names, ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'TARGETOME_REACTOME': {'REACTOME_VERSIONED': ['PATHWAY_HIERARCHY_V77', 'PATHWAY_V77', 'PE_TO_PATHWAY_V77', 'PHYSICAL_ENTITY_V77'], 'TARGETOME_VERSIONED': ['DRUG_SYNONYMS_V1', 'EXPERIMENTS_V1', 'INTERACTIONS_V1', 'SOURCES_V1', 'TARGET_SYNONYMS_V1']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book"
However, if the string is not decided, you may use fuzzy query and ignore upper or lower case. e.g. Get articles that mention "education".
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.
Be careful of information in nested columns. e.g. When it comes to completed purchase, `hits.eCommerceAction.action_type` Indicates the type of ecommerce action and '6' represents completed purchases.
Be careful one country may have different country_name and country_region in different columns in a database.
Don't be misled by examples. For instance, a question related to Android development on StackOverflow might include tags like 'android-layout,' 'android-activity,' or 'android-intent.' However, you should not limit your analysis to just these three tags; instead, consider all tags related to Android: "tags" LIKE '%android%'.

2025-01-24 22:44:04 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:44:04 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS pathway_name
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
```
2025-01-24 22:44:04 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:44:04 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:44:04 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:44:05 - snowflake.connector.connection - INFO - closed
2025-01-24 22:44:05 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:44:05 - root - INFO - itercount: 1
2025-01-24 22:44:05 - root - INFO - 000904 (42000): 01b9ef54-0004-7d15-0001-11c300f9ca8a: SQL compilation error: error line 27 at position 8
invalid identifier 'PP."pathway_name"'
2025-01-24 22:44:05 - root - INFO - Input sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS pathway_name
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
The error information is:
000904 (42000): 01b9ef54-0004-7d15-0001-11c300f9ca8a: SQL compilation error: error line 27 at position 8
invalid identifier 'PP."pathway_name"'
Please correct it and output only 1 complete SQL query.
2025-01-24 22:44:56 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:44:56 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
```
2025-01-24 22:44:56 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:44:56 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:44:56 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:44:58 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:44:58 - snowflake.connector.connection - INFO - closed
2025-01-24 22:44:59 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:44:59 - root - INFO - itercount: 2
2025-01-24 22:44:59 - root - INFO - 0
2025-01-24 22:44:59 - root - INFO - results: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,57
Outside Top 3 Pathways,0,9291


2025-01-24 22:44:59 - root - INFO - Please check the answer again by reviewing What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,57
Outside Top 3 Pathways,0,9291
Current sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";Empty results in Column ['Count_of_Targets']. Please correct them.

2025-01-24 22:46:08 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:46:08 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'Sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
```
2025-01-24 22:46:08 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:46:08 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:46:08 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:46:10 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:46:10 - snowflake.connector.connection - INFO - closed
2025-01-24 22:46:11 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:46:11 - root - INFO - itercount: 3
2025-01-24 22:46:11 - root - INFO - 0
2025-01-24 22:46:11 - root - INFO - results: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,29
Outside Top 3 Pathways,0,9287


2025-01-24 22:46:11 - root - INFO - Please check the answer again by reviewing What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,29
Outside Top 3 Pathways,0,9287
Current sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'Sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";Empty results in Column ['Count_of_Targets']. Please correct them.

2025-01-24 22:47:54 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:47:54 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'Sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT t."uniprot_id") AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
```
2025-01-24 22:47:54 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:47:54 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:47:54 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:47:57 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:47:57 - snowflake.connector.connection - INFO - closed
2025-01-24 22:47:57 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:47:57 - root - INFO - itercount: 4
2025-01-24 22:47:57 - root - INFO - 0
2025-01-24 22:47:57 - root - INFO - results: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,70
Outside Top 3 Pathways,0,9293


2025-01-24 22:47:57 - root - INFO - Please check the answer again by reviewing What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,70
Outside Top 3 Pathways,0,9293
Current sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'Sorafenib'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT t."uniprot_id") AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";Empty results in Column ['Count_of_Targets']. Please correct them.

2025-01-24 22:49:29 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:49:29 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" ILIKE '%sorafenib%'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
```
2025-01-24 22:49:29 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:49:29 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:49:29 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:49:32 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:49:32 - snowflake.connector.connection - INFO - closed
2025-01-24 22:49:32 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:49:33 - root - INFO - itercount: 5
2025-01-24 22:49:33 - root - INFO - 0
2025-01-24 22:49:33 - root - INFO - results: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,9,201
Outside Top 3 Pathways,27,9258


2025-01-24 22:49:33 - root - INFO - Please check the answer again by reviewing What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,9,201
Outside Top 3 Pathways,27,9258
Current sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" ILIKE '%sorafenib%'
        AND i."targetSpecies" = 'Homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT t."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TARGETS t ON pp."uniprot_id" = t."uniprot_id"
    WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
2025-01-24 22:49:53 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:49:53 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";
```
2025-01-24 22:49:53 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:49:53 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:49:53 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:49:55 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:49:55 - snowflake.connector.connection - INFO - closed
2025-01-24 22:49:55 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:49:56 - root - INFO - itercount: 6
2025-01-24 22:49:56 - root - INFO - 0
2025-01-24 22:49:56 - root - INFO - results: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,57
Outside Top 3 Pathways,0,9291


2025-01-24 22:49:56 - root - INFO - Please check the answer again by reviewing What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,0,57
Outside Top 3 Pathways,0,9291
Current sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND i."targetSpecies" = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" = 'Homo sapiens'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_IN_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_IN_TOP_PATHWAYS) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(*) FROM TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_Targets",
       (SELECT COUNT(*) FROM NON_TARGETS_OUTSIDE_TOP_PATHWAYS) AS "Count_of_NonTargets";Empty results in Column ['Count_of_Targets']. Please correct them.

2025-01-24 22:51:25 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:51:25 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" LIKE '%Sorafenib%'
        AND i."targetSpecies" ILIKE '%Homo sapiens%'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" ILIKE '%Homo sapiens%'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       COUNT(DISTINCT ttp."uniprot_id") AS "Count_of_Targets",
       COUNT(DISTINCT ntp."uniprot_id") AS "Count_of_NonTargets"
FROM TARGETS_IN_TOP_PATHWAYS ttp
FULL JOIN NON_TARGETS_IN_TOP_PATHWAYS ntp ON 1=1
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       COUNT(DISTINCT totp."uniprot_id") AS "Count_of_Targets",
       COUNT(DISTINCT notp."uniprot_id") AS "Count_of_NonTargets"
FROM TARGETS_OUTSIDE_TOP_PATHWAYS totp
FULL JOIN NON_TARGETS_OUTSIDE_TOP_PATHWAYS notp ON 1=1;
```
2025-01-24 22:51:25 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:51:25 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:51:25 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:51:27 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:51:27 - snowflake.connector.connection - INFO - closed
2025-01-24 22:51:27 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:51:27 - root - INFO - itercount: 7
2025-01-24 22:51:27 - root - INFO - 0
2025-01-24 22:51:27 - root - INFO - results: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,9,117
Outside Top 3 Pathways,27,9261


2025-01-24 22:51:27 - root - INFO - Please check the answer again by reviewing What are the counts of targets and non-targets within and outside the top 3 pathways with the highest chi-squared statistic for target species 'homo sapiens' associated with 'sorafenib' only? The targets should meet specific assay conditions (median assay value  100, with assay values below and above also  100 or NULL if not applicable), and only pathways with TAS evidence at the lowest level should be considered., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,count_within_targets:int,count_within_nontargets:int
Outside Top 3 Pathways,count_outside_targets:int,count_outside_nontargets:int
```

**Explanation:**

The table displays the counts of targets and non-targets within and outside the top three pathways with the highest chi-squared statistics for 'homo sapiens' targets associated with 'sorafenib' under the specified assay conditions. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Location,Count_of_Targets,Count_of_NonTargets
Within Top 3 Pathways,9,117
Outside Top 3 Pathways,27,9261
Current sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" LIKE '%Sorafenib%'
        AND i."targetSpecies" ILIKE '%Homo sapiens%'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND pw."species" ILIKE '%Homo sapiens%'
),
PATHWAY_COUNTS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN t."uniprot_id" IS NOT NULL THEN pp."uniprot_id" END) AS targets_in_pathway
    FROM PROTEIN_PATHWAYS pp
    LEFT JOIN TARGETS t
        ON pp."uniprot_id" = t."uniprot_id"
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
TOP_PATHWAYS AS (
    SELECT "pathway_stable_id"
    FROM PATHWAY_COUNTS
    ORDER BY targets_in_pathway DESC NULLS LAST
    LIMIT 3
),
TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
),
NON_TARGETS_IN_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    JOIN TOP_PATHWAYS tp ON pp."pathway_stable_id" = tp."pathway_stable_id"
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
),
NON_TARGETS_OUTSIDE_TOP_PATHWAYS AS (
    SELECT DISTINCT pp."uniprot_id"
    FROM PROTEIN_PATHWAYS pp
    WHERE pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
      AND pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM TOP_PATHWAYS)
)
SELECT 'Within Top 3 Pathways' AS "Location",
       COUNT(DISTINCT ttp."uniprot_id") AS "Count_of_Targets",
       COUNT(DISTINCT ntp."uniprot_id") AS "Count_of_NonTargets"
FROM TARGETS_IN_TOP_PATHWAYS ttp
FULL JOIN NON_TARGETS_IN_TOP_PATHWAYS ntp ON 1=1
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       COUNT(DISTINCT totp."uniprot_id") AS "Count_of_Targets",
       COUNT(DISTINCT notp."uniprot_id") AS "Count_of_NonTargets"
FROM TARGETS_OUTSIDE_TOP_PATHWAYS totp
FULL JOIN NON_TARGETS_OUTSIDE_TOP_PATHWAYS notp ON 1=1;
2025-01-24 22:52:37 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:52:37 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND LOWER(i."targetSpecies") = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND LOWER(pw."species") = 'homo sapiens'
),
UNIPROT_LIST AS (
    SELECT DISTINCT "uniprot_id"
    FROM PROTEIN_PATHWAYS
),
TOTAL_TARGETS AS (
    SELECT COUNT(*) AS target_count
    FROM TARGETS t
    WHERE t."uniprot_id" IN (SELECT "uniprot_id" FROM UNIPROT_LIST)
),
TOTAL_NON_TARGETS AS (
    SELECT COUNT(*) AS non_target_count
    FROM UNIPROT_LIST u
    WHERE u."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
PATHWAY_STATS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        SUM(CASE WHEN pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS) THEN 1 ELSE 0 END) AS a, -- targets in pathway
        SUM(CASE WHEN pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS) THEN 1 ELSE 0 END) AS c -- non-targets in pathway
    FROM PROTEIN_PATHWAYS pp
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
PATHWAY_CHI_SQUARED AS (
    SELECT
        ps."pathway_stable_id",
        ps."pathway_name",
        ps.a,
        ((SELECT target_count FROM TOTAL_TARGETS) - ps.a) AS b, -- targets not in pathway
        ps.c,
        ((SELECT non_target_count FROM TOTAL_NON_TARGETS) - ps.c) AS d, -- non-targets not in pathway
        ((ps.a * ps.d - ps.b * ps.c) * (ps.a * ps.d - ps.b * ps.c) * ((ps.a + ps.b + ps.c + ps.d))) /
        ((ps.a + ps.b) * (ps.c + ps.d) * (ps.a + ps.c) * (ps.b + ps.d)) AS chi_squared
    FROM PATHWAY_STATS ps
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_NonTargets";
```
2025-01-24 22:52:37 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:52:37 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:52:37 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:52:39 - snowflake.connector.connection - INFO - closed
2025-01-24 22:52:39 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:52:39 - root - INFO - itercount: 8
2025-01-24 22:52:39 - root - INFO - 000904 (42000): 01b9ef5c-0004-7d15-0001-11c300f9cb5a: SQL compilation error: error line 55 at position 17
invalid identifier 'PS.D'
2025-01-24 22:52:39 - root - INFO - Input sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND LOWER(i."targetSpecies") = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND LOWER(pw."species") = 'homo sapiens'
),
UNIPROT_LIST AS (
    SELECT DISTINCT "uniprot_id"
    FROM PROTEIN_PATHWAYS
),
TOTAL_TARGETS AS (
    SELECT COUNT(*) AS target_count
    FROM TARGETS t
    WHERE t."uniprot_id" IN (SELECT "uniprot_id" FROM UNIPROT_LIST)
),
TOTAL_NON_TARGETS AS (
    SELECT COUNT(*) AS non_target_count
    FROM UNIPROT_LIST u
    WHERE u."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
PATHWAY_STATS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        SUM(CASE WHEN pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS) THEN 1 ELSE 0 END) AS a, -- targets in pathway
        SUM(CASE WHEN pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS) THEN 1 ELSE 0 END) AS c -- non-targets in pathway
    FROM PROTEIN_PATHWAYS pp
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
PATHWAY_CHI_SQUARED AS (
    SELECT
        ps."pathway_stable_id",
        ps."pathway_name",
        ps.a,
        ((SELECT target_count FROM TOTAL_TARGETS) - ps.a) AS b, -- targets not in pathway
        ps.c,
        ((SELECT non_target_count FROM TOTAL_NON_TARGETS) - ps.c) AS d, -- non-targets not in pathway
        ((ps.a * ps.d - ps.b * ps.c) * (ps.a * ps.d - ps.b * ps.c) * ((ps.a + ps.b + ps.c + ps.d))) /
        ((ps.a + ps.b) * (ps.c + ps.d) * (ps.a + ps.c) * (ps.b + ps.d)) AS chi_squared
    FROM PATHWAY_STATS ps
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (SELECT "pathway_stable_id" FROM PATHWAY_CHI_SQUARED ORDER BY chi_squared DESC NULLS LAST LIMIT 3)
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)) AS "Count_of_NonTargets";
The error information is:
000904 (42000): 01b9ef5c-0004-7d15-0001-11c300f9cb5a: SQL compilation error: error line 55 at position 17
invalid identifier 'PS.D'
Please correct it and output only 1 complete SQL query.
2025-01-24 22:53:57 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:53:57 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND LOWER(i."targetSpecies") = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND LOWER(pw."species") = 'homo sapiens'
),
UNIPROT_LIST AS (
    SELECT DISTINCT "uniprot_id"
    FROM PROTEIN_PATHWAYS
),
TOTAL_TARGETS AS (
    SELECT COUNT(DISTINCT t."uniprot_id") AS target_count
    FROM TARGETS t
    WHERE t."uniprot_id" IN (SELECT "uniprot_id" FROM UNIPROT_LIST)
),
TOTAL_NON_TARGETS AS (
    SELECT COUNT(DISTINCT u."uniprot_id") AS non_target_count
    FROM UNIPROT_LIST u
    WHERE u."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
PATHWAY_STATS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS) THEN pp."uniprot_id" END) AS a, -- targets in pathway
        COUNT(DISTINCT CASE WHEN pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS) THEN pp."uniprot_id" END) AS c -- non-targets in pathway
    FROM PROTEIN_PATHWAYS pp
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
PATHWAY_CHI_SQUARED AS (
    SELECT
        ps."pathway_stable_id",
        ps."pathway_name",
        ps.a,
        ps.c,
        (target_count - ps.a) AS b, -- targets not in pathway
        (non_target_count - ps.c) AS d -- non-targets not in pathway
    FROM PATHWAY_STATS ps
    CROSS JOIN TOTAL_TARGETS
    CROSS JOIN TOTAL_NON_TARGETS
),
CHI_SQUARED_VALUES AS (
    SELECT
        pcs."pathway_stable_id",
        pcs."pathway_name",
        pcs.a,
        pcs.b,
        pcs.c,
        pcs.d,
        ((pcs.a * pcs.d - pcs.b * pcs.c) * (pcs.a * pcs.d - pcs.b * pcs.c) * (pcs.a + pcs.b + pcs.c + pcs.d)) /
        ((pcs.a + pcs.b) * (pcs.c + pcs.d) * (pcs.a + pcs.c) * (pcs.b + pcs.d)) AS chi_squared
    FROM PATHWAY_CHI_SQUARED pcs
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_NonTargets";
```

**Explanation:**

The error occurred because we were trying to reference the alias `ps.d` in the calculation of `chi_squared` within the same `SELECT` statement where `ps.d` is being defined. In SQL, you cannot reference an alias in the same level where it's declared.

To fix this, we separated the calculation into two steps:

1. **Calculate `ps.b` and `ps.d`** in the `PATHWAY_CHI_SQUARED` common table expression (CTE).
2. **Calculate `chi_squared`** in a new CTE called `CHI_SQUARED_VALUES`, where `ps.a`, `ps.b`, `ps.c`, and `ps.d` are now available for use in the calculation.

Additionally, we used `CROSS JOIN` to include `TOTAL_TARGETS` and `TOTAL_NON_TARGETS` in the `PATHWAY_CHI_SQUARED` CTE to make `target_count` and `non_target_count` available for calculations.

By restructuring the query in this way, we ensure that all variables used in the `chi_squared` calculation are properly defined and accessible, eliminating the previous error.
2025-01-24 22:53:57 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:53:57 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:53:57 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:53:59 - snowflake.connector.connection - INFO - closed
2025-01-24 22:53:59 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:54:00 - root - INFO - itercount: 9
2025-01-24 22:54:00 - root - INFO - 100051 (22012): 01b9ef5d-0004-7d15-0001-11c300f9cb7e: Division by zero
2025-01-24 22:54:00 - root - INFO - Input sql:
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED.INTERACTIONS_V1 i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED.EXPERIMENTS_V1 e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND LOWER(i."targetSpecies") = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED.PHYSICAL_ENTITY_V77 p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PE_TO_PATHWAY_V77 p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED.PATHWAY_V77 pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND LOWER(pw."species") = 'homo sapiens'
),
UNIPROT_LIST AS (
    SELECT DISTINCT "uniprot_id"
    FROM PROTEIN_PATHWAYS
),
TOTAL_TARGETS AS (
    SELECT COUNT(DISTINCT t."uniprot_id") AS target_count
    FROM TARGETS t
    WHERE t."uniprot_id" IN (SELECT "uniprot_id" FROM UNIPROT_LIST)
),
TOTAL_NON_TARGETS AS (
    SELECT COUNT(DISTINCT u."uniprot_id") AS non_target_count
    FROM UNIPROT_LIST u
    WHERE u."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
PATHWAY_STATS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS) THEN pp."uniprot_id" END) AS a, -- targets in pathway
        COUNT(DISTINCT CASE WHEN pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS) THEN pp."uniprot_id" END) AS c -- non-targets in pathway
    FROM PROTEIN_PATHWAYS pp
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
PATHWAY_CHI_SQUARED AS (
    SELECT
        ps."pathway_stable_id",
        ps."pathway_name",
        ps.a,
        ps.c,
        (target_count - ps.a) AS b, -- targets not in pathway
        (non_target_count - ps.c) AS d -- non-targets not in pathway
    FROM PATHWAY_STATS ps
    CROSS JOIN TOTAL_TARGETS
    CROSS JOIN TOTAL_NON_TARGETS
),
CHI_SQUARED_VALUES AS (
    SELECT
        pcs."pathway_stable_id",
        pcs."pathway_name",
        pcs.a,
        pcs.b,
        pcs.c,
        pcs.d,
        ((pcs.a * pcs.d - pcs.b * pcs.c) * (pcs.a * pcs.d - pcs.b * pcs.c) * (pcs.a + pcs.b + pcs.c + pcs.d)) /
        ((pcs.a + pcs.b) * (pcs.c + pcs.d) * (pcs.a + pcs.c) * (pcs.b + pcs.d)) AS chi_squared
    FROM PATHWAY_CHI_SQUARED pcs
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_NonTargets";
The error information is:
100051 (22012): 01b9ef5d-0004-7d15-0001-11c300f9cb7e: Division by zero
Please correct it and output only 1 complete SQL query.
2025-01-24 22:55:00 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 22:55:00 - root - INFO - ```sql
WITH TARGETS AS (
    SELECT DISTINCT i."target_uniprotID" AS "uniprot_id"
    FROM TARGETOME_REACTOME.TARGETOME_VERSIONED."INTERACTIONS_V1" i
    JOIN TARGETOME_REACTOME.TARGETOME_VERSIONED."EXPERIMENTS_V1" e
        ON i."expID" = e."expID"
    WHERE i."drugName" = 'sorafenib'
        AND LOWER(i."targetSpecies") = 'homo sapiens'
        AND e."exp_assayValueMedian" <= 100
        AND (e."exp_assayValueLow" <= 100 OR e."exp_assayValueLow" IS NULL)
        AND (e."exp_assayValueHigh" <= 100 OR e."exp_assayValueHigh" IS NULL)
),
PROTEIN_PATHWAYS AS (
    SELECT DISTINCT p."uniprot_id", p2p."pathway_stable_id", pw."name" AS "pathway_name"
    FROM TARGETOME_REACTOME.REACTOME_VERSIONED."PHYSICAL_ENTITY_V77" p
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED."PE_TO_PATHWAY_V77" p2p
        ON p."stable_id" = p2p."pe_stable_id"
    JOIN TARGETOME_REACTOME.REACTOME_VERSIONED."PATHWAY_V77" pw
        ON p2p."pathway_stable_id" = pw."stable_id"
    WHERE p."uniprot_id" IS NOT NULL
        AND p2p."evidence_code" = 'TAS'
        AND pw."lowest_level" = TRUE
        AND LOWER(pw."species") = 'homo sapiens'
),
UNIPROT_LIST AS (
    SELECT DISTINCT "uniprot_id"
    FROM PROTEIN_PATHWAYS
),
TOTAL_TARGETS AS (
    SELECT COUNT(DISTINCT t."uniprot_id") AS target_count
    FROM TARGETS t
    WHERE t."uniprot_id" IN (SELECT "uniprot_id" FROM UNIPROT_LIST)
),
TOTAL_NON_TARGETS AS (
    SELECT COUNT(DISTINCT u."uniprot_id") AS non_target_count
    FROM UNIPROT_LIST u
    WHERE u."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
),
PATHWAY_STATS AS (
    SELECT
        pp."pathway_stable_id",
        pp."pathway_name",
        COUNT(DISTINCT CASE WHEN pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS) THEN pp."uniprot_id" END) AS a, -- targets in pathway
        COUNT(DISTINCT CASE WHEN pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS) THEN pp."uniprot_id" END) AS c -- non-targets in pathway
    FROM PROTEIN_PATHWAYS pp
    GROUP BY pp."pathway_stable_id", pp."pathway_name"
),
PATHWAY_CHI_SQUARED AS (
    SELECT
        ps."pathway_stable_id",
        ps."pathway_name",
        ps.a,
        ps.c,
        (target_count - ps.a) AS b, -- targets not in pathway
        (non_target_count - ps.c) AS d -- non-targets not in pathway
    FROM PATHWAY_STATS ps
    CROSS JOIN TOTAL_TARGETS
    CROSS JOIN TOTAL_NON_TARGETS
),
CHI_SQUARED_VALUES AS (
    SELECT
        pcs."pathway_stable_id",
        pcs."pathway_name",
        pcs.a,
        pcs.b,
        pcs.c,
        pcs.d,
        CASE WHEN ((pcs.a + pcs.b) * (pcs.c + pcs.d) * (pcs.a + pcs.c) * (pcs.b + pcs.d)) = 0
            THEN NULL
            ELSE ((pcs.a * pcs.d - pcs.b * pcs.c) * (pcs.a * pcs.d - pcs.b * pcs.c) * (pcs.a + pcs.b + pcs.c + pcs.d)) /
                 ((pcs.a + pcs.b) * (pcs.c + pcs.d) * (pcs.a + pcs.c) * (pcs.b + pcs.d))
        END AS chi_squared
    FROM PATHWAY_CHI_SQUARED pcs
)
SELECT 'Within Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_NonTargets"
UNION ALL
SELECT 'Outside Top 3 Pathways' AS "Location",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_Targets",
       (SELECT COUNT(DISTINCT pp."uniprot_id")
        FROM PROTEIN_PATHWAYS pp
        WHERE pp."pathway_stable_id" NOT IN (
            SELECT "pathway_stable_id"
            FROM CHI_SQUARED_VALUES
            ORDER BY chi_squared DESC NULLS LAST
            LIMIT 3
        )
          AND pp."uniprot_id" NOT IN (SELECT "uniprot_id" FROM TARGETS)
       ) AS "Count_of_NonTargets";
```
2025-01-24 22:55:00 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 22:55:00 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 22:55:00 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 22:55:02 - snowflake.connector.cursor - INFO - Number of results in first chunk: 2
2025-01-24 22:55:02 - snowflake.connector.connection - INFO - closed
2025-01-24 22:55:02 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 22:55:03 - root - INFO - Total iteration counts: 10
