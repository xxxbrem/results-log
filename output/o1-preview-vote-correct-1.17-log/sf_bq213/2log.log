2025-01-16 16:54:45 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-16 16:55:35 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-16 16:55:35 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:35 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:35 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:36 - snowflake.connector.cursor - INFO - Number of results in first chunk: 93
2025-01-16 16:55:36 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:36 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:37 - root - INFO - SQL:
-- 1. Get distinct country codes
SELECT DISTINCT "country_code" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
Results:
country_code
DO
WO
BA
UA
MW
YU
ZM
LT
KR
RO
BG
TR
GR
CH
NO
MX
GE
EE
CZ
SV
HN
PA
EG
AU
CU
CR
PL
IT
CY
OA
GB
SG
CN
MC
JP
HU
DZ
AT
NL
CA
IS
SK
NI
IN
EC
ES
IE
EA
TN
GT
HK
CO
AR
SI
KE
IL
TW
MT
MD
JO
MA
ZA
EP
RS
PE
LU
DK
FI
BE
ZW
DD
DE
US
PH
SA
MN
FR
SU
BR
ID
KZ
HR
RU
SE
AP
ME
SM
NZ
PT
CL
LV
CS
MY

2025-01-16 16:55:37 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:37 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:37 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:38 - snowflake.connector.cursor - INFO - Number of results in first chunk: 80
2025-01-16 16:55:38 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:38 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:38 - root - INFO - SQL:
-- 2. Get distinct kind codes
SELECT DISTINCT "kind_code" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
Results:
kind_code
C1
A1
P
B7
F1
P9
I1
T9
U9
B5
A4
A3
P1
C4
V0
D2
U8
B1
S
D1
U4
G2
T5
C3
A7
S2
Z2
R
U
T2
Y2
D
T
L
Z
E
D0
G
Y1
B
U2
C
B8
C0
T3
R1
B2
U5
B9
A0
A8
I2
A2
F2
A
B3
T4
C9
T8
U0
U1
V
A6
Y
A5
S1
U3
M
H1
Y8
B4
C2
C5
Q
H3
B6
A9
E2
T1
Y4

2025-01-16 16:55:38 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:38 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:38 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:40 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:55:40 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:40 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:41 - root - INFO - SQL:
-- 3. Get grant dates between June and August 2022
SELECT "grant_date" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Results:
Too long, hard cut:
grant_date
20220609
20220726
20220614
20220628
20220803
20220817
20220729
20220715
20220607
20220712
20220701
20220729
20220607
20220809
20220712
20220621
20220729
20220722
20220726
20220712
20220705
20220610
20220719
20220628
20220722
20220603
20220722
20220621
20220705
20220610
20220607
20220726
20220603
20220719
20220712
20220715
20220715
20220708
20220628
20220617
20220823
20220823
20220715
20220826
20220805
20220816
20220614
20220705
20220708
20220603
20220830
20220607
20220705
20220816
20220624
20220708
20220802
20220628
20220607
20220624
20220624
20220812
20220607
20220819
20220823
20220628
20220816
20220826
20220712
20220628
20220610
20220823
20220712
20220607
20220603
20220715
20220812
20220823
20220819
20220719
20220607
20220701
20220712
20220607
20220624
20220722
20220614
20220614
20220826
20220708
20220624
20220816
20220712
20220722
20220708
20220729
20220823
20220805
20220628
20220823
20220722
20220729
20220719
20220708
20220708
20220705
20220712
20220826
20220823
20220621
20220805
20220708
20220719
20220823
20220802
20220726
20220712
20220729
20220805
20220729
20220729
20220722
20220628
20220715
20220722
20220823
20220826
20220712
20220809
20220729
20220712
20220719
20220816
20220719
20220805
20220805
20220802
20220830
20220802
20220819
20220802
20220701
20220823
20220830
20220802
20220816
20220802
20220726
20220722
20220819
20220816
20220705
20220617
20220715
20220603
20220628
20220708
20220603
20220805
20220712
20220614
20220729
20220621
20220628
20220614
20220614
20220603
20220617
20220621
20220621
20220607
20220617
20220624
20220621
20220826
20220705
20220719
20220705
20220603
20220603
20220621
20220617
20220624
20220712
20220624
20220614
20220603
20220719
20220614
20220610
20220624
20220719
20220823
20220823
20220603
20220628
20220719
20220603
20220628
20220610
20220719
20220614
20220719
20220719
20220701
20220607
20220624
20220708
20220603
20220607
20220712
20220628
20220809
20220712
20220809
20220701
20220816
20220708
20220603
20220812
20220719
20220603
20220607
20220624
20220816
20220705
20220621
20220621
20220812
20220624
20220607
20220603
20220715
20220610
20220830
20220729
20220603
20220823
20220708
20220802
20220712
20220624
20220712
20220628
20220610
20220816
20220812
20220726
20220603
20220830
20220802
20220809
20220830
20220607
20220607
20220816
20220823
20220805
20220819
20220712
20220603
20220614
20220621
20220607
20220826
20220624
20220802
20220823
20220802
20220603
20220614
20220712
20220805
20220809
20220816
20220816
20220823
20220708
20220823
20220816
20220617
20220729
20220819
20220819
20220819
20220729
20220701
20220624
20220826
20220614
20220830
20220628
20220830
20220628
20220628
20220715
20220816
20220705
20220719
20220617
20220712
20220830
20220621
20220708
20220722
20220705
20220802
20220802
20220614
20220816
20220805
20220624
20220826
20220729
20220816
20220729
20220816
20220624
20220624
20220715
20220805
20220719
20220816
20220705
20220726
20220719
20220712
20220809
20220823
20220701
20220729
20220729
20220712
20220816
20220805
20220801
20220728
20220825
20220825
20220712
20220614
20220729
20220621
20220603
20220628
20220722
20220722
20220712
20220621
20220722
20220712
20220812
20220712
20220826
20220805
20220607
20220719
20220708
20220809
20220729
20220719
20220812
20220705
20220705
20220628
20220715
20220705
20220621
20220722
20220614
20220719
20220812
20220617
20220715
20220607
20220603
20220719
20220614
20220805
20220614
20220614
20220701
20220621
20220708
20220624
20220712
20220708
20220621
20220607
20220802
20220617
20220712
20220607
20220624
20220708
20220719
20220823
20220705
20220830
20220819
20220722
20220715
20220617
20220819
20220726
20220607
20220816
20220617
20220715
20220624
20220726
20220802
20220624
20220610
20220712
20220823
20220628
20220712
20220802
20220816
20220823
20220715
20220610
20220809
20220729
20220719
20220628
20220812
20220712
20220719
20220705
20220826
20220617
20220712
20220705
20220617
20220610
20220819
20220722
20220610
20220812
20220719
20220628
20220812
20220617
20220715
20220628
20220614
20220816
20220701
20220823
20220705
20220624
20220621
20220722
20220805
20220607
20220624
20220621
20220826
20220823
20220805
20220722
20220614
20220812
20220708
20220726
20220719
20220705
20220719
20220819
20220705
20220708
20220719
20220614
20220729
20220712
20220628
20220715
20220805
20220802
20220701
20220816
20220826
20220712
20220816
20220628
20220826
20220809
20220726
20220628
20220816
20220628
20220719
20220705
20220826
20220722
20220722
20220701
20220624
20220719
20220712
20220719
20220809
20220715
20220805
20220712
20220712
20220719
20220701
20220628
20220705
20220729
20220819
20220726
20220802
20220809
20220802
20220812
20220719
20220729
20220712
20220712
20220719
20220719
20220715
20220708
20220816
20220812
20220726
20220826
20220726
20220823
20220802
20220722
20220823
20220722
20220819
20220715
20220809
20220722
20220722
20220802
20220805
20220726
20220729
20220729
20220826
20220729
20220826
20220826
20220805
20220830
20220823
202

2025-01-16 16:55:41 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:41 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:41 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-16 16:55:42 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:42 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:42 - root - INFO - SQL:
-- 4. Count the number of US patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US';
Results:
COUNT(*)
57953

2025-01-16 16:55:42 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:42 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:42 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:44 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-16 16:55:44 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:44 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:45 - root - INFO - SQL:
-- 5. Count the number of B2 kind code patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "kind_code" = 'B2';
Results:
COUNT(*)
37891

2025-01-16 16:55:45 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:45 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:45 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:46 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-16 16:55:46 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:46 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:46 - root - INFO - SQL:
-- 6. Count the number of US B2 patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' AND "kind_code" = 'B2';
Results:
COUNT(*)
11090

2025-01-16 16:55:46 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:46 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:46 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:48 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-16 16:55:48 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:48 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:48 - root - INFO - SQL:
-- 7. Count the number of US B2 patents granted between June and August 2022
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
  AND "kind_code" = 'B2' 
  AND "grant_date" BETWEEN 20220601 AND 20220831;
Results:
COUNT(*)
201

2025-01-16 16:55:48 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:48 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:48 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:50 - snowflake.connector.cursor - INFO - Number of results in first chunk: 359
2025-01-16 16:55:51 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:51 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:51 - root - INFO - SQL:
-- 8. Get publication numbers and ipc field for patents granted between June and August 2022
SELECT "publication_number", "ipc" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc
CN-216698045-U,"[
  {
    ""code"": ""H01F27/16"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01F27/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216942604-U,"[
  {
    ""code"": ""B60H1/32"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B60P3/20"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216869430-U,"[
  {
    ""code"": ""G01B3/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01B5/28"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217072603-U,"[
  {
    ""code"": ""B26D7/18"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216675802-U,"[
  {
    ""code"": ""A61B17/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217155194-U,"[
  {
    ""code"": ""G01B5/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216933663-U,"[
  {
    ""code"": ""A61F5/058"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216785733-U,"[
  {
    ""code"": ""C01B32/205"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B65G65/40"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B65G65/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217080464-U,"[
  {
    ""code"": ""E21D9/10"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217034744-U,"[
  {
    ""code"": ""G06K7/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217062367-U,"[
  {
    ""code"": ""H01M50/244"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M50/249"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M50/24"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M10/625"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M10/615"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216941023-U,"[
  {
    ""code"": ""B26D7/32"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216903573-U,"[
  {
    ""code"": ""H01R24/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R13/52"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R13/639"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R31/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216707297-U,"[
  {
    ""code"": ""B08B1/20"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B25B11/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B25B27/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217008978-U,"[
  {
    ""code"": ""H01H9/20"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216832332-U,"[
  {
    ""code"": ""B29C69/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B29C65/56"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B29C59/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B29C31/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217025536-U,"[
  {
    ""code"": ""C02F9/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216664325-U,"[
  {
    ""code"": ""E03B11/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B7/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B7/09"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B7/07"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217027443-U,"[
  {
    ""code"": ""E04B1/58"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B23K31/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E04B1/18"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216781167-U,"[
  {
    ""code"": ""B23Q11/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216874023-U,"[
  {
    ""code"": ""A01G3/04"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216711847-U,"[
  {
    ""code"": ""C02F9/14"",
    ""first"": true,
    ""inventive"": true,
    ""t

2025-01-16 16:55:51 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:51 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:51 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:53 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:55:53 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:53 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:53 - root - INFO - SQL:
-- 9. Flatten the ipc field to explore its contents
SELECT t."publication_number", f.value 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,VALUE
US-2022245697-A1,"{
  ""code"": ""G06F16/903"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F40/247"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06Q30/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F16/9035"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B1/267"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B90/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61M25/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B5/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/355"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/352"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/15"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/22"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W24/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/27"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/08"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/30"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/15"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""C12G3/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/262"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/256"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L17/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N1/40"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N21/64"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0525"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0567"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0569"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0568"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M4/58"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""G06K9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/09"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W40/105"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/18"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W10/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/513"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/188"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M16/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/03"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/463"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/148"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N59/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/61"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N43/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"


2025-01-16 16:55:53 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:53 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:53 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:54 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:55:54 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:55 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:55 - root - INFO - SQL:
-- 10. Extract ipc codes from the ipc field
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-2019386123-A1,H01L29/732
US-2019386123-A1,H01L23/66
US-2019386123-A1,H01L29/66
US-2019386123-A1,H01L29/205
US-2019386123-A1,H01L29/165
US-2019386123-A1,H01L29/73
US-2019386123-A1,H01L29/36
US-2019386123-A1,H01L29/08
US-2019386123-A1,H01L29/737
US-2019120553-A1,F26B15/12
US-2019120553-A1,F26B25/00
US-2020198027-A1,B23C5/22
US-2019137145-A1,H04B1/3888
US-2019137145-A1,H04M1/18
US-2019137145-A1,F24V30/00
US-2019137145-A1,G06F1/16
US-2019307110-A1,F21V31/00
US-2019307110-A1,H05B37/02
US-2019307110-A1,F21L4/08
US-2019307110-A1,A01K85/01
US-2019307110-A1,F21V33/00
US-2019307110-A1,F21V3/06
US-2019307110-A1,H05B44/00
US-2019310842-A1,H04L12/24
US-2019310842-A1,G06F8/65
US-2019310842-A1,G06F8/654
US-2019310842-A1,G06F8/61
US-2019310842-A1,G06F8/71
US-2019215233-A1,H04L12/24
US-2019215233-A1,H04L12/40
US-2019156651-A1,G16H40/63
US-2019156651-A1,A61B5/00
US-2019156651-A1,G08B21/24
US-2019156651-A1,A61B5/145
US-2019224509-A1,A62C37/36
US-2019224509-A1,G05B19/042
US-2020229416-A1,A01K97/01
US-2020229416-A1,A01K93/00
US-2019158596-A1,H04L29/08
US-2019245751-A1,H04Q11/00
US-2019245751-A1,H04L12/44
US-2019245751-A1,H04L49/111
US-2019245751-A1,H04L45/122
US-2020185880-A1,G01N21/39
US-2020185880-A1,H01S5/068
US-2020185880-A1,H01S5/022
US-2020251177-A1,H05K5/02
US-2020251177-A1,H05K7/18
US-2020251177-A1,G12B9/10
US-2019242715-A1,G01C21/34
US-2019242715-A1,G05D1/02
US-2019242715-A1,G01C21/36
US-2019242715-A1,G05D1/00
US-2019254081-A1,H04W74/08
US-2019254081-A1,H04L1/16
US-2019254081-A1,H04W76/11
US-2019254081-A1,H04L5/14
US-2019254081-A1,H04L5/00
US-2019254081-A1,H04W72/04
US-2019305700-A1,H02P25/089
US-2019305700-A1,G01R27/26
US-2019305700-A1,H02P6/182
US-2019169580-A1,C12N9/10
US-2019291557-A1,B60K1/04
US-2019264852-A1,F16L37/18
US-2020280587-A1,H04L45/42
US-2019267164-A1,H01Q1/36
US-2019267164-A1,H01F1/01
US-2019267164-A1,H01F1/36
US-2019267164-A1,C04B35/26
US-2019267164-A1,H01Q7/06
US-2019267164-A1,H01F1/34
US-2020287086-A1,H01L33/32
US-2020287086-A1,H01L31/102
US-2020287086-A1,H01L31/0352
US-2020287086-A1,H01L31/0304
US-2020287086-A1,H01L33/06
US-2019194351-A1,G01N33/573
US-2019194351-A1,C07K16/36
US-2019362101-A1,G06F16/951
US-2019362101-A1,G06F16/9535
US-2019362101-A1,G06F21/62
US-2019362101-A1,H04L29/06
US-2019298878-A1,A61L9/14
US-2019298878-A1,A61L9/01
US-2019246076-A1,G01P15/18
US-2019246076-A1,G06K9/00
US-2019246076-A1,H04N7/18
US-2019246076-A1,B60Q9/00
US-2019246076-A1,B60W40/076
US-2019157622-A1,H01L33/60
US-2019157622-A1,H01L33/32
US-2019157622-A1,G02B5/30
US-2019157622-A1,H01L51/52
US-2019316048-A1,C10G35/095
US-2019316048-A1,C10G11/05
US-2019316048-A1,C10G7/00
US-2019316048-A1,C10G63/04
US-2019287241-A1,A61B6/00
US-2019287241-A1,G06T7/00
US-2019287241-A1,G16H30/40
US-2019287241-A1,G06T7/73
US-2021220734-A1,A63F13/22
US-2021220734-A1,A63F13/42
US-2021220734-A1,G06F3/0338
US-2021220734-A1,A63F13/5255
US-2021288381-A1,H01M50/454
US-2021288381-A1,H01M50/491
US-2021288381-A1,H01M50/449
US-2021288381-A1,H01M50/44
US-2021288381-A1,H01M50/434
US-2021288381-A1,H01M50/423
US-2021288381-A1,H01M50/403
US-2021288381-A1,H01M50/417
US-2021288381-A1,H01M50/457
US-2021288381-A1,H01M50/451
US-2021288381-A1,H01M50/426
US-2021288381-A1,H01M50/42
US-2021288381-A1,H01M50/414
US-2021279534-A1,G06K15/02
US-2019281686-A1,F24F11/58
US-2019281686-A1,F24F11/63
US-2019281686-A1,H04L12/28
US-2019281686-A1,H05B37/02
US-2019211485-A1,D04H1/732
US-2019211485-A1,D04H1/54
US-2019211485-A1,D04H1/4234
US-2020032083-A1,B32B27/40
US-2020032083-A1,C09D7/40
US-2020032083-A1,C09D175/04
US-2020032083-A1,B32B27/22
US-2020032083-A1,B32B27/20
US-2020032083-A1,C09D7/61
US-2020032083-A1,E04F15/10
US-2020032083-A1,B32B7/04
US-2020046698-A1,A61K31/505
US-2020046698-A1,A61K31/55
US-2020046698-A1,A61P35/00
US-2020289344-A1,A45C11/00
US-2020289344-A1,A61J1/03
US-2020289344-A1,A61F13/551
US-2020289344-A1,A61F13/472
US-2020289344-A1,A45C13/10
US-2020289344-A1,A45F3/02
US-2020289344-A1,A61F13/20
US-2020296001-A1,H04L45/28
US-2020296001-A1,H04L45/02
US-2020296001-A1,H04L12/44
US-2019284445-A1,C09J7/20
US-2019284445-A1,G11B5/012
US-2019284445-A1,G11B21/10
US-2019284445-A1,C09J7/38
US-2019239634-A1,A46B9/04
US-2019239634-A1,A46B5/02
US-2019239634-A1,A46B15/00
US-2019239634-A1,A46B5/00
US-2019323219-A1,E03D3/12
US-2019249135-A1,C12N5/071
US-2019249135-A1,C12N5/095
US-2019249135-A1,C12N5/00
US-2019249150-A1,B01J20/28
US-2019249150-A1,B01J20/32
US-2019249150-A1,B01D61/14
US-2019249150-A1,A61L2/00
US-2019249150-A1,B01D67/00
US-2019249150-A1,B01J20/26
US-2019249150-A1,C12N7/00
US-2019265968-A1,G06F21/56
US-2019265968-A1,G06F8/656
US-2020369198-A1,B60R9/06
US-2020369198-A1,B62D33/023
US-2020369198-A1,B60P7/08
US-2020259178-A1,H01M4/133
US-2020259178-A1,H01G11/34
US-2020259178-A1,H01M4/583
US-2020259178-A1,H01G11/44
US-2020259178-A1,H01G11/24
US-2020259178-A1,H01M10/06
US-2020259178-A1,H01M10/0525
US-2020259178-A1,H01M12/06
US-2020259178-A1,C01B32/30
US-2020259178-A1,C01B32/336
US-2020259178-A1,H01M2/16
US-2020259178-A1,H01M4/14
US-2020259178-

2025-01-16 16:55:55 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:55 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:55 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 650
2025-01-16 16:55:56 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:57 - root - INFO - SQL:
-- 11. Get distinct 4-digit IPC codes from the ipc codes
SELECT DISTINCT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc_4_digit" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Results:
ipc_4_digit
C09J
H04Q
G21K
E06B
B61L
C03C
G02C
F25J
F16M
C01B
C10M
E05D
C09C
G16C
D01H
G06G
E02C
H01M
A61B
C07G
G03G
F04D
A01K
D05B
B31D
B21G
C12F
A63C
F02B
A44C
G01C
B04C
F03D
G06K
F16C
B29K
A41G
A23P
A47G
C01D
B41B
H04J
G06N
D07B
C12M
E04D
A43C
F23B
C06D
C09K
B04B
D06H
D02J
A01F
D21G
A61H
B07C
H02S
F23R
F24D
H05G
B62M
C12C
F17D
B41K
F02N
C25F
C06F
G16B
G05B
B64C
B60K
G03D
C30B
B82B
B62J
B60P
C10B
G21B
F22G
F26B
B60L
C12R
B68C
E04C
G05G
H01P
D01D
B06B
C06C
B67B
C13K
B03C
A47J
B09C
A47D
C05D
C09F
C07K
G06T
B29C
F24C
D03D
C25D
B33Y
C22B
B28B
F16T
B61F
F04B
E21D
D01C
C22C
H02P
C08G
F01L
H01H
B66C
B09B
G21C
E03C
B02B
F41A
A61M
F04C
B60J
B43K
G07F
H02N
F23D
B63C
D21C
G09F
E21C
F15C
F41C
B42F
B61K
B31C
D06Q
D04G
C07H
A61C
B25F
F41B
C06B
F21K
F24T
B23K
A63G
B01B
B21L
C10F
G21J
H04B
B05B
D04B
G08G
B41M
B26F
F23C
B30B
F01K
F24V
C08L
B25B
B23H
G01K
B44F
C07J
C01C
F41G
F16F
B29L
D21H
F28G
B44D
C12J
D21D
A41D
B41J
H10N
H10K
B22F
F25B
B22D
F02K
F21S
A23G
B03B
F16B
A63H
B21J
B43M
B27H
G01J
G08B
C23C
H02K
A42B
B23C
G21F
F16G
A63D
A01J
Y02E
A63B
B63G
E04H
F24H
B81C
G16Y
B61H
B29D
B61J
F17B
C23G
H10B
G11B
G01F
H01S
E01D
B64B
F27D
C12N
A01N
A47H
B22C
H03C
F03G
F41H
C12S
G02B
C09D
F02M
B21H
B63B
B66F
H03J
B62L
B41G
A45C
G06V
F02F
B65F
G10B
D06P
B27K
G16Z
F23M
A01L
G02F
H04M
B03D
A61F
B23D
F23K
C10N
F16S
F02D
C07C
H02M
B60B
D21F
B62B
G10K
C05F
G01N
B67D
A43B
C21D
B81B
F23N
A21C
E21B
F01M
C11C
C21C
A23N
A01C
C05B
B62K
A43D
C10G
F41J
G10L
A61Q
A61L
A23B
G03B
F23Q
G01T
A24D
C25C
A41F
F03C
G01M
A61K
G07D
H01J
F16K
B05D
F15B
A01D
B65C
F42C
H03F
F16N
B42C
B60F
H03M
F16L
E05C
G01H
F16H
F17C
F28C
G21D
A21B
A23J
H01K
A63K
C14C
G04D
G04R
C21B
C02F
F28F
A61N
H03G
C08K
B23Q
E05B
B21B
C09B
A45D
B61D
B41D
B41N
C13B
C23F
B23P
B64F
H01F
G03F
A44B
B66D
D06M
B41C
B60H
F24S
D21J
B25J
C25B
F15D
G01D
B27G
B24D
H04S
B28C
B01L
B27L
G21H
A06F
B52D
B60Q
F16D
C11B
B05C
C04B
B24B
D06L
A01P
G10F
C08C
F23L
G01G
G01W
H03L
D21B
G06C
C09G
B63H
A01B
F23J
A23K
B27D
C23D
D06N
B64G
B27F
B61B
B24C
D02H
A42C
F21V
B41L
F42B
A21D
H03H
G04G
H02J
B21C
G09B
C01G
E02D
H05F
F41F
G01B
A01M
B66B
B28D
A23C
A22C
F21L
B27B
G16H
F01P
A23L
A61J
B42D
B60D
F03B
B42B
E21F
A41B
B60M
C09H
A47B
B60T
G11C
B60C
E04B
H03B
E01C
F21Y
B60S
D01B
G12B
A62B
G01L
B65B
A47C
F27B
B23B
G07B
E02B
A62D
E05G
G06J
B62D
G08C
C03B
E03D
B44C
B68F
B27M
C08F
H04W
B02C
B26D
F16P
B21D
A47L
B21F
B61C
G04C
F28B
A61D
B61G
D06G
C10L
B32B
B41F
B25D
B60V
H05B
F24F
G05F
A63F
A41C
H04H
G06E
A24C
B21K
C12L
B44B
H04K
G04B
H01B
C01F
C10J
F25C
G01Q
G06M
D06B
H05C
G01S
H02H
A24F
G10D
F23G
B23G
B68G
G06F
B65H
C12Q
D06F
H01C
A23F
B25G
B63J
C08H
G10G
F21H
E01B
G09G
B60R
H04R
B08B
C07D
F22B
C07F
F16J
E01F
C14B
C12P
A22B
F42D
C10H
E04F
B01J
F28D
G09C
H01G
E04G
H01T
G10C
G01P
B62H
C10C
A63J
B29H
A46B
C11D
F01N
F24J
B60G
D04H
E01H
B27C
D04C
B31B
G07C
B01D
B29B
H03K
E05F
F02P
F04F
D05C
G01R
H02G
F02C
C07B
H02B
B23F
B07B
F23H
D06J
B68B
G06Q
H01Q
B25H
E02F
A41H
C05G
D04D
F01B
C12H
B62C
H01L
H05K
H04N
B60N
F01D
G01V
H05H
B01F
D03C
D01F
G03C
F21W
E03B
F22D
D03J
A61G
A46D
B64U
G06D
F01C
B65G
A45F
C08B
C12G
B60W
A23D
B31F
G04F
E03F
B67C
E06C
A01H
A61P
G10H
C08J
A24B
A47F
F02G
B65D
G05D
A01G
C40B
B27N
G21G
H04L
H01R
F25D
C22F
A45B
G07G
D02G
B27J
F24B
C10K
B64D
B82Y
D06C
B43L
G03H
A62C
B26B
H03D
D01G
A47K
B25C
C05C
F03H
G09D
A99Z

2025-01-16 16:55:57 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:57 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:57 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:55:58 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:55:58 - snowflake.connector.connection - INFO - closed
2025-01-16 16:55:58 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:55:58 - root - INFO - SQL:
-- 12. Get publication numbers and ipc codes for US B2 patents granted between June and August 2022
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-11382018-B2,H04W88/02
US-11382018-B2,H04W36/32
US-11382018-B2,H04W36/04
US-11382018-B2,H04W36/30
US-11382018-B2,H04W36/08
US-11412960-B2,A61B5/00
US-11412960-B2,A61M5/00
US-11412960-B2,A61B5/1486
US-11412960-B2,A61B5/145
US-11412960-B2,B65B5/04
US-11412960-B2,A61B5/1473
US-11412960-B2,B65B7/28
US-11412960-B2,B65B55/02
US-11351355-B2,A61M60/894
US-11351355-B2,A61M60/135
US-11351355-B2,A61M60/50
US-11351355-B2,A61M60/40
US-11351355-B2,A61M60/268
US-11364500-B2,B01L3/00
US-11396506-B2,C07D519/00
US-11396506-B2,C07D471/02
US-11396506-B2,C07D471/04
US-11386278-B2,G07G1/00
US-11386278-B2,G06K7/10
US-11386278-B2,H04B17/318
US-11372388-B2,G05B19/042
US-11372388-B2,B23P19/06
US-11372388-B2,G05B19/04
US-11374644-B2,H04B17/327
US-11374644-B2,H04W24/10
US-11374644-B2,H04B7/08
US-11374644-B2,H04B7/06
US-11374644-B2,H04B7/0452
US-11387209-B2,H01L23/31
US-11387209-B2,H01L23/00
US-11387209-B2,H01L21/768
US-11387209-B2,H01L25/00
US-11387209-B2,H01L21/306
US-11387209-B2,H01L21/3105
US-11387209-B2,H01L23/48
US-11387209-B2,H01L21/56
US-11428067-B2,E21B36/00
US-11428067-B2,E21B33/13
US-11428067-B2,C06B47/00
US-11428067-B2,C22C9/00
US-11428067-B2,E21B27/02
US-11428067-B2,C09K8/42
US-11428067-B2,E21B17/10
US-11428067-B2,C06B33/00
US-11428067-B2,E21B47/00
US-11428067-B2,E21B33/136
US-11428067-B2,E21B33/134
US-11428067-B2,E21B33/12
US-11428067-B2,C22C12/00
US-11396572-B2,C08F20/16
US-11396572-B2,C08L53/00
US-11396572-B2,C08F293/00
US-11396572-B2,C08F220/14
US-11396572-B2,C08F20/14
US-11396572-B2,C08F2/38
US-11396572-B2,B60S1/38
US-11396572-B2,C08F20/06
US-11396572-B2,C08F220/16
US-11396572-B2,C08F36/18
US-11396572-B2,C08F236/18
US-11407017-B2,B21F1/00
US-11407017-B2,B21D11/12
US-11407017-B2,B21D7/022
US-11407017-B2,B21D7/12
US-11407017-B2,B21D43/00
US-11407017-B2,B21D43/28
US-11360542-B2,G06F1/3234
US-11360542-B2,H04W52/02
US-11360542-B2,G06F1/324
US-11379962-B2,G06T7/33
US-11379962-B2,H04N1/00
US-11379962-B2,G06T7/00
US-11370724-B2,B01J37/02
US-11370724-B2,B01J35/06
US-11370724-B2,C07C2/06
US-11370724-B2,B01J35/10
US-11370724-B2,B01J23/10
US-11370724-B2,B01J35/04
US-11370724-B2,B01J35/02
US-11370724-B2,C07C2/82
US-11370724-B2,C07C2/84
US-11370724-B2,B82Y30/00
US-11370724-B2,B01J29/06
US-11370724-B2,B01J35/00
US-11370724-B2,B01J23/34
US-11416001-B2,G06F17/00
US-11416001-B2,G06T7/80
US-11416001-B2,G06F7/00
US-11416001-B2,B62D12/00
US-11416001-B2,B62D6/00
US-11416001-B2,B63G8/20
US-11416001-B2,B62D11/00
US-11416001-B2,B66F9/075
US-11416001-B2,B65G1/00
US-11416001-B2,G05D1/00
US-11416001-B2,B63H25/04
US-11416001-B2,G05D1/02
US-11416001-B2,G06T7/70
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/04
US-11396732-B2,E02D31/08
US-11396732-B2,E02D27/52
US-11396732-B2,E02D27/46
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/395
US-11407829-B2,A61K38/04
US-11407829-B2,A61K38/16
US-11407829-B2,C12N15/11
US-11407829-B2,C07K7/08
US-11407829-B2,C07K16/28
US-11407829-B2,A61K45/06
US-11407829-B2,A61K39/00
US-11407829-B2,C07K14/00
US-11399950-B2,A61F2/30
US-11399950-B2,A61F2/42
US-11381283-B2,H04W72/12
US-11381283-B2,H04B7/0456
US-11381283-B2,H04B7/0417
US-11381283-B2,H04W72/04
US-11409410-B2,G06F9/54
US-11409410-B2,G06F3/04817
US-11409410-B2,G06F21/32
US-11409410-B2,G06F3/0481
US-11409410-B2,G06F1/3212
US-11409410-B2,G06F3/0488
US-11412974-B2,A61B5/372
US-11412974-B2,G16H40/63
US-11412974-B2,G16H50/20
US-11412974-B2,A61B5/16
US-11412974-B2,G16H10/60
US-11412974-B2,G16H10/20
US-11412974-B2,A61B5/369
US-11412974-B2,A61B5/00
US-11423376-B2,G06V30/412
US-11423376-B2,G06V30/416
US-11423376-B2,G06Q20/14
US-11423376-B2,G06F40/174
US-11423376-B2,G06V30/10
US-11363813-B2,A01N31/04
US-11363813-B2,A01N25/04
US-11426634-B2,A63B37/00
US-11426634-B2,A63B37/12
US-11365729-B2,F16K17/04
US-11365729-B2,F04B53/10
US-11365729-B2,F04B49/22
US-11419647-B2,A61B/
US-11419647-B2,A61B17/80
US-11419647-B2,A61B17/74
US-11419647-B2,A61B17/56
US-11419647-B2,A61B17/86
US-11375912-B2,H02N11/00
US-11375912-B2,H02N1/08
US-11375912-B2,A61B5/026
US-11416109-B2,H04L51/02
US-11416109-B2,G06F3/04842
US-11416109-B2,G06F3/0481
US-11416109-B2,G06F9/451
US-11376109-B2,B65B55/18
US-11376109-B2,B65D79/02
US-11376109-B2,A61F2/00
US-11376109-B2,B65D75/30
US-11376109-B2,B65D75/58
US-11376109-B2,B65B7/02
US-11376109-B2,B65B55/02
US-11376109-B2,B65B51/22
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11406832-B2,G16H20/40
US-11406832-B2,A61N1/365
US-11406832-B2,A61N1/02
US-11406832-B2,A61N1/372
US-11406832-B2,A61N1/05
US-11379726-B2,G06N20/10
US-11379726-B2,G06K9/62
US-11379726-B2,G06N3/04
US-11379726-B2,G06N3/08
US-11426701-B2,B29B7/48
US-11426701-B2,B29C48/36
US-11426701-B2,B01F27/272
US-11426701-B2,B01F33/82
US-11426701-B2,B01F35/90
US-11426701-B2,B01F27/1143
US-11426701-B2,B01F25/431
US-11426701-B2,B29C48/40
US-11426701-B2,B01F101/00
US-11426701-B2,B29K27/06
US-11426701-B2,B22C5/00
US-11426701-B2,B01F27/723
US-11426701-B2,B01F35/92
US-11426701-B2,B29C48/505
US-11426701-B2,B29C48/67
US-11426701-B2,B29C48/535
US-11426701-B2,B29C48/42
US-

2025-01-16 16:55:58 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:55:58 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:55:58 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:00 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:56:00 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:00 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:00 - root - INFO - SQL:
-- 13. Get 4-digit IPC codes for US B2 patents granted between June and August 2022
SELECT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc_4_digit" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Results:
Too long, hard cut:
ipc_4_digit
C12Q
C12Q
G16H
G06F
G06Q
G16H
G06F
G16H
G16H
G02B
F16B
F16B
G02B
H04W
H04J
H04L
H04L
A61K
A61K
A61K
A61K
A61K
A61K
A61Q
A61K
A61K
A61K
B29C
B33Y
B22F
B33Y
B29C
B33Y
B22F
B29C
B29C
F16B
A61B
A61G
G08B
G07C
E05B
A47F
E05B
A47F
G08B
C08F
C08L
C08F
C08F
C08F
C08F
B60S
C08F
C08F
C08F
C08F
B21F
B21D
B21D
B21D
B21D
B21D
G06F
H04W
G06F
G06T
H04N
G06T
B01J
B01J
C07C
B01J
B01J
B01J
B01J
C07C
C07C
B82Y
B01J
B01J
B01J
G06F
G06T
G06F
B62D
B62D
B63G
B62D
B66F
B65G
G05D
B63H
G05D
G06T
A01B
E02D
E02D
E02D
E02D
H01L
A47F
A61K
A61K
A61K
C12N
C07K
C07K
A61K
A61K
C07K
A61F
A61F
H04W
H04B
H04B
H04W
G06F
G06F
G06F
G06F
G06F
G06F
A61F
A61F
A61F
A61F
G10L
G06F
G10L
G06F
G06F
A62C
G06F
G06V
G06V
G06F
G06F
G06F
G06V
H04L
H04W
G05B
H04W
H04W
H04W
H04W
H04W
A61B
A61M
A61B
A61B
B65B
A61B
B65B
B65B
A61M
A61M
A61M
A61M
A61M
B01L
A61B
G16H
G16H
A61B
G16H
G16H
A61B
A61B
G06V
G06V
G06Q
G06F
G06V
A01N
A01N
A63B
A63B
F16K
F04B
F04B
A61B
A61B
A61B
A61B
A61B
H02N
H02N
A61B
H04L
G06F
G06F
G06F
F15B
B25J
B25J
F15B
G06F
B25J
B25J
F15B
F15B
H04N
H04N
G06V
A61B
A61B
A61B
A61B
H01L
H04B
H01L
H01L
H01L
B60K
B60K
B60K
F16H
B60K
G06F
G06T
G06T
G06F
G06T
G06T
G06T
G07F
G06T
G07F
G06T
B24C
B24C
B24C
B24C
B24C
B24C
G01N
B23D
F42B
H01G
H01G
H01G
H01G
H01G
H01G
H01G
H01G
G06F
G06V
G06N
G06T
G06V
G01S
G01S
G01C
G01B
G01B
G01B
H01L
H01L
H01L
A61F
A61F
A61F
B23K
F16B
B23K
B23K
B23K
C22C
B23K
B23K
B23K
B23K
H01S
H01S
H01S
H01S
G06T
G06T
G06F
G06F
G06F
G06K
A63F
A63F
H01L
H01L
H10B
H10B
H10B
H10B
H10B
H10B
C07D
C07D
C07D
G07G
G06K
H04B
G05B
B23P
G05B
H04B
H04W
H04B
H04B
H04B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
E21B
E21B
C06B
C22C
E21B
C09K
E21B
C06B
E21B
E21B
E21B
E21B
C22C
H04L
G06F
H04L
H04L
H04L
G10L
G10L
C22C
C22C
C22F
C08L
C08J
C08L
C08K
C08J
E05B
E05B
E05B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
A61K
A61K
C12N
B65B
B65D
A61F
B65D
B65D
B65B
B65B
B65B
G09B
A61N
G16H
A61N
A61N
A61N
A61N
G06N
G06K
G06N
G06N
B29B
B29C
B01F
B01F
B01F
B01F
B01F
B29C
B01F
B29K
B22C
B01F
B01F
B29C
B29C
B29C
B29C
B29C
B29C
A61G
A44B
A61G
A61F
A61F
A61G
C08J
C08J
C08G
A61N
H10K
C01G
H01L
B08B
B05B
B05B
B08B
F16K
F16K
H04L
H04L
H04L
G16H
H04W
G06Q
H04L
H04L
G06Q
H04L
H04W
H04R
H02P
H03F
H03F
H04R
H04R
H04R
B60H
B60Q
B60Q
B60H
H05B
H05B
A61M
A61M
A61M
A61M
A61M
A61M
A61M
B65G
B65D
B65G
H01L
H01L
H01L
H10B
H10B
H10B
C08F
C08F
H10K
A47B
A47B
A47B
A47B
A47B
G06F
G06F
G06F
G06F
A61B
G06K
G06T
H04W
H04W
H04W
H04W
H04W
H04W
G06T
G06V
G06V
G06V
H01R
H01R
H01R
H01R
H05K
H05B
F21S
G03B
F21Y
H05B
F21S
F21Y
E06B
E06B
C07H
C07F
C07H
C07H
G02B
G02F
H04N
G02B
G02B
G09G
G06T
G02B
G02B
G02B
G06F
H04L
H04L
G06F
G06F
H04L
H04L
G06Q
B32B
A41C
A41C
C07B
A61K
A61K
C07C
C07C
G01N
A61K
C09D
C11D
C11D
C11D
C09D
C09D
B05D
C09D
B05D
C11D
B05D
C11D
B05D
G01N
G01R
G01R
H04N
G03F
G01B
G01B
G01M
H04W
H04W
H04W
H04W
A61K
A61P
A61P
A61P
A61P
A61P
A61P
A61P
A61K
A61P
A61K
H01L
H01L
H01L
H01L
H01L
H05B
H05B
H05B
H05B
H05B
H05B
G05B
G07C
B60W
B60R
B60R
A61B
A61B
B25J
B25J
A61B
B25J
A61B
G01N
H02J
H02J
H02J
H02J
G01N
E21B
E21B
G06F
G06F
H04L
G01R
G06J
G01N
G06V
F16H
F16H
G06F
G06F
G02B
G06F
H04W
H04W
H04L
H04B
F17D
E21B
E21B
E21B
E21B
F17D
F17D
F17D
H01L
G06T
G06T
H04N
H04N
G06V
H04N
G06F
G06V
H04N
H04N
G06V
H04N
A61K
C07K
A61K
D06B
A41D
A41H
D06B
A41H
B23K
B41M
A41H
B23K
B44C
D06M
A41D
D06C
D06C
D06Q
G06V
A63F
A63F
A63F
G06F
G06F
A63F
B60R
B62D
G01C
G01C
H02M
H02M
H02H
H02H
G02B
B29C
B25J
B29C
B60W
G06V
G01S
G01S
G01S
G01S
H01F
H01F
H04W
H04L
H04W
H04W
H04W
G06F
G06Q
G06F
G06Q
H01L
H01L
H01L
H01L
H04W
H04W
H04W
H04L
H04L
H04L
B60W
B60W
G06F
G02B
G02B
H04N
G06T
H04N
G06T
H04N
H04N
H01L
B66C
B66C
B66C
G05B
G03F
B66C
H01L
G05B
G06K
G06N
G16H
G06K
G16H
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
G10L
G10L
G10L
G10L
H04R
G02B
G02B
G02B
G02B
G02B
G02B
G02B
G06T
H01L
B82Y
B82Y
G06N
H01L
H01L
H10N
H10N
C08F
C08K
C08J
C08K
E21B
C12P
C09K
C09K
E21B
C08F
E21B
G05B
G06F
G06F
G06F
F16H
F16H
F01M
F02B
F02M
F02M
F02B
F02B
F02B
F02F
F01M
F01M
F02M
F01M
F01M
F02F
F04B
F04B
F04B
B65D
B65D
F04B
F04B
B65D
F04B
G06F
H04N
H02B
B60K
H02B
B64D
B64C
G05G
B64C
B64C
C12Q
B65H
B65H
E04D
B65H
G06F
G01D
G06F
G01B
G01B
G05D
G01B
C09D
B05D
C09D
C09D
C09D
C08G
C08G
C09D
C08G
B05D
B05D
C08G
B60R
B64D
G06F
G02F
G02F
G06F
G06F
H04N
G06F
B60K
G09F
B60R
G06Q
H04L
G06K
G08B
G06K
G07G
H04B
H04B
H04L
H04B
H04W
F01D
F01D
G05B
B07C
B07C
B07C
A61B
A61B
A61B
A61B
A61B
A61M
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
C02F
C02F
G06F
C02F
A61L
A61L
A61L
A61L
A61L
A61L
C12N
A61L
G07C
G07C
B29C
B33Y
B29C
B33Y
B33Y
F04B
B25B
B62K
B62K
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G06V
G05B
G06N
G06T
G06V
G06T
F01N
F01N
F01N
F01N
F01N
B60R
E04B
E04C
E04C
G06F
H04L
H04L
G06F
H04L
H04L
H04L
H04L
H04L
H04L
H04W
H04N
H04N
H04N
G11B
G11B
G11B
G06N
G06K
G06N
G06K
B32B
G02F
F21V
B82Y
F21Y
F21V
G02F
B32B
H04N
G02F
G02F
F21V
G02F
G02F
G02F
G02F
G02F
G02F
G02F
H04R
H04M
H04R
H04B
H04R
H04M
G01S
A61K
A01K
C12N
C12N
A61B
A61B
A61B
A61B
A61B
A61B
A61L
A61L
A61B
A61B
A61B
A61B
C07D
F16K
F04B
G06V
G06V
H04

2025-01-16 16:56:00 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:00 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:00 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:02 - snowflake.connector.cursor - INFO - Number of results in first chunk: 422
2025-01-16 16:56:03 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:03 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:03 - root - INFO - SQL:
-- 14. Get the ipc field to examine its structure
SELECT t."ipc" 
FROM PATENTS.PATENTS.PUBLICATIONS t 
LIMIT 1000;
Results:
Too long, hard cut:
ipc
"[
  {
    ""code"": ""G01N21/01"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
"[
  {
    ""code"": ""C10C1/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""H02M5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""A01N43/54"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A01N47/36"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D239/47"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D521/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""A01K61/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A01K63/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G21C5/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G21C1/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
"[
  {
    ""code"": ""E21B27/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""B22D11/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07D471/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D471/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G01N27/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C03C4/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C08K5/47"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10M133/44"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D263/56"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D277/64"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C08K5/46"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10M133/48"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C08K5/35"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11B5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10L1/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10M135/36"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09K15/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D235/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C08K5/3447"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""E02D5/38"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D5/80"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D7/28"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D5/54"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D7/26"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
[]
"[
  {
    ""code"": ""C07D213/56"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/38"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/51"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
[]
[]
[]
[]
"[
  {
    ""code"": ""C12H1/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07F7/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G11B15/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B15/62"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B15/675"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/093"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07D301/28"",
    ""first"": false,
    ""inventive"": true,
    ""t

2025-01-16 16:56:03 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:03 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:03 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:04 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:56:04 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:04 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:05 - root - INFO - SQL:
-- 15. Extract ipc codes and 'first' indicator from ipc field
SELECT f.value:"code"::STRING AS "ipc_code", f.value:"first"::BOOLEAN AS "is_first" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Results:
Too long, hard cut:
ipc_code,is_first
H01L21/321,False
C23F3/04,False
H01L21/3213,False
C23F1/18,False
H01L21/304,False
C23F1/26,False
C23F1/30,False
B24B37/00,True
C09K13/06,False
C09G1/02,False
C23F3/06,False
A61N1/05,False
A61B5/0402,False
A61B5/08,False
A61B7/04,False
H01S5/183,False
H01S5/02,False
H01S5/042,False
H01S5/024,False
B27L7/00,False
F16J15/08,False
A23L7/10,False
A23L7/126,False
H03K3/354,True
H03K3/03,False
H03B5/12,False
H03K3/012,False
H03F3/45,False
A61K47/22,False
A61K47/12,False
A61K47/06,False
A61K9/107,False
A61K47/14,False
A61K47/10,False
A61F13/02,True
A61L15/16,False
C23C22/44,False
C23C22/34,False
B65H45/18,False
B65H29/04,False
B65H29/40,False
B65H29/60,False
C07K14/47,False
C12Q1/68,False
A61K45/06,False
A61K31/203,False
A61K31/07,False
A61K31/7088,False
A61K38/17,False
C09J7/38,False
C09J181/00,False
C09J153/00,False
C09J11/08,False
C09J101/00,False
C09J103/00,False
C09J153/02,False
C09J133/02,False
C09J133/24,False
F42B10/14,False
F41F3/042,False
G06F11/30,True
G01F1/00,True
G01F25/00,False
G02B6/38,True
G06Q20/00,False
F04B49/03,True
F04B49/24,False
F04B49/06,False
A63B43/00,False
A63B24/00,False
A63B43/06,True
A63B63/00,False
A63B71/06,False
H04N5/00,False
H04N7/24,False
G06F3/06,False
G06F12/00,True
A61K/,False
C07J5/00,False
A61K31/57,False
A61K31/585,False
C07J43/00,True
A61K31/58,False
C12N1/15,False
C12N1/19,False
C07K14/705,False
G01N33/567,False
C12N15/12,False
A61K38/17,True
C12N1/21,False
C12P19/04,True
A23J1/20,False
C07K14/47,False
B01D15/18,False
C12N7/02,False
B01D15/12,False
A23J1/00,False
A23J1/08,False
C07K1/16,False
G01N27/49,False
G01N33/487,True
G01R29/08,False
H04W24/06,False
H04W24/00,False
H04B17/391,False
H04B17/00,False
H04B7/26,False
G06F11/00,True
C07D451/02,False
A61P15/00,False
A61P35/00,False
C07D471/04,False
A61K31/4745,True
A61P3/10,False
A61P25/00,False
C12N9/04,False
C12N15/74,False
C12N1/21,False
C12N9/12,False
C12N15/52,False
C12P7/66,True
C12N9/90,False
G01K1/08,True
H01J5/02,False
H01J37/16,False
G06F13/00,False
H04N1/00,False
G06K9/62,False
H04N1/32,False
G06F15/16,True
A63F13/00,False
A63F9/24,True
G11B5/55,False
G11B5/48,False
H04N25/00,False
G02B13/00,False
G02B7/02,True
G03B21/14,False
F21V17/00,False
G02B27/10,False
G02B13/18,False
G11B7/00,False
G03B17/26,False
H01L21/3213,False
H01L27/13,False
G02F1/136,True
H01L21/77,False
H01L27/12,False
H01L21/84,False
H04L29/08,False
H04L29/06,False
H04R1/02,False
G07C9/00,False
C07K14/00,False
C07K7/56,False
A61K38/00,False
C07K14/605,False
B01D53/08,False
A61P3/10,False
A61K47/02,False
A61K47/32,False
A61K47/46,False
A61K47/36,False
A61K47/30,False
A61K47/12,False
A61K47/38,False
A61K47/26,False
A61K31/155,False
A61K9/20,False
A61K9/16,True
A61K9/28,False
A61K9/22,False
C23C4/12,False
B05C5/04,False
C23C4/02,False
C07D401/04,False
C07D471/04,False
C07D409/14,False
C07D401/14,False
C07D231/12,False
C07D231/22,False
B24B37/04,False
H04N9/31,False
F24S23/00,False
H10K99/00,False
G02B5/10,False
G02B6/122,False
H01S3/063,False
H01S5/10,False
G02B1/04,False
C12N5/06,False
C12Q1/68,False
C12Q1/70,False
G01N33/53,False
A61K39/21,False
C12N5/00,False
A61K39/12,False
C12N7/00,False
A61K39/42,False
A61K48/00,False
G06F16/955,True
G06F16/957,False
G11B23/50,False
G03F7/42,False
B08B3/08,False
F16B39/02,True
F16B37/00,False
F16B39/286,False
H02J7/00,False
B62D43/10,False
B65H3/04,False
B65H1/02,False
B65D83/14,False
G01C21/34,False
F03D11/02,False
F16H1/28,False
B64D41/00,False
A61P15/18,False
A61K48/00,False
C07K14/705,False
C07K16/28,False
A61K38/00,False
C12N15/85,False
B05D3/02,False
C08J3/24,False
C09D4/00,False
C09D175/16,False
C08G18/67,False
C08G18/78,False
C08G18/28,False
B05D3/10,False
C08G18/32,False
B05D7/00,False
H04R1/02,False
H04R1/20,False
H04R1/28,False
E03B3/04,False
B01D35/05,False
B60H1/03,False
B60H1/00,False
G06Q30/00,False
G06Q20/10,False
G06Q30/06,False
G06Q10/08,False
E04H17/16,False
G06Q30/00,False
B65H3/58,False
B65D/,False
B65H3/36,False
G07F11/68,False
G07F11/72,False
B26D7/06,False
B26D7/02,False
B26D5/34,False
B26D1/18,False
B26D7/26,False
B65B61/06,False
B26D7/24,False
A43B13/14,False
A43B13/18,False
A61P9/12,False
A61P25/22,False
A61P25/06,False
A61P9/00,False
A61P1/14,False
A61P25/20,False
A61P19/10,False
A61P25/18,False
A61K31/415,False
A61P15/08,False
A61K31/4545,False
A61K31/437,False
A61P1/00,False
A61K31/519,False
C07D403/02,False
A61K31/499,False
A61P29/00,False
C07D487/00,False
A61K31/454,False
A61P3/04,False
A61K31/541,False
C07D401/00,False
A61P5/04,False
A61P9/10,False
A61K31/53,True
A61K31/41,False
A61P25/24,False
A61P37/04,False
A61P25/08,False
A61P9/06,False
A61P9/04,False
A61P25/36,False
A61P1/04,False
A61K31/4188,False
A61K31/5377,False
C07D235/02,False
A61K31/445,False
C07D249/00,False
A61P15/06,False
A61P1/12,False
A61P25/32,False
C07D487/04,False
C07D471/22,False
A61P25/00,False
C07D471/14,False
E21B33/068,False
E21B3/02,False
E21B19/16,False
E21B21/00,False
E21B21/01,False
B21K1/18,False
F02F3/22,False
F16J1/09,False
G06Q40/00,False
D04H3/04,False
G05B19/042,True
E04B1/1

2025-01-16 16:56:05 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:05 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:05 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:06 - snowflake.connector.cursor - INFO - Number of results in first chunk: 202
2025-01-16 16:56:06 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:06 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:07 - root - INFO - SQL:
-- 16. Get the 'first' IPC codes for US B2 patents granted between June and August 2022
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
  AND f.value:"first"::BOOLEAN = TRUE 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-11382018-B2,H04W36/32
US-11412960-B2,A61B5/145
US-11351355-B2,A61M60/268
US-11412974-B2,A61B5/16
US-11423376-B2,G06Q20/14
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/12
US-11365729-B2,F04B49/22
US-11419647-B2,A61B17/80
US-11375912-B2,H02N11/00
US-11396572-B2,C08F236/18
US-11407017-B2,B21D11/12
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/00
US-11370724-B2,C07C2/82
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/52
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/00
US-11399950-B2,A61F2/42
US-11381283-B2,H04B7/0417
US-11409410-B2,G06F3/0481
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/142
US-11407574-B2,B65G17/18
US-11393841-B2,H10B43/30
US-11393841-B2,H10B43/27
US-11417842-B2,H10K99/00
US-11375809-B2,A47B83/04
US-11385961-B2,G06F11/00
US-11371080-B2,C12Q1/6876
US-11429930-B2,G06Q10/10
US-11402589-B2,G02B6/38
US-11356221-B2,H04L5/00
US-11382847-B2,A61K8/34
US-11407172-B2,B29C64/153
US-11400006-B2,A61G13/10
US-11391070-B2,E05B73/00
US-11430084-B2,G06T3/40
US-11421980-B2,G01B11/10
US-11374056-B2,H01L27/24
US-11382760-B2,A61F2/44
US-11413710-B2,B23K35/00
US-11387621-B2,H01S3/13
US-11373280-B2,G06T7/00
US-11423146-B2,G06F21/56
US-11400365-B2,A63F13/24
US-11411015-B2,H10B41/27
US-11411015-B2,H10B41/20
US-11376109-B2,A61F2/00
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N3/08
US-11426701-B2,B22C5/00
US-11406524-B2,A61F5/00
US-11390722-B2,C08J7/18
US-11389656-B2,A61N1/36
US-11374186-B2,H01L31/044
US-11369979-B2,B05B3/04
US-11391381-B2,F16K1/52
US-11396506-B2,C07D471/02
US-11386278-B2,G06K7/10
US-11372388-B2,G05B19/042
US-11374644-B2,H04B7/08
US-11387209-B2,H01L23/00
US-11428067-B2,E21B33/13
US-11418602-B2,G06F15/16
US-11351045-B2,A61F2/04
US-11392648-B2,G06F16/90
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/00
US-11424884-B2,H04W72/04
US-11422523-B2,G05B19/042
US-11389955-B2,G06F17/00
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/00
US-11404307-B2,H01L21/768
US-11407307-B2,B60K23/04
US-11410365-B2,G06T13/40
US-11386741-B2,G07F17/32
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/232
US-11373404-B2,H04N7/10
US-11421011-B2,C07K14/54
US-11384463-B2,D06B23/02
US-11413537-B2,A63F9/24
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/26
US-11374401-B2,H02H7/122
US-11397326-B2,G02B27/01
US-11386886-B2,G10L15/18
US-11352686-B2,C22F1/047
US-11352465-B2,C08J3/22
US-11391059-B2,E05B13/00
US-11380765-B2,H01L29/15
US-11376319-B2,A61K39/145
US-11423539-B2,A61B6/00
US-11388673-B2,H04W4/00
US-11398087-B2,G06V20/10
US-11424563-B2,H01R13/40
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/42
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11386539-B2,G06T7/00
US-11373466-B2,G07C5/08
US-11382705-B2,B25J17/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06J1/02
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11372255-B2,G02B27/09
US-11420401-B2,B29C70/38
US-11360211-B2,G01S13/931
US-11398338-B2,H01F27/25
US-11412422-B2,H04W36/00
US-11354655-B2,G06Q20/38
US-11387213-B2,H01L21/78
US-11375479-B2,H04W4/00
US-11420656-B2,B60W30/14
US-11378746-B2,G02B6/14
US-11375241-B2,H04N19/00
US-11380566-B2,G05B19/19
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/159
US-11412231-B2,H04N19/577
US-11412923-B2,A61B1/32
US-11384000-B2,C02F11/15
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/00
US-11407174-B2,B29C64/30
US-11376718-B2,B25B13/48
US-11427279-B2,B62K23/02
US-11424341-B2,H01L21/02
US-11379973-B2,G06T7/00
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,H04L67/00
US-11375403-B2,H04W28/06
US-11363222-B2,H04N5/369
US-11380354-B2,G11B5/48
US-11392814-B2,G06K19/07
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11383851-B2,B64D31/04
US-11421276-B2,C12Q1/6883
US-11414872-B2,E04D15/06
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/65
US-11422402-B2,G02F1/1335
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,B07C5/36
US-11357437-B2,A61B5/339
US-11376346-B2,A61L27/36
US-11376070-B2,A61B18/20
US-11352335-B2,C07D277/36
US-11401923-B2,F04B27/18
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,G05G1/38
US-11401219-B2,C07C1/24
US-11392816-B2,G06K19/077
US-11363375-B2,H04R3/00
US-11419318-B2,A01K67/027
US-11367437-B2,G10L15/20
US-11428911-B2,G02B15/14
US-11422364-B2,G02B27/00
US-11398593-B2,H10N60/01
US-11384177-B2,C08J3/07
US-11354261-B2,G06F3/00
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/04
US-11365041-B2,B65D81/20
US-11418715-B2,H04N5/232
US-11407775-B2,C07F9/6584
US-11422371-B2,G02B27/14
US-11354278-B2,G06F17/00
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/12
US-11401234-B2,C07C225/36
US-11400486-B2,B05D7/00
US-11397228-B2,G01R33/00
US-11353321-B2,G01B11/27
US-11363536-B2,H04W52/24
US-11400138-B2,A61K38/39
US-11393967-B2,H01L29/40
US-11353839-B

2025-01-16 16:56:07 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:07 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:07 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:08 - snowflake.connector.cursor - INFO - Number of results in first chunk: 9
2025-01-16 16:56:08 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:08 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:08 - root - INFO - SQL:
-- 17. Get counts of different 'kind_code' for US patents
SELECT "kind_code", COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
GROUP BY "kind_code" 
LIMIT 1000;
Results:
kind_code,COUNT(*)
A2,4
B1,1912
P9,1
A1,24453
C1,2
A,20405
B2,11090
A9,64
P1,22

2025-01-16 16:56:08 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:08 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:08 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:10 - snowflake.connector.cursor - INFO - Number of results in first chunk: 725
2025-01-16 16:56:11 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:11 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:11 - root - INFO - SQL:
-- 18. List publication numbers and titles
SELECT "publication_number", "title_localized" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,title_localized
CR-5634-A,"[
  {
    ""language"": ""es"",
    ""text"": ""Procedimiento para el analisis de aflatoxinas por cromatografia directa"",
    ""truncated"": false
  }
]"
CR-5990-A,"[
  {
    ""language"": ""es"",
    ""text"": ""Derivados de acido fenil-metoxi-imino-glioxilico como plaguicidas"",
    ""truncated"": false
  }
]"
FI-429-A,"[
  {
    ""language"": ""fi"",
    ""text"": ""Frbttringar af tjrbrnningsugnar med rrledning fr trdestillation"",
    ""truncated"": false
  }
]"
HK-6083-A,"[
  {
    ""language"": ""en"",
    ""text"": ""A new or improved alternating current control device"",
    ""truncated"": false
  }
]"
HU-T52763-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Herbicide and growth-controlling compositions containing sulfonyl-urea derivatives as active components and process for producing the active components"",
    ""truncated"": false
  }
]"
JP-H03206829-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Artificial algal fish bank for fishery"",
    ""truncated"": false
  },
  {
    ""language"": ""ja"",
    ""text"": """",
    ""truncated"": false
  }
]"
JP-S62159089-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Core support mechanism for tank type fast breeder reactor"",
    ""truncated"": false
  },
  {
    ""language"": ""ja"",
    ""text"": """",
    ""truncated"": false
  }
]"
US-416-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Machine for cutting"",
    ""truncated"": false
  }
]"
US-2528225-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Well clay dumper"",
    ""truncated"": false
  }
]"
AT-A41580-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zum vollkontinuierlichen strang- giessen schmelzfluessiger metalle"",
    ""truncated"": false
  }
]"
AT-A47682-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zur herstellung von neuen 2, 4, 8-triazaphenalenium-salzen sowie von deren geometrischen und optischen isomeren"",
    ""truncated"": false
  }
]"
AT-A63682-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zur bestimmung des strukturellen aufbaus von medien, die sich aus strukturelementen zusammensetzen"",
    ""truncated"": false
  }
]"
CA-920790-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Photoluminescent glass and method of making the same"",
    ""truncated"": false
  }
]"
CA-950907-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Azole compounds, processes for their manufacture and their use"",
    ""truncated"": false
  }
]"
CA-920830-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Device for anchoring a post or a pile in ground strata"",
    ""truncated"": false
  }
]"
CA-9086-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Improvements on machines for drilling rock"",
    ""truncated"": false
  },
  {
    ""language"": ""fr"",
    ""text"": ""Perfectionnements aux machines a percer le roc"",
    ""truncated"": false
  }
]"
CH-3256-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Nouvelle lampe lectrique "",
    ""truncated"": false
  }
]"
CH-540255-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zur Herstellung von Bipyridylen"",
    ""truncated"": false
  }
]"
CH-433637-A,"[
  {
    ""language"": ""it"",
    ""text"": ""Dispositivo applicato a corpi muniti di organi di rotolamento per l&#39;istantaneo passaggio da posizioni di appoggio su sostegni fissi a posizioni di appoggio su detti organi di rotolamento"",
    ""truncated"": false
  }
]"
CH-8494-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Neuerung an Support-Drehbnken"",
    ""truncated"": false
  }
]"
CH-9587-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Ringspiel (Karussell) mit Vorrichtung zum Drehen, Heben und Senken der Gondeln"",
    ""truncated"": false
  }
]"
CH-9968-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Leitungsrohr mit Heizvorrichtung"",
    ""truncated"": false
  }
]"
DD-8297-A,[]
FR-1334211-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Composition destine au traitement des vins"",
    ""truncated"": false
  }
]"
FR-1444995-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Procd de prparation de composs d&#39;tain alcoyle"",
    ""truncated"": false
  }
]"
FR-1474468-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Chargeur de bande magntique pour un appareil d&#39;enregistrement et de reproduction du son"",
    ""truncated"": false
  }
]"
FR-1478988-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Procd de prparation d&#39;thers glycidyliques  poids molculaire infrieur de phnols polyvalents"",
    ""truncated"": false
  }
]"
FR-1485992-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Procd et appareil lectrolytique pour empcher l&#39;encrassement des structures immerges dans l&#39;eau de mer par les organismes marins"",
    ""truncated"": false
  }
]"
FR-1487706-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Dispositif de perage pour botiers d&#39;accumulateurs"",
    ""truncated"": false
  }
]"

2025-01-16 16:56:11 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:11 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:11 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:13 - snowflake.connector.cursor - INFO - Number of results in first chunk: 402
2025-01-16 16:56:14 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:14 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:14 - root - INFO - SQL:
-- 19. Extract 'title' from 'title_localized' variant
SELECT t."publication_number", t."title_localized", f.value::STRING AS "title" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."title_localized") f 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,title_localized,title
US-8210142-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Valve opening/closing timing control apparatus"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Valve opening/closing timing control apparatus"",""truncated"":false}"
US-8338035-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Separator for fuel cell"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Separator for fuel cell"",""truncated"":false}"
US-8609829-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Compositions and methods to detect Legionella pneumophila nucleic acid"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Compositions and methods to detect Legionella pneumophila nucleic acid"",""truncated"":false}"
US-8240274-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Animal cage and method of assembly thereof"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Animal cage and method of assembly thereof"",""truncated"":false}"
US-8904292-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Method and system for processing electronic mail"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Method and system for processing electronic mail"",""truncated"":false}"
US-8480325-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Paint trimmer"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Paint trimmer"",""truncated"":false}"
US-9028758-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Substance detector with cyclone"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Substance detector with cyclone"",""truncated"":false}"
US-8462223-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Image pickup apparatus, control method for the same, and program thereof"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Image pickup apparatus, control method for the same, and program thereof"",""truncated"":false}"
US-7944609-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""3-D optical microscope"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""3-D optical microscope"",""truncated"":false}"
US-10236950-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Video transmission over SDMA"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Video transmission over SDMA"",""truncated"":false}"
US-8733262-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Needle thread passing device"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Needle thread passing device"",""truncated"":false}"
US-8248448-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Automatic camera framing for videoconferencing"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Automatic camera framing for videoconferencing"",""truncated"":false}"
US-8590235-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Anchoring system for a roof panel system"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Anchoring system for a roof panel system"",""truncated"":false}"
US-8086194-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Communication apparatus"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Communication apparatus"",""truncated"":false}"
US-9143515-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Location-based regulation of access"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Location-based regulation of access"",""truncated"":false}"
US-8587485-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Portable terminal"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Portable terminal"",""truncated"":false}"
US-8383945-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Dead end connector"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Dead end connector"",""truncated"":false}"
US-8246716-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Method in connection with steel production"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Method in connection with steel production"",""truncated"":false}"
US-8915088-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Fuel control method for starting a gas turbine engine"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Fuel control method for starting a gas turbine engine"",""truncated"":false}"
US-8644322-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Communication system"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Communication system"",""truncated"":false}"
US-8967144-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Vacuum and positive pressure ventilation systems and methods for intrathoracic pressure regulation"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Vacuum and positive pressure ventilation systems and methods for intrathoracic pressure regulation"",""truncated"":false}"
US-8500357-B2,"[
  {
    ""lang

2025-01-16 16:56:14 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:14 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:14 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:16 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-16 16:56:16 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:16 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:16 - root - INFO - SQL:
-- 20. Get filing dates for US B2 patents
SELECT "publication_number", "filing_date" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
  AND "kind_code" = 'B2' 
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,filing_date
US-6553475-B2,19981007
US-6529211-B2,19990622
US-6394809-B2,20001207
US-6600163-B2,20001222
US-6563339-B2,20010131
US-7749356-B2,20010307
US-6467229-B2,20010312
US-6498511-B2,20010322
US-6384449-B2,20010427
US-6882770-B2,20010629
US-6524827-B2,20011002
US-6620797-B2,20011213
US-6866899-B2,20011221
US-8990832-B2,20011029
US-6727439-B2,20020128
US-6614301-B2,20020131
US-6810524-B2,20020322
US-7143162-B2,20020328
US-6568115-B2,20010607
US-6703298-B2,20020523
US-7764665-B2,20020604
US-8053056-B2,20010127
US-7611881-B2,20020909
US-6793116-B2,20020926
US-6758787-B2,20021023
US-6992207-B2,20010611
US-7131623-B2,20010824
US-6883989-B2,20030129
US-6927159-B2,20030527
US-7364551-B2,20021108
US-7077968-B2,20030224
US-7666411-B2,20020614
US-7635776-B2,20040204
US-7594959-B2,20040429
US-7534562-B2,20040930
US-6950911-B2,20030826
US-8022270-B2,20030930
US-7005787-B2,20031219
US-7233459-B2,20040525
US-7322964-B2,20040601
US-7108510-B2,20040625
US-7639676-B2,20040921
US-7103945-B2,20050103
US-7045994-B2,20050405
US-7627059-B2,20050405
US-7671428-B2,20050407
US-7593731-B2,20050509
US-7406851-B2,20050614
US-7030561-B2,20050617
US-7701524-B2,20050628
US-7921137-B2,20050718
US-7796495-B2,20050805
US-7172491-B2,20050818
US-7636348-B2,20060214
US-7349243-B2,20060420
US-8613727-B2,20060613
US-7626612-B2,20060630
US-8617760-B2,20060814
US-8533503-B2,20060929
US-8932208-B2,20061007
US-7952336-B2,20050909
US-7568400-B2,20050510
US-7418882-B2,20061214
US-7700487-B2,20070112
US-7690763-B2,20060421
US-7645121-B2,20061219
US-7311525-B2,20070103
US-7828514-B2,20050826
US-7958611-B2,20050916
US-7688232-B2,20070327
US-8734941-B2,20051206
US-8494772-B2,20070517
US-8200070-B2,20070531
US-8078283-B2,20070618
US-7944447-B2,20070628
US-7807419-B2,20070822
US-8645715-B2,20070911
US-8539587-B2,20060322
US-7822730-B2,20071031
US-7551507-B2,20071114
US-7521041-B2,20071012
US-8054802-B2,20071029
US-7798017-B2,20050714
US-7881290-B2,20080220
US-7738949-B2,20080226
US-7656118-B2,20080304
US-8221921-B2,20080325
US-7649384-B2,20080205
US-7744258-B2,20080605
US-9021071-B2,20080609
US-8740359-B2,20080807
US-8275266-B2,20081031
US-8015764-B2,20070727
US-7662733-B2,20081222
US-8062407-B2,20081223
US-8386472-B2,20090109
US-8136558-B2,20090213
US-8038828-B2,20090218
US-8181764-B2,20090225
US-8437798-B2,20090427
US-8630692-B2,20090430
US-8876886-B2,20090501
US-8422356-B2,20071030
US-8732777-B2,20070111
US-8280837-B2,20090528
US-7890248-B2,20090625
US-8249761-B2,20090708
US-8608588-B2,20090720
US-8297360-B2,20071115
US-8629134-B2,20080131
US-8791876-B2,20090803
US-9230173-B2,20090824
US-8342198-B2,20090825
US-8243232-B2,20090826
US-9434030-B2,20091116
US-8310256-B2,20091222
US-8333202-B2,20100323
US-8432855-B2,20081126
US-8477635-B2,20100113
US-8054400-B2,20100219
US-8334670-B2,20100325
US-8376516-B2,20100406
US-8302507-B2,20100521
US-8412385-B2,20100805
US-8332096-B2,20100617
US-8516466-B2,20100630
US-8375605-B2,20100723
US-8767639-B2,20100805
US-8889153-B2,20090127
US-8582459-B2,20090218
US-8650994-B2,20110207
US-10560621-B2,20101119
US-8604913-B2,20101124
US-8773221-B2,20101227
US-8573154-B2,20110103
US-8684385-B2,20110104
US-8598618-B2,20090415
US-8604179-B2,20090424
US-8852441-B2,20090526
US-8890009-B2,20090702
US-8816105-B2,20110207
US-8817197-B2,20110209
US-8386556-B2,20110216
US-8653809-B2,20110322
US-8961767-B2,20110328
US-8539684-B2,20110401
US-8329176-B2,20110419
US-8664979-B2,20110427
US-8292487-B2,20110503
US-8719186-B2,20110517
US-8774858-B2,20110518
US-8455664-B2,20110519
US-8843145-B2,20091104
US-8846778-B2,20091221
US-8392109-B2,20091210
US-8341315-B2,20110603
US-8799190-B2,20110617
US-10810762-B2,20110621
US-9185127-B2,20110706
US-8625119-B2,20110713
US-8541702-B2,20110810
US-8398266-B2,20110812
US-8408914-B2,20110901
US-8757781-B2,20110901
US-8585184-B2,20110902
US-8355288-B2,20110922
US-8482647-B2,20110923
US-8810454-B2,20111013
US-8848223-B2,20111118
US-8556096-B2,20100512
US-9138053-B2,20111216
US-9544305-B2,20120130
US-8685404-B2,20120130
US-8536970-B2,20120201
US-8924531-B2,20120203
US-8577374-B2,20100608
US-8440029-B2,20100726
US-9169649-B2,20100903
US-10163063-B2,20120307
US-8864495-B2,20120314
US-9173609-B2,20120413
US-8806252-B2,20120418
US-8943342-B2,20120501
US-8913533-B2,20120612
US-8885806-B2,20100927
US-8745374-B2,20091001
US-8840023-B2,20101110
US-8752442-B2,20091211
US-9100914-B2,20120515
US-8957912-B2,20110504
US-8522849-B2,20120615
US-8698583-B2,20120622
US-10334031-B2,20120703
US-9492207-B2,20120703
US-8920897-B2,20120706
US-8750630-B2,20120713
US-8686437-B2,20120831
US-8970206-B2,20120914
US-8925849-B2,20121001
US-8526224-B2,20121029
US-8923605-B2,20121109
US-9245842-B2,20121129
US-8888690-B2,20121203
US-8932956-B2,20121204
US-8575548-B2,20110602
US-8729813-B2,20121220
US-8972027-B2,20121224
US-9069229-B2,20130115
US-9410432-B2,20130130
US-9077954-B2,20130313
US-9380650-B2,20130313
US-9289139-B2,20110909
US-9200694-B2,20110926
US-8841730-B2,20130516
US-9168918-B2,20130604
US-10532136-B2,20130

2025-01-16 16:56:16 - root - INFO - itercount: 0
2025-01-16 16:56:16 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
**Relevant Columns and Potential Usage:**

- `"country_code"`: To filter patents where the country code is 'US'.
- `"kind_code"`: To filter patents where the kind code is 'B2' (utility patents).
- `"grant_date"`: To filter patents granted between June and August 2022 (`"grant_date"` between `20220601` and `20220831`).
- `"ipc"`: To extract IPC codes associated with each patent. Since it's a VARIANT type, it may need to be flattened to access individual codes.
- `"publication_number"`: To uniquely identify each patent publication.
- `"ipc"."code"`: (nested within `"ipc"`) To get the IPC code strings.
- `"ipc"."first"`: (nested within `"ipc"`) May indicate if it's the main IPC code.

**Conditions that may be used:**

- `"country_code"` = 'US'
- `"kind_code"` = 'B2'
- `"grant_date"` BETWEEN `20220601` AND `20220831`

---

**SQL Queries:**

```sql
-- 1. Get distinct country codes
SELECT DISTINCT "country_code" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
```

```sql
-- 2. Get distinct kind codes
SELECT DISTINCT "kind_code" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
```

```sql
-- 3. Get grant dates between June and August 2022
SELECT "grant_date" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
```

```sql
-- 4. Count the number of US patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US';
```

```sql
-- 5. Count the number of B2 kind code patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "kind_code" = 'B2';
```

```sql
-- 6. Count the number of US B2 patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' AND "kind_code" = 'B2';
```

```sql
-- 7. Count the number of US B2 patents granted between June and August 2022
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
  AND "kind_code" = 'B2' 
  AND "grant_date" BETWEEN 20220601 AND 20220831;
```

```sql
-- 8. Get publication numbers and ipc field for patents granted between June and August 2022
SELECT "publication_number", "ipc" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
```

```sql
-- 9. Flatten the ipc field to explore its contents
SELECT t."publication_number", f.value 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
```

```sql
-- 10. Extract ipc codes from the ipc field
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
```

```sql
-- 11. Get distinct 4-digit IPC codes from the ipc codes
SELECT DISTINCT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc_4_digit" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
```

```sql
-- 12. Get publication numbers and ipc codes for US B2 patents granted between June and August 2022
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
```

```sql
-- 13. Get 4-digit IPC codes for US B2 patents granted between June and August 2022
SELECT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc_4_digit" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
```

```sql
-- 14. Get the ipc field to examine its structure
SELECT t."ipc" 
FROM PATENTS.PATENTS.PUBLICATIONS t 
LIMIT 1000;
```

```sql
-- 15. Extract ipc codes and 'first' indicator from ipc field
SELECT f.value:"code"::STRING AS "ipc_code", f.value:"first"::BOOLEAN AS "is_first" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
```

```sql
-- 16. Get the 'first' IPC codes for US B2 patents granted between June and August 2022
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
  AND f.value:"first"::BOOLEAN = TRUE 
LIMIT 1000;
```

```sql
-- 17. Get counts of different 'kind_code' for US patents
SELECT "kind_code", COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
GROUP BY "kind_code" 
LIMIT 1000;
```

```sql
-- 18. List publication numbers and titles
SELECT "publication_number", "title_localized" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
```

```sql
-- 19. Extract 'title' from 'title_localized' variant
SELECT t."publication_number", t."title_localized", f.value::STRING AS "title" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."title_localized") f 
LIMIT 1000;
```

```sql
-- 20. Get filing dates for US B2 patents
SELECT "publication_number", "filing_date" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
  AND "kind_code" = 'B2' 
LIMIT 1000;
```

---

Each query is designed to explore the data and understand the structure of relevant columns, especially those needed to determine the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022.Query:
-- 1. Get distinct country codes
SELECT DISTINCT "country_code" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
Answer:
country_code
DO
WO
BA
UA
MW
YU
ZM
LT
KR
RO
BG
TR
GR
CH
NO
MX
GE
EE
CZ
SV
HN
PA
EG
AU
CU
CR
PL
IT
CY
OA
GB
SG
CN
MC
JP
HU
DZ
AT
NL
CA
IS
SK
NI
IN
EC
ES
IE
EA
TN
GT
HK
CO
AR
SI
KE
IL
TW
MT
MD
JO
MA
ZA
EP
RS
PE
LU
DK
FI
BE
ZW
DD
DE
US
PH
SA
MN
FR
SU
BR
ID
KZ
HR
RU
SE
AP
ME
SM
NZ
PT
CL
LV
CS
MY
Query:
-- 2. Get distinct kind codes
SELECT DISTINCT "kind_code" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
Answer:
kind_code
C1
A1
P
B7
F1
P9
I1
T9
U9
B5
A4
A3
P1
C4
V0
D2
U8
B1
S
D1
U4
G2
T5
C3
A7
S2
Z2
R
U
T2
Y2
D
T
L
Z
E
D0
G
Y1
B
U2
C
B8
C0
T3
R1
B2
U5
B9
A0
A8
I2
A2
F2
A
B3
T4
C9
T8
U0
U1
V
A6
Y
A5
S1
U3
M
H1
Y8
B4
C2
C5
Q
H3
B6
A9
E2
T1
Y4
Query:
-- 3. Get grant dates between June and August 2022
SELECT "grant_date" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Answer:
Too long, hard cut:
grant_date
20220609
20220726
20220614
20220628
20220803
20220817
20220729
20220715
20220607
20220712
20220701
20220729
20220607
20220809
20220712
20220621
20220729
20220722
20220726
20220712
20220705
20220610
20220719
20220628
20220722
20220603
20220722
20220621
20220705
20220610
20220607
20220726
20220603
20220719
20220712
20220715
20220715
20220708
20220628
20220617
20220823
20220823
20220715
20220826
20220805
20220816
20220614
20220705
20220708
20220603
20220830
20220607
20220705
20220816
20220624
20220708
20220802
20220628
20220607
20220624
20220624
20220812
20220607
20220819
20220823
20220628
20220816
20220826
20220712
20220628
20220610
20220823
20220712
20220607
20220603
20220715
20220812
20220823
20220819
20220719
20220607
20220701
20220712
20220607
20220624
20220722
20220614
20220614
20220826
20220708
20220624
20220816
20220712
20220722
20220708
20220729
20220823
20220805
20220628
20220823
20220722
20220729
20220719
20220708
20220708
20220705
20220712
20220826
20220823
20220621
20220805
20220708
20220719
20220823
20220802
20220726
20220712
20220729
20220805
20220729
20220729
20220722
20220628
20220715
20220722
20220823
20220826
20220712
20220809
20220729
20220712
20220719
20220816
20220719
20220805
20220805
20220802
20220830
20220802
20220819
20220802
20220701
20220823
20220830
20220802
20220816
20220802
20220726
20220722
20220819
20220816
20220705
20220617
20220715
20220603
20220628
20220708
20220603
20220805
20220712
20220614
20220729
20220621
20220628
20220614
20220614
20220603
20220617
20220621
20220621
20220607
20220617
20220624
20220621
20220826
20220705
20220719
20220705
20220603
20220603
20220621
20220617
20220624
20220712
20220624
20220614
20220603
20220719
20220614
20220610
20220624
20220719
20220823
20220823
20220603
20220628
20220719
20220603
20220628
20220610
20220719
20220614
20220719
20220719
20220701
20220607
20220624
20220708
20220603
20220607
20220712
20220628
20220809
20220712
20220809
20220701
20220816
20220708
20220603
20220812
20220719
20220603
20220607
20220624
20220816
20220705
20220621
20220621
20220812
20220624
20220607
20220603
20220715
20220610
20220830
20220729
20220603
20220823
20220708
20220802
20220712
20220624
20220712
20220628
20220610
20220816
20220812
20220726
20220603
20220830
20220802
20220809
20220830
20220607
20220607
20220816
20220823
20220805
20220819
20220712
20220603
20220614
20220621
20220607
20220826
20220624
20220802
20220823
20220802
20220603
20220614
20220712
20220805
20220809
20220816
20220816
20220823
20220708
20220823
20220816
20220617
20220729
20220819
20220819
20220819
20220729
20220701
20220624
20220826
20220614
20220830
20220628
20220830
20220628
20220628
20220715
20220816
20220705
20220719
20220617
20220712
20220830
20220621
20220708
20220722
20220705
20220802
20220802
20220614
20220816
20220805
20220624
20220826
20220729
20220816
20220729
20220816
20220624
20220624
20220715
20220805
20220719
20220816
20220705
20220726
20220719
20220712
20220809
20220823
20220701
20220729
20220729
20220712
20220816
20220805
20220801
20220728
20220825
20220825
20220712
20220614
20220729
20220621
20220603
20220628
20220722
20220722
20220712
20220621
20220722
20220712
20220812
20220712
20220826
20220805
20220607
20220719
20220708
20220809
20220729
20220719
20220812
20220705
20220705
20220628
20220715
20220705
20220621
20220722
20220614
20220719
20220812
20220617
20220715
20220607
20220603
20220719
20220614
20220805
20220614
20220614
20220701
20220621
20220708
20220624
20220712
20220708
20220621
20220607
20220802
20220617
20220712
20220607
20220624
20220708
20220719
20220823
20220705
20220830
20220819
20220722
20220715
20220617
20220819
20220726
20220607
20220816
20220617
20220715
20220624
20220726
20220802
20220624
20220610
20220712
20220823
20220628
20220712
20220802
20220816
20220823
20220715
20220610
20220809
20220729
20220719
20220628
20220812
20220712
20220719
20220705
20220826
20220617
20220712
20220705
20220617
20220610
20220819
20220722
20220610
20220812
20220719
20220628
20220812
20220617
20220715
20220628
20220614
20220816
20220701
20220823
20220705
20220624
20220621
20220722
20220805
20220607
20220624
20220621
20220826
20220823
20220805
20220722
20220614
20220812
20220708
20220726
20220719
20220705
20220719
20220819
20220705
20220708
20220719
20220614
20220729
20220712
20220628
20220715
20220805
20220802
20220701
20220816
20220826
20220712
20220816
20220628
20220826
20220809
20220726
20220628
20220816
20220628
20220719
20220705
20220826
20220722
20220722
20220701
20220624
20220719
20220712
20220719
20220809
20220715
20220805
20220712
20220712
20220719
20220701
20220628
20220705
20220729
20220819
20220726
20220802
20220809
20220802
20220812
20220719
20220729
20220712
20220712
20220719
20220719
20220715
20220708
20220816
20220812
20220726
20220826
20220726
20220823
20220802
20220722
20220823
20220722
20220819
20220715
20220809
20220722
20220722
20220802
20220805
20220726
20220729
20220729
20220826
20220729
20220826
20220826
20220805
20220830
20220823
202
Query:
-- 4. Count the number of US patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US';
Answer:
COUNT(*)
57953
Query:
-- 5. Count the number of B2 kind code patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "kind_code" = 'B2';
Answer:
COUNT(*)
37891
Query:
-- 6. Count the number of US B2 patents
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' AND "kind_code" = 'B2';
Answer:
COUNT(*)
11090
Query:
-- 7. Count the number of US B2 patents granted between June and August 2022
SELECT COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
  AND "kind_code" = 'B2' 
  AND "grant_date" BETWEEN 20220601 AND 20220831;
Answer:
COUNT(*)
201
Query:
-- 8. Get publication numbers and ipc field for patents granted between June and August 2022
SELECT "publication_number", "ipc" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc
CN-216698045-U,"[
  {
    ""code"": ""H01F27/16"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01F27/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216942604-U,"[
  {
    ""code"": ""B60H1/32"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B60P3/20"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216869430-U,"[
  {
    ""code"": ""G01B3/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01B5/28"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217072603-U,"[
  {
    ""code"": ""B26D7/18"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216675802-U,"[
  {
    ""code"": ""A61B17/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217155194-U,"[
  {
    ""code"": ""G01B5/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216933663-U,"[
  {
    ""code"": ""A61F5/058"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216785733-U,"[
  {
    ""code"": ""C01B32/205"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B65G65/40"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B65G65/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217080464-U,"[
  {
    ""code"": ""E21D9/10"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217034744-U,"[
  {
    ""code"": ""G06K7/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217062367-U,"[
  {
    ""code"": ""H01M50/244"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M50/249"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M50/24"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M10/625"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01M10/615"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216941023-U,"[
  {
    ""code"": ""B26D7/32"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216903573-U,"[
  {
    ""code"": ""H01R24/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R13/52"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R13/639"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R31/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216707297-U,"[
  {
    ""code"": ""B08B1/20"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B25B11/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B25B27/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217008978-U,"[
  {
    ""code"": ""H01H9/20"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216832332-U,"[
  {
    ""code"": ""B29C69/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B29C65/56"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B29C59/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B29C31/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217025536-U,"[
  {
    ""code"": ""C02F9/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216664325-U,"[
  {
    ""code"": ""E03B11/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B7/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B7/09"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E03B7/07"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-217027443-U,"[
  {
    ""code"": ""E04B1/58"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B23K31/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E04B1/18"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216781167-U,"[
  {
    ""code"": ""B23Q11/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216874023-U,"[
  {
    ""code"": ""A01G3/04"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
CN-216711847-U,"[
  {
    ""code"": ""C02F9/14"",
    ""first"": true,
    ""inventive"": true,
    ""t
Query:
-- 9. Flatten the ipc field to explore its contents
SELECT t."publication_number", f.value 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,VALUE
US-2022245697-A1,"{
  ""code"": ""G06F16/903"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F40/247"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06Q30/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2022245697-A1,"{
  ""code"": ""G06F16/9035"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B1/267"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B90/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61M25/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021153768-A1,"{
  ""code"": ""A61B5/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/355"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021236923-A1,"{
  ""code"": ""A63F13/352"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/15"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/22"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W24/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W76/27"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/08"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021176690-A1,"{
  ""code"": ""H04W36/30"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/15"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021172647-A1,"{
  ""code"": ""F24F13/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""C12G3/06"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/262"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L29/256"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021179984-A1,"{
  ""code"": ""A23L17/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N1/40"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021278328-A1,"{
  ""code"": ""G01N21/64"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0525"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0567"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0569"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M10/0568"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021210786-A1,"{
  ""code"": ""H01M4/58"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""G06K9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/09"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W40/105"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/18"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W30/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021300347-A1,"{
  ""code"": ""B60W10/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/513"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/188"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M16/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/03"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/463"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M13/148"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N59/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""D06M15/61"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
US-2021222357-A1,"{
  ""code"": ""A01N43/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"

Query:
-- 10. Extract ipc codes from the ipc field
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-2019386123-A1,H01L29/732
US-2019386123-A1,H01L23/66
US-2019386123-A1,H01L29/66
US-2019386123-A1,H01L29/205
US-2019386123-A1,H01L29/165
US-2019386123-A1,H01L29/73
US-2019386123-A1,H01L29/36
US-2019386123-A1,H01L29/08
US-2019386123-A1,H01L29/737
US-2019120553-A1,F26B15/12
US-2019120553-A1,F26B25/00
US-2020198027-A1,B23C5/22
US-2019137145-A1,H04B1/3888
US-2019137145-A1,H04M1/18
US-2019137145-A1,F24V30/00
US-2019137145-A1,G06F1/16
US-2019307110-A1,F21V31/00
US-2019307110-A1,H05B37/02
US-2019307110-A1,F21L4/08
US-2019307110-A1,A01K85/01
US-2019307110-A1,F21V33/00
US-2019307110-A1,F21V3/06
US-2019307110-A1,H05B44/00
US-2019310842-A1,H04L12/24
US-2019310842-A1,G06F8/65
US-2019310842-A1,G06F8/654
US-2019310842-A1,G06F8/61
US-2019310842-A1,G06F8/71
US-2019215233-A1,H04L12/24
US-2019215233-A1,H04L12/40
US-2019156651-A1,G16H40/63
US-2019156651-A1,A61B5/00
US-2019156651-A1,G08B21/24
US-2019156651-A1,A61B5/145
US-2019224509-A1,A62C37/36
US-2019224509-A1,G05B19/042
US-2020229416-A1,A01K97/01
US-2020229416-A1,A01K93/00
US-2019158596-A1,H04L29/08
US-2019245751-A1,H04Q11/00
US-2019245751-A1,H04L12/44
US-2019245751-A1,H04L49/111
US-2019245751-A1,H04L45/122
US-2020185880-A1,G01N21/39
US-2020185880-A1,H01S5/068
US-2020185880-A1,H01S5/022
US-2020251177-A1,H05K5/02
US-2020251177-A1,H05K7/18
US-2020251177-A1,G12B9/10
US-2019242715-A1,G01C21/34
US-2019242715-A1,G05D1/02
US-2019242715-A1,G01C21/36
US-2019242715-A1,G05D1/00
US-2019254081-A1,H04W74/08
US-2019254081-A1,H04L1/16
US-2019254081-A1,H04W76/11
US-2019254081-A1,H04L5/14
US-2019254081-A1,H04L5/00
US-2019254081-A1,H04W72/04
US-2019305700-A1,H02P25/089
US-2019305700-A1,G01R27/26
US-2019305700-A1,H02P6/182
US-2019169580-A1,C12N9/10
US-2019291557-A1,B60K1/04
US-2019264852-A1,F16L37/18
US-2020280587-A1,H04L45/42
US-2019267164-A1,H01Q1/36
US-2019267164-A1,H01F1/01
US-2019267164-A1,H01F1/36
US-2019267164-A1,C04B35/26
US-2019267164-A1,H01Q7/06
US-2019267164-A1,H01F1/34
US-2020287086-A1,H01L33/32
US-2020287086-A1,H01L31/102
US-2020287086-A1,H01L31/0352
US-2020287086-A1,H01L31/0304
US-2020287086-A1,H01L33/06
US-2019194351-A1,G01N33/573
US-2019194351-A1,C07K16/36
US-2019362101-A1,G06F16/951
US-2019362101-A1,G06F16/9535
US-2019362101-A1,G06F21/62
US-2019362101-A1,H04L29/06
US-2019298878-A1,A61L9/14
US-2019298878-A1,A61L9/01
US-2019246076-A1,G01P15/18
US-2019246076-A1,G06K9/00
US-2019246076-A1,H04N7/18
US-2019246076-A1,B60Q9/00
US-2019246076-A1,B60W40/076
US-2019157622-A1,H01L33/60
US-2019157622-A1,H01L33/32
US-2019157622-A1,G02B5/30
US-2019157622-A1,H01L51/52
US-2019316048-A1,C10G35/095
US-2019316048-A1,C10G11/05
US-2019316048-A1,C10G7/00
US-2019316048-A1,C10G63/04
US-2019287241-A1,A61B6/00
US-2019287241-A1,G06T7/00
US-2019287241-A1,G16H30/40
US-2019287241-A1,G06T7/73
US-2021220734-A1,A63F13/22
US-2021220734-A1,A63F13/42
US-2021220734-A1,G06F3/0338
US-2021220734-A1,A63F13/5255
US-2021288381-A1,H01M50/454
US-2021288381-A1,H01M50/491
US-2021288381-A1,H01M50/449
US-2021288381-A1,H01M50/44
US-2021288381-A1,H01M50/434
US-2021288381-A1,H01M50/423
US-2021288381-A1,H01M50/403
US-2021288381-A1,H01M50/417
US-2021288381-A1,H01M50/457
US-2021288381-A1,H01M50/451
US-2021288381-A1,H01M50/426
US-2021288381-A1,H01M50/42
US-2021288381-A1,H01M50/414
US-2021279534-A1,G06K15/02
US-2019281686-A1,F24F11/58
US-2019281686-A1,F24F11/63
US-2019281686-A1,H04L12/28
US-2019281686-A1,H05B37/02
US-2019211485-A1,D04H1/732
US-2019211485-A1,D04H1/54
US-2019211485-A1,D04H1/4234
US-2020032083-A1,B32B27/40
US-2020032083-A1,C09D7/40
US-2020032083-A1,C09D175/04
US-2020032083-A1,B32B27/22
US-2020032083-A1,B32B27/20
US-2020032083-A1,C09D7/61
US-2020032083-A1,E04F15/10
US-2020032083-A1,B32B7/04
US-2020046698-A1,A61K31/505
US-2020046698-A1,A61K31/55
US-2020046698-A1,A61P35/00
US-2020289344-A1,A45C11/00
US-2020289344-A1,A61J1/03
US-2020289344-A1,A61F13/551
US-2020289344-A1,A61F13/472
US-2020289344-A1,A45C13/10
US-2020289344-A1,A45F3/02
US-2020289344-A1,A61F13/20
US-2020296001-A1,H04L45/28
US-2020296001-A1,H04L45/02
US-2020296001-A1,H04L12/44
US-2019284445-A1,C09J7/20
US-2019284445-A1,G11B5/012
US-2019284445-A1,G11B21/10
US-2019284445-A1,C09J7/38
US-2019239634-A1,A46B9/04
US-2019239634-A1,A46B5/02
US-2019239634-A1,A46B15/00
US-2019239634-A1,A46B5/00
US-2019323219-A1,E03D3/12
US-2019249135-A1,C12N5/071
US-2019249135-A1,C12N5/095
US-2019249135-A1,C12N5/00
US-2019249150-A1,B01J20/28
US-2019249150-A1,B01J20/32
US-2019249150-A1,B01D61/14
US-2019249150-A1,A61L2/00
US-2019249150-A1,B01D67/00
US-2019249150-A1,B01J20/26
US-2019249150-A1,C12N7/00
US-2019265968-A1,G06F21/56
US-2019265968-A1,G06F8/656
US-2020369198-A1,B60R9/06
US-2020369198-A1,B62D33/023
US-2020369198-A1,B60P7/08
US-2020259178-A1,H01M4/133
US-2020259178-A1,H01G11/34
US-2020259178-A1,H01M4/583
US-2020259178-A1,H01G11/44
US-2020259178-A1,H01G11/24
US-2020259178-A1,H01M10/06
US-2020259178-A1,H01M10/0525
US-2020259178-A1,H01M12/06
US-2020259178-A1,C01B32/30
US-2020259178-A1,C01B32/336
US-2020259178-A1,H01M2/16
US-2020259178-A1,H01M4/14
US-2020259178-
Query:
-- 11. Get distinct 4-digit IPC codes from the ipc codes
SELECT DISTINCT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc_4_digit" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Answer:
ipc_4_digit
C09J
H04Q
G21K
E06B
B61L
C03C
G02C
F25J
F16M
C01B
C10M
E05D
C09C
G16C
D01H
G06G
E02C
H01M
A61B
C07G
G03G
F04D
A01K
D05B
B31D
B21G
C12F
A63C
F02B
A44C
G01C
B04C
F03D
G06K
F16C
B29K
A41G
A23P
A47G
C01D
B41B
H04J
G06N
D07B
C12M
E04D
A43C
F23B
C06D
C09K
B04B
D06H
D02J
A01F
D21G
A61H
B07C
H02S
F23R
F24D
H05G
B62M
C12C
F17D
B41K
F02N
C25F
C06F
G16B
G05B
B64C
B60K
G03D
C30B
B82B
B62J
B60P
C10B
G21B
F22G
F26B
B60L
C12R
B68C
E04C
G05G
H01P
D01D
B06B
C06C
B67B
C13K
B03C
A47J
B09C
A47D
C05D
C09F
C07K
G06T
B29C
F24C
D03D
C25D
B33Y
C22B
B28B
F16T
B61F
F04B
E21D
D01C
C22C
H02P
C08G
F01L
H01H
B66C
B09B
G21C
E03C
B02B
F41A
A61M
F04C
B60J
B43K
G07F
H02N
F23D
B63C
D21C
G09F
E21C
F15C
F41C
B42F
B61K
B31C
D06Q
D04G
C07H
A61C
B25F
F41B
C06B
F21K
F24T
B23K
A63G
B01B
B21L
C10F
G21J
H04B
B05B
D04B
G08G
B41M
B26F
F23C
B30B
F01K
F24V
C08L
B25B
B23H
G01K
B44F
C07J
C01C
F41G
F16F
B29L
D21H
F28G
B44D
C12J
D21D
A41D
B41J
H10N
H10K
B22F
F25B
B22D
F02K
F21S
A23G
B03B
F16B
A63H
B21J
B43M
B27H
G01J
G08B
C23C
H02K
A42B
B23C
G21F
F16G
A63D
A01J
Y02E
A63B
B63G
E04H
F24H
B81C
G16Y
B61H
B29D
B61J
F17B
C23G
H10B
G11B
G01F
H01S
E01D
B64B
F27D
C12N
A01N
A47H
B22C
H03C
F03G
F41H
C12S
G02B
C09D
F02M
B21H
B63B
B66F
H03J
B62L
B41G
A45C
G06V
F02F
B65F
G10B
D06P
B27K
G16Z
F23M
A01L
G02F
H04M
B03D
A61F
B23D
F23K
C10N
F16S
F02D
C07C
H02M
B60B
D21F
B62B
G10K
C05F
G01N
B67D
A43B
C21D
B81B
F23N
A21C
E21B
F01M
C11C
C21C
A23N
A01C
C05B
B62K
A43D
C10G
F41J
G10L
A61Q
A61L
A23B
G03B
F23Q
G01T
A24D
C25C
A41F
F03C
G01M
A61K
G07D
H01J
F16K
B05D
F15B
A01D
B65C
F42C
H03F
F16N
B42C
B60F
H03M
F16L
E05C
G01H
F16H
F17C
F28C
G21D
A21B
A23J
H01K
A63K
C14C
G04D
G04R
C21B
C02F
F28F
A61N
H03G
C08K
B23Q
E05B
B21B
C09B
A45D
B61D
B41D
B41N
C13B
C23F
B23P
B64F
H01F
G03F
A44B
B66D
D06M
B41C
B60H
F24S
D21J
B25J
C25B
F15D
G01D
B27G
B24D
H04S
B28C
B01L
B27L
G21H
A06F
B52D
B60Q
F16D
C11B
B05C
C04B
B24B
D06L
A01P
G10F
C08C
F23L
G01G
G01W
H03L
D21B
G06C
C09G
B63H
A01B
F23J
A23K
B27D
C23D
D06N
B64G
B27F
B61B
B24C
D02H
A42C
F21V
B41L
F42B
A21D
H03H
G04G
H02J
B21C
G09B
C01G
E02D
H05F
F41F
G01B
A01M
B66B
B28D
A23C
A22C
F21L
B27B
G16H
F01P
A23L
A61J
B42D
B60D
F03B
B42B
E21F
A41B
B60M
C09H
A47B
B60T
G11C
B60C
E04B
H03B
E01C
F21Y
B60S
D01B
G12B
A62B
G01L
B65B
A47C
F27B
B23B
G07B
E02B
A62D
E05G
G06J
B62D
G08C
C03B
E03D
B44C
B68F
B27M
C08F
H04W
B02C
B26D
F16P
B21D
A47L
B21F
B61C
G04C
F28B
A61D
B61G
D06G
C10L
B32B
B41F
B25D
B60V
H05B
F24F
G05F
A63F
A41C
H04H
G06E
A24C
B21K
C12L
B44B
H04K
G04B
H01B
C01F
C10J
F25C
G01Q
G06M
D06B
H05C
G01S
H02H
A24F
G10D
F23G
B23G
B68G
G06F
B65H
C12Q
D06F
H01C
A23F
B25G
B63J
C08H
G10G
F21H
E01B
G09G
B60R
H04R
B08B
C07D
F22B
C07F
F16J
E01F
C14B
C12P
A22B
F42D
C10H
E04F
B01J
F28D
G09C
H01G
E04G
H01T
G10C
G01P
B62H
C10C
A63J
B29H
A46B
C11D
F01N
F24J
B60G
D04H
E01H
B27C
D04C
B31B
G07C
B01D
B29B
H03K
E05F
F02P
F04F
D05C
G01R
H02G
F02C
C07B
H02B
B23F
B07B
F23H
D06J
B68B
G06Q
H01Q
B25H
E02F
A41H
C05G
D04D
F01B
C12H
B62C
H01L
H05K
H04N
B60N
F01D
G01V
H05H
B01F
D03C
D01F
G03C
F21W
E03B
F22D
D03J
A61G
A46D
B64U
G06D
F01C
B65G
A45F
C08B
C12G
B60W
A23D
B31F
G04F
E03F
B67C
E06C
A01H
A61P
G10H
C08J
A24B
A47F
F02G
B65D
G05D
A01G
C40B
B27N
G21G
H04L
H01R
F25D
C22F
A45B
G07G
D02G
B27J
F24B
C10K
B64D
B82Y
D06C
B43L
G03H
A62C
B26B
H03D
D01G
A47K
B25C
C05C
F03H
G09D
A99Z
Query:
-- 12. Get publication numbers and ipc codes for US B2 patents granted between June and August 2022
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-11382018-B2,H04W88/02
US-11382018-B2,H04W36/32
US-11382018-B2,H04W36/04
US-11382018-B2,H04W36/30
US-11382018-B2,H04W36/08
US-11412960-B2,A61B5/00
US-11412960-B2,A61M5/00
US-11412960-B2,A61B5/1486
US-11412960-B2,A61B5/145
US-11412960-B2,B65B5/04
US-11412960-B2,A61B5/1473
US-11412960-B2,B65B7/28
US-11412960-B2,B65B55/02
US-11351355-B2,A61M60/894
US-11351355-B2,A61M60/135
US-11351355-B2,A61M60/50
US-11351355-B2,A61M60/40
US-11351355-B2,A61M60/268
US-11364500-B2,B01L3/00
US-11396506-B2,C07D519/00
US-11396506-B2,C07D471/02
US-11396506-B2,C07D471/04
US-11386278-B2,G07G1/00
US-11386278-B2,G06K7/10
US-11386278-B2,H04B17/318
US-11372388-B2,G05B19/042
US-11372388-B2,B23P19/06
US-11372388-B2,G05B19/04
US-11374644-B2,H04B17/327
US-11374644-B2,H04W24/10
US-11374644-B2,H04B7/08
US-11374644-B2,H04B7/06
US-11374644-B2,H04B7/0452
US-11387209-B2,H01L23/31
US-11387209-B2,H01L23/00
US-11387209-B2,H01L21/768
US-11387209-B2,H01L25/00
US-11387209-B2,H01L21/306
US-11387209-B2,H01L21/3105
US-11387209-B2,H01L23/48
US-11387209-B2,H01L21/56
US-11428067-B2,E21B36/00
US-11428067-B2,E21B33/13
US-11428067-B2,C06B47/00
US-11428067-B2,C22C9/00
US-11428067-B2,E21B27/02
US-11428067-B2,C09K8/42
US-11428067-B2,E21B17/10
US-11428067-B2,C06B33/00
US-11428067-B2,E21B47/00
US-11428067-B2,E21B33/136
US-11428067-B2,E21B33/134
US-11428067-B2,E21B33/12
US-11428067-B2,C22C12/00
US-11396572-B2,C08F20/16
US-11396572-B2,C08L53/00
US-11396572-B2,C08F293/00
US-11396572-B2,C08F220/14
US-11396572-B2,C08F20/14
US-11396572-B2,C08F2/38
US-11396572-B2,B60S1/38
US-11396572-B2,C08F20/06
US-11396572-B2,C08F220/16
US-11396572-B2,C08F36/18
US-11396572-B2,C08F236/18
US-11407017-B2,B21F1/00
US-11407017-B2,B21D11/12
US-11407017-B2,B21D7/022
US-11407017-B2,B21D7/12
US-11407017-B2,B21D43/00
US-11407017-B2,B21D43/28
US-11360542-B2,G06F1/3234
US-11360542-B2,H04W52/02
US-11360542-B2,G06F1/324
US-11379962-B2,G06T7/33
US-11379962-B2,H04N1/00
US-11379962-B2,G06T7/00
US-11370724-B2,B01J37/02
US-11370724-B2,B01J35/06
US-11370724-B2,C07C2/06
US-11370724-B2,B01J35/10
US-11370724-B2,B01J23/10
US-11370724-B2,B01J35/04
US-11370724-B2,B01J35/02
US-11370724-B2,C07C2/82
US-11370724-B2,C07C2/84
US-11370724-B2,B82Y30/00
US-11370724-B2,B01J29/06
US-11370724-B2,B01J35/00
US-11370724-B2,B01J23/34
US-11416001-B2,G06F17/00
US-11416001-B2,G06T7/80
US-11416001-B2,G06F7/00
US-11416001-B2,B62D12/00
US-11416001-B2,B62D6/00
US-11416001-B2,B63G8/20
US-11416001-B2,B62D11/00
US-11416001-B2,B66F9/075
US-11416001-B2,B65G1/00
US-11416001-B2,G05D1/00
US-11416001-B2,B63H25/04
US-11416001-B2,G05D1/02
US-11416001-B2,G06T7/70
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/04
US-11396732-B2,E02D31/08
US-11396732-B2,E02D27/52
US-11396732-B2,E02D27/46
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/395
US-11407829-B2,A61K38/04
US-11407829-B2,A61K38/16
US-11407829-B2,C12N15/11
US-11407829-B2,C07K7/08
US-11407829-B2,C07K16/28
US-11407829-B2,A61K45/06
US-11407829-B2,A61K39/00
US-11407829-B2,C07K14/00
US-11399950-B2,A61F2/30
US-11399950-B2,A61F2/42
US-11381283-B2,H04W72/12
US-11381283-B2,H04B7/0456
US-11381283-B2,H04B7/0417
US-11381283-B2,H04W72/04
US-11409410-B2,G06F9/54
US-11409410-B2,G06F3/04817
US-11409410-B2,G06F21/32
US-11409410-B2,G06F3/0481
US-11409410-B2,G06F1/3212
US-11409410-B2,G06F3/0488
US-11412974-B2,A61B5/372
US-11412974-B2,G16H40/63
US-11412974-B2,G16H50/20
US-11412974-B2,A61B5/16
US-11412974-B2,G16H10/60
US-11412974-B2,G16H10/20
US-11412974-B2,A61B5/369
US-11412974-B2,A61B5/00
US-11423376-B2,G06V30/412
US-11423376-B2,G06V30/416
US-11423376-B2,G06Q20/14
US-11423376-B2,G06F40/174
US-11423376-B2,G06V30/10
US-11363813-B2,A01N31/04
US-11363813-B2,A01N25/04
US-11426634-B2,A63B37/00
US-11426634-B2,A63B37/12
US-11365729-B2,F16K17/04
US-11365729-B2,F04B53/10
US-11365729-B2,F04B49/22
US-11419647-B2,A61B/
US-11419647-B2,A61B17/80
US-11419647-B2,A61B17/74
US-11419647-B2,A61B17/56
US-11419647-B2,A61B17/86
US-11375912-B2,H02N11/00
US-11375912-B2,H02N1/08
US-11375912-B2,A61B5/026
US-11416109-B2,H04L51/02
US-11416109-B2,G06F3/04842
US-11416109-B2,G06F3/0481
US-11416109-B2,G06F9/451
US-11376109-B2,B65B55/18
US-11376109-B2,B65D79/02
US-11376109-B2,A61F2/00
US-11376109-B2,B65D75/30
US-11376109-B2,B65D75/58
US-11376109-B2,B65B7/02
US-11376109-B2,B65B55/02
US-11376109-B2,B65B51/22
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11406832-B2,G16H20/40
US-11406832-B2,A61N1/365
US-11406832-B2,A61N1/02
US-11406832-B2,A61N1/372
US-11406832-B2,A61N1/05
US-11379726-B2,G06N20/10
US-11379726-B2,G06K9/62
US-11379726-B2,G06N3/04
US-11379726-B2,G06N3/08
US-11426701-B2,B29B7/48
US-11426701-B2,B29C48/36
US-11426701-B2,B01F27/272
US-11426701-B2,B01F33/82
US-11426701-B2,B01F35/90
US-11426701-B2,B01F27/1143
US-11426701-B2,B01F25/431
US-11426701-B2,B29C48/40
US-11426701-B2,B01F101/00
US-11426701-B2,B29K27/06
US-11426701-B2,B22C5/00
US-11426701-B2,B01F27/723
US-11426701-B2,B01F35/92
US-11426701-B2,B29C48/505
US-11426701-B2,B29C48/67
US-11426701-B2,B29C48/535
US-11426701-B2,B29C48/42
US-
Query:
-- 13. Get 4-digit IPC codes for US B2 patents granted between June and August 2022
SELECT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc_4_digit" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
LIMIT 1000;
Answer:
Too long, hard cut:
ipc_4_digit
C12Q
C12Q
G16H
G06F
G06Q
G16H
G06F
G16H
G16H
G02B
F16B
F16B
G02B
H04W
H04J
H04L
H04L
A61K
A61K
A61K
A61K
A61K
A61K
A61Q
A61K
A61K
A61K
B29C
B33Y
B22F
B33Y
B29C
B33Y
B22F
B29C
B29C
F16B
A61B
A61G
G08B
G07C
E05B
A47F
E05B
A47F
G08B
C08F
C08L
C08F
C08F
C08F
C08F
B60S
C08F
C08F
C08F
C08F
B21F
B21D
B21D
B21D
B21D
B21D
G06F
H04W
G06F
G06T
H04N
G06T
B01J
B01J
C07C
B01J
B01J
B01J
B01J
C07C
C07C
B82Y
B01J
B01J
B01J
G06F
G06T
G06F
B62D
B62D
B63G
B62D
B66F
B65G
G05D
B63H
G05D
G06T
A01B
E02D
E02D
E02D
E02D
H01L
A47F
A61K
A61K
A61K
C12N
C07K
C07K
A61K
A61K
C07K
A61F
A61F
H04W
H04B
H04B
H04W
G06F
G06F
G06F
G06F
G06F
G06F
A61F
A61F
A61F
A61F
G10L
G06F
G10L
G06F
G06F
A62C
G06F
G06V
G06V
G06F
G06F
G06F
G06V
H04L
H04W
G05B
H04W
H04W
H04W
H04W
H04W
A61B
A61M
A61B
A61B
B65B
A61B
B65B
B65B
A61M
A61M
A61M
A61M
A61M
B01L
A61B
G16H
G16H
A61B
G16H
G16H
A61B
A61B
G06V
G06V
G06Q
G06F
G06V
A01N
A01N
A63B
A63B
F16K
F04B
F04B
A61B
A61B
A61B
A61B
A61B
H02N
H02N
A61B
H04L
G06F
G06F
G06F
F15B
B25J
B25J
F15B
G06F
B25J
B25J
F15B
F15B
H04N
H04N
G06V
A61B
A61B
A61B
A61B
H01L
H04B
H01L
H01L
H01L
B60K
B60K
B60K
F16H
B60K
G06F
G06T
G06T
G06F
G06T
G06T
G06T
G07F
G06T
G07F
G06T
B24C
B24C
B24C
B24C
B24C
B24C
G01N
B23D
F42B
H01G
H01G
H01G
H01G
H01G
H01G
H01G
H01G
G06F
G06V
G06N
G06T
G06V
G01S
G01S
G01C
G01B
G01B
G01B
H01L
H01L
H01L
A61F
A61F
A61F
B23K
F16B
B23K
B23K
B23K
C22C
B23K
B23K
B23K
B23K
H01S
H01S
H01S
H01S
G06T
G06T
G06F
G06F
G06F
G06K
A63F
A63F
H01L
H01L
H10B
H10B
H10B
H10B
H10B
H10B
C07D
C07D
C07D
G07G
G06K
H04B
G05B
B23P
G05B
H04B
H04W
H04B
H04B
H04B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
E21B
E21B
C06B
C22C
E21B
C09K
E21B
C06B
E21B
E21B
E21B
E21B
C22C
H04L
G06F
H04L
H04L
H04L
G10L
G10L
C22C
C22C
C22F
C08L
C08J
C08L
C08K
C08J
E05B
E05B
E05B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
A61K
A61K
C12N
B65B
B65D
A61F
B65D
B65D
B65B
B65B
B65B
G09B
A61N
G16H
A61N
A61N
A61N
A61N
G06N
G06K
G06N
G06N
B29B
B29C
B01F
B01F
B01F
B01F
B01F
B29C
B01F
B29K
B22C
B01F
B01F
B29C
B29C
B29C
B29C
B29C
B29C
A61G
A44B
A61G
A61F
A61F
A61G
C08J
C08J
C08G
A61N
H10K
C01G
H01L
B08B
B05B
B05B
B08B
F16K
F16K
H04L
H04L
H04L
G16H
H04W
G06Q
H04L
H04L
G06Q
H04L
H04W
H04R
H02P
H03F
H03F
H04R
H04R
H04R
B60H
B60Q
B60Q
B60H
H05B
H05B
A61M
A61M
A61M
A61M
A61M
A61M
A61M
B65G
B65D
B65G
H01L
H01L
H01L
H10B
H10B
H10B
C08F
C08F
H10K
A47B
A47B
A47B
A47B
A47B
G06F
G06F
G06F
G06F
A61B
G06K
G06T
H04W
H04W
H04W
H04W
H04W
H04W
G06T
G06V
G06V
G06V
H01R
H01R
H01R
H01R
H05K
H05B
F21S
G03B
F21Y
H05B
F21S
F21Y
E06B
E06B
C07H
C07F
C07H
C07H
G02B
G02F
H04N
G02B
G02B
G09G
G06T
G02B
G02B
G02B
G06F
H04L
H04L
G06F
G06F
H04L
H04L
G06Q
B32B
A41C
A41C
C07B
A61K
A61K
C07C
C07C
G01N
A61K
C09D
C11D
C11D
C11D
C09D
C09D
B05D
C09D
B05D
C11D
B05D
C11D
B05D
G01N
G01R
G01R
H04N
G03F
G01B
G01B
G01M
H04W
H04W
H04W
H04W
A61K
A61P
A61P
A61P
A61P
A61P
A61P
A61P
A61K
A61P
A61K
H01L
H01L
H01L
H01L
H01L
H05B
H05B
H05B
H05B
H05B
H05B
G05B
G07C
B60W
B60R
B60R
A61B
A61B
B25J
B25J
A61B
B25J
A61B
G01N
H02J
H02J
H02J
H02J
G01N
E21B
E21B
G06F
G06F
H04L
G01R
G06J
G01N
G06V
F16H
F16H
G06F
G06F
G02B
G06F
H04W
H04W
H04L
H04B
F17D
E21B
E21B
E21B
E21B
F17D
F17D
F17D
H01L
G06T
G06T
H04N
H04N
G06V
H04N
G06F
G06V
H04N
H04N
G06V
H04N
A61K
C07K
A61K
D06B
A41D
A41H
D06B
A41H
B23K
B41M
A41H
B23K
B44C
D06M
A41D
D06C
D06C
D06Q
G06V
A63F
A63F
A63F
G06F
G06F
A63F
B60R
B62D
G01C
G01C
H02M
H02M
H02H
H02H
G02B
B29C
B25J
B29C
B60W
G06V
G01S
G01S
G01S
G01S
H01F
H01F
H04W
H04L
H04W
H04W
H04W
G06F
G06Q
G06F
G06Q
H01L
H01L
H01L
H01L
H04W
H04W
H04W
H04L
H04L
H04L
B60W
B60W
G06F
G02B
G02B
H04N
G06T
H04N
G06T
H04N
H04N
H01L
B66C
B66C
B66C
G05B
G03F
B66C
H01L
G05B
G06K
G06N
G16H
G06K
G16H
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
G10L
G10L
G10L
G10L
H04R
G02B
G02B
G02B
G02B
G02B
G02B
G02B
G06T
H01L
B82Y
B82Y
G06N
H01L
H01L
H10N
H10N
C08F
C08K
C08J
C08K
E21B
C12P
C09K
C09K
E21B
C08F
E21B
G05B
G06F
G06F
G06F
F16H
F16H
F01M
F02B
F02M
F02M
F02B
F02B
F02B
F02F
F01M
F01M
F02M
F01M
F01M
F02F
F04B
F04B
F04B
B65D
B65D
F04B
F04B
B65D
F04B
G06F
H04N
H02B
B60K
H02B
B64D
B64C
G05G
B64C
B64C
C12Q
B65H
B65H
E04D
B65H
G06F
G01D
G06F
G01B
G01B
G05D
G01B
C09D
B05D
C09D
C09D
C09D
C08G
C08G
C09D
C08G
B05D
B05D
C08G
B60R
B64D
G06F
G02F
G02F
G06F
G06F
H04N
G06F
B60K
G09F
B60R
G06Q
H04L
G06K
G08B
G06K
G07G
H04B
H04B
H04L
H04B
H04W
F01D
F01D
G05B
B07C
B07C
B07C
A61B
A61B
A61B
A61B
A61B
A61M
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
A61B
C02F
C02F
G06F
C02F
A61L
A61L
A61L
A61L
A61L
A61L
C12N
A61L
G07C
G07C
B29C
B33Y
B29C
B33Y
B33Y
F04B
B25B
B62K
B62K
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G06V
G05B
G06N
G06T
G06V
G06T
F01N
F01N
F01N
F01N
F01N
B60R
E04B
E04C
E04C
G06F
H04L
H04L
G06F
H04L
H04L
H04L
H04L
H04L
H04L
H04W
H04N
H04N
H04N
G11B
G11B
G11B
G06N
G06K
G06N
G06K
B32B
G02F
F21V
B82Y
F21Y
F21V
G02F
B32B
H04N
G02F
G02F
F21V
G02F
G02F
G02F
G02F
G02F
G02F
G02F
H04R
H04M
H04R
H04B
H04R
H04M
G01S
A61K
A01K
C12N
C12N
A61B
A61B
A61B
A61B
A61B
A61B
A61L
A61L
A61B
A61B
A61B
A61B
C07D
F16K
F04B
G06V
G06V
H04
Query:
-- 14. Get the ipc field to examine its structure
SELECT t."ipc" 
FROM PATENTS.PATENTS.PUBLICATIONS t 
LIMIT 1000;
Answer:
Too long, hard cut:
ipc
"[
  {
    ""code"": ""G01N21/01"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
"[
  {
    ""code"": ""C10C1/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""H02M5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""A01N43/54"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A01N47/36"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D239/47"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D521/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""A01K61/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A01K63/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G21C5/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G21C1/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
"[
  {
    ""code"": ""E21B27/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""B22D11/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07D471/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D471/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G01N27/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C03C4/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C08K5/47"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10M133/44"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D263/56"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D277/64"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C08K5/46"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10M133/48"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C08K5/35"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11B5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10L1/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C10M135/36"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09K15/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D235/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C08K5/3447"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""E02D5/38"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D5/80"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D7/28"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D5/54"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""E02D7/26"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
[]
"[
  {
    ""code"": ""C07D213/56"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/38"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/51"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07D213/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
[]
[]
[]
[]
[]
"[
  {
    ""code"": ""C12H1/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07F7/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G11B15/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B15/62"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B15/675"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/093"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07D301/28"",
    ""first"": false,
    ""inventive"": true,
    ""t
Query:
-- 15. Extract ipc codes and 'first' indicator from ipc field
SELECT f.value:"code"::STRING AS "ipc_code", f.value:"first"::BOOLEAN AS "is_first" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
LIMIT 1000;
Answer:
Too long, hard cut:
ipc_code,is_first
H01L21/321,False
C23F3/04,False
H01L21/3213,False
C23F1/18,False
H01L21/304,False
C23F1/26,False
C23F1/30,False
B24B37/00,True
C09K13/06,False
C09G1/02,False
C23F3/06,False
A61N1/05,False
A61B5/0402,False
A61B5/08,False
A61B7/04,False
H01S5/183,False
H01S5/02,False
H01S5/042,False
H01S5/024,False
B27L7/00,False
F16J15/08,False
A23L7/10,False
A23L7/126,False
H03K3/354,True
H03K3/03,False
H03B5/12,False
H03K3/012,False
H03F3/45,False
A61K47/22,False
A61K47/12,False
A61K47/06,False
A61K9/107,False
A61K47/14,False
A61K47/10,False
A61F13/02,True
A61L15/16,False
C23C22/44,False
C23C22/34,False
B65H45/18,False
B65H29/04,False
B65H29/40,False
B65H29/60,False
C07K14/47,False
C12Q1/68,False
A61K45/06,False
A61K31/203,False
A61K31/07,False
A61K31/7088,False
A61K38/17,False
C09J7/38,False
C09J181/00,False
C09J153/00,False
C09J11/08,False
C09J101/00,False
C09J103/00,False
C09J153/02,False
C09J133/02,False
C09J133/24,False
F42B10/14,False
F41F3/042,False
G06F11/30,True
G01F1/00,True
G01F25/00,False
G02B6/38,True
G06Q20/00,False
F04B49/03,True
F04B49/24,False
F04B49/06,False
A63B43/00,False
A63B24/00,False
A63B43/06,True
A63B63/00,False
A63B71/06,False
H04N5/00,False
H04N7/24,False
G06F3/06,False
G06F12/00,True
A61K/,False
C07J5/00,False
A61K31/57,False
A61K31/585,False
C07J43/00,True
A61K31/58,False
C12N1/15,False
C12N1/19,False
C07K14/705,False
G01N33/567,False
C12N15/12,False
A61K38/17,True
C12N1/21,False
C12P19/04,True
A23J1/20,False
C07K14/47,False
B01D15/18,False
C12N7/02,False
B01D15/12,False
A23J1/00,False
A23J1/08,False
C07K1/16,False
G01N27/49,False
G01N33/487,True
G01R29/08,False
H04W24/06,False
H04W24/00,False
H04B17/391,False
H04B17/00,False
H04B7/26,False
G06F11/00,True
C07D451/02,False
A61P15/00,False
A61P35/00,False
C07D471/04,False
A61K31/4745,True
A61P3/10,False
A61P25/00,False
C12N9/04,False
C12N15/74,False
C12N1/21,False
C12N9/12,False
C12N15/52,False
C12P7/66,True
C12N9/90,False
G01K1/08,True
H01J5/02,False
H01J37/16,False
G06F13/00,False
H04N1/00,False
G06K9/62,False
H04N1/32,False
G06F15/16,True
A63F13/00,False
A63F9/24,True
G11B5/55,False
G11B5/48,False
H04N25/00,False
G02B13/00,False
G02B7/02,True
G03B21/14,False
F21V17/00,False
G02B27/10,False
G02B13/18,False
G11B7/00,False
G03B17/26,False
H01L21/3213,False
H01L27/13,False
G02F1/136,True
H01L21/77,False
H01L27/12,False
H01L21/84,False
H04L29/08,False
H04L29/06,False
H04R1/02,False
G07C9/00,False
C07K14/00,False
C07K7/56,False
A61K38/00,False
C07K14/605,False
B01D53/08,False
A61P3/10,False
A61K47/02,False
A61K47/32,False
A61K47/46,False
A61K47/36,False
A61K47/30,False
A61K47/12,False
A61K47/38,False
A61K47/26,False
A61K31/155,False
A61K9/20,False
A61K9/16,True
A61K9/28,False
A61K9/22,False
C23C4/12,False
B05C5/04,False
C23C4/02,False
C07D401/04,False
C07D471/04,False
C07D409/14,False
C07D401/14,False
C07D231/12,False
C07D231/22,False
B24B37/04,False
H04N9/31,False
F24S23/00,False
H10K99/00,False
G02B5/10,False
G02B6/122,False
H01S3/063,False
H01S5/10,False
G02B1/04,False
C12N5/06,False
C12Q1/68,False
C12Q1/70,False
G01N33/53,False
A61K39/21,False
C12N5/00,False
A61K39/12,False
C12N7/00,False
A61K39/42,False
A61K48/00,False
G06F16/955,True
G06F16/957,False
G11B23/50,False
G03F7/42,False
B08B3/08,False
F16B39/02,True
F16B37/00,False
F16B39/286,False
H02J7/00,False
B62D43/10,False
B65H3/04,False
B65H1/02,False
B65D83/14,False
G01C21/34,False
F03D11/02,False
F16H1/28,False
B64D41/00,False
A61P15/18,False
A61K48/00,False
C07K14/705,False
C07K16/28,False
A61K38/00,False
C12N15/85,False
B05D3/02,False
C08J3/24,False
C09D4/00,False
C09D175/16,False
C08G18/67,False
C08G18/78,False
C08G18/28,False
B05D3/10,False
C08G18/32,False
B05D7/00,False
H04R1/02,False
H04R1/20,False
H04R1/28,False
E03B3/04,False
B01D35/05,False
B60H1/03,False
B60H1/00,False
G06Q30/00,False
G06Q20/10,False
G06Q30/06,False
G06Q10/08,False
E04H17/16,False
G06Q30/00,False
B65H3/58,False
B65D/,False
B65H3/36,False
G07F11/68,False
G07F11/72,False
B26D7/06,False
B26D7/02,False
B26D5/34,False
B26D1/18,False
B26D7/26,False
B65B61/06,False
B26D7/24,False
A43B13/14,False
A43B13/18,False
A61P9/12,False
A61P25/22,False
A61P25/06,False
A61P9/00,False
A61P1/14,False
A61P25/20,False
A61P19/10,False
A61P25/18,False
A61K31/415,False
A61P15/08,False
A61K31/4545,False
A61K31/437,False
A61P1/00,False
A61K31/519,False
C07D403/02,False
A61K31/499,False
A61P29/00,False
C07D487/00,False
A61K31/454,False
A61P3/04,False
A61K31/541,False
C07D401/00,False
A61P5/04,False
A61P9/10,False
A61K31/53,True
A61K31/41,False
A61P25/24,False
A61P37/04,False
A61P25/08,False
A61P9/06,False
A61P9/04,False
A61P25/36,False
A61P1/04,False
A61K31/4188,False
A61K31/5377,False
C07D235/02,False
A61K31/445,False
C07D249/00,False
A61P15/06,False
A61P1/12,False
A61P25/32,False
C07D487/04,False
C07D471/22,False
A61P25/00,False
C07D471/14,False
E21B33/068,False
E21B3/02,False
E21B19/16,False
E21B21/00,False
E21B21/01,False
B21K1/18,False
F02F3/22,False
F16J1/09,False
G06Q40/00,False
D04H3/04,False
G05B19/042,True
E04B1/1
Query:
-- 16. Get the 'first' IPC codes for US B2 patents granted between June and August 2022
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f 
WHERE t."country_code" = 'US' 
  AND t."kind_code" = 'B2' 
  AND t."grant_date" BETWEEN 20220601 AND 20220831 
  AND f.value:"first"::BOOLEAN = TRUE 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-11382018-B2,H04W36/32
US-11412960-B2,A61B5/145
US-11351355-B2,A61M60/268
US-11412974-B2,A61B5/16
US-11423376-B2,G06Q20/14
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/12
US-11365729-B2,F04B49/22
US-11419647-B2,A61B17/80
US-11375912-B2,H02N11/00
US-11396572-B2,C08F236/18
US-11407017-B2,B21D11/12
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/00
US-11370724-B2,C07C2/82
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/52
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/00
US-11399950-B2,A61F2/42
US-11381283-B2,H04B7/0417
US-11409410-B2,G06F3/0481
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/142
US-11407574-B2,B65G17/18
US-11393841-B2,H10B43/30
US-11393841-B2,H10B43/27
US-11417842-B2,H10K99/00
US-11375809-B2,A47B83/04
US-11385961-B2,G06F11/00
US-11371080-B2,C12Q1/6876
US-11429930-B2,G06Q10/10
US-11402589-B2,G02B6/38
US-11356221-B2,H04L5/00
US-11382847-B2,A61K8/34
US-11407172-B2,B29C64/153
US-11400006-B2,A61G13/10
US-11391070-B2,E05B73/00
US-11430084-B2,G06T3/40
US-11421980-B2,G01B11/10
US-11374056-B2,H01L27/24
US-11382760-B2,A61F2/44
US-11413710-B2,B23K35/00
US-11387621-B2,H01S3/13
US-11373280-B2,G06T7/00
US-11423146-B2,G06F21/56
US-11400365-B2,A63F13/24
US-11411015-B2,H10B41/27
US-11411015-B2,H10B41/20
US-11376109-B2,A61F2/00
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N3/08
US-11426701-B2,B22C5/00
US-11406524-B2,A61F5/00
US-11390722-B2,C08J7/18
US-11389656-B2,A61N1/36
US-11374186-B2,H01L31/044
US-11369979-B2,B05B3/04
US-11391381-B2,F16K1/52
US-11396506-B2,C07D471/02
US-11386278-B2,G06K7/10
US-11372388-B2,G05B19/042
US-11374644-B2,H04B7/08
US-11387209-B2,H01L23/00
US-11428067-B2,E21B33/13
US-11418602-B2,G06F15/16
US-11351045-B2,A61F2/04
US-11392648-B2,G06F16/90
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/00
US-11424884-B2,H04W72/04
US-11422523-B2,G05B19/042
US-11389955-B2,G06F17/00
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/00
US-11404307-B2,H01L21/768
US-11407307-B2,B60K23/04
US-11410365-B2,G06T13/40
US-11386741-B2,G07F17/32
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/232
US-11373404-B2,H04N7/10
US-11421011-B2,C07K14/54
US-11384463-B2,D06B23/02
US-11413537-B2,A63F9/24
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/26
US-11374401-B2,H02H7/122
US-11397326-B2,G02B27/01
US-11386886-B2,G10L15/18
US-11352686-B2,C22F1/047
US-11352465-B2,C08J3/22
US-11391059-B2,E05B13/00
US-11380765-B2,H01L29/15
US-11376319-B2,A61K39/145
US-11423539-B2,A61B6/00
US-11388673-B2,H04W4/00
US-11398087-B2,G06V20/10
US-11424563-B2,H01R13/40
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/42
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11386539-B2,G06T7/00
US-11373466-B2,G07C5/08
US-11382705-B2,B25J17/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06J1/02
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11372255-B2,G02B27/09
US-11420401-B2,B29C70/38
US-11360211-B2,G01S13/931
US-11398338-B2,H01F27/25
US-11412422-B2,H04W36/00
US-11354655-B2,G06Q20/38
US-11387213-B2,H01L21/78
US-11375479-B2,H04W4/00
US-11420656-B2,B60W30/14
US-11378746-B2,G02B6/14
US-11375241-B2,H04N19/00
US-11380566-B2,G05B19/19
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/159
US-11412231-B2,H04N19/577
US-11412923-B2,A61B1/32
US-11384000-B2,C02F11/15
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/00
US-11407174-B2,B29C64/30
US-11376718-B2,B25B13/48
US-11427279-B2,B62K23/02
US-11424341-B2,H01L21/02
US-11379973-B2,G06T7/00
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,H04L67/00
US-11375403-B2,H04W28/06
US-11363222-B2,H04N5/369
US-11380354-B2,G11B5/48
US-11392814-B2,G06K19/07
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11383851-B2,B64D31/04
US-11421276-B2,C12Q1/6883
US-11414872-B2,E04D15/06
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/65
US-11422402-B2,G02F1/1335
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,B07C5/36
US-11357437-B2,A61B5/339
US-11376346-B2,A61L27/36
US-11376070-B2,A61B18/20
US-11352335-B2,C07D277/36
US-11401923-B2,F04B27/18
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,G05G1/38
US-11401219-B2,C07C1/24
US-11392816-B2,G06K19/077
US-11363375-B2,H04R3/00
US-11419318-B2,A01K67/027
US-11367437-B2,G10L15/20
US-11428911-B2,G02B15/14
US-11422364-B2,G02B27/00
US-11398593-B2,H10N60/01
US-11384177-B2,C08J3/07
US-11354261-B2,G06F3/00
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/04
US-11365041-B2,B65D81/20
US-11418715-B2,H04N5/232
US-11407775-B2,C07F9/6584
US-11422371-B2,G02B27/14
US-11354278-B2,G06F17/00
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/12
US-11401234-B2,C07C225/36
US-11400486-B2,B05D7/00
US-11397228-B2,G01R33/00
US-11353321-B2,G01B11/27
US-11363536-B2,H04W52/24
US-11400138-B2,A61K38/39
US-11393967-B2,H01L29/40
US-11353839-B
Query:
-- 17. Get counts of different 'kind_code' for US patents
SELECT "kind_code", COUNT(*) 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
GROUP BY "kind_code" 
LIMIT 1000;
Answer:
kind_code,COUNT(*)
A2,4
B1,1912
P9,1
A1,24453
C1,2
A,20405
B2,11090
A9,64
P1,22
Query:
-- 18. List publication numbers and titles
SELECT "publication_number", "title_localized" 
FROM PATENTS.PATENTS.PUBLICATIONS 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,title_localized
CR-5634-A,"[
  {
    ""language"": ""es"",
    ""text"": ""Procedimiento para el analisis de aflatoxinas por cromatografia directa"",
    ""truncated"": false
  }
]"
CR-5990-A,"[
  {
    ""language"": ""es"",
    ""text"": ""Derivados de acido fenil-metoxi-imino-glioxilico como plaguicidas"",
    ""truncated"": false
  }
]"
FI-429-A,"[
  {
    ""language"": ""fi"",
    ""text"": ""Frbttringar af tjrbrnningsugnar med rrledning fr trdestillation"",
    ""truncated"": false
  }
]"
HK-6083-A,"[
  {
    ""language"": ""en"",
    ""text"": ""A new or improved alternating current control device"",
    ""truncated"": false
  }
]"
HU-T52763-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Herbicide and growth-controlling compositions containing sulfonyl-urea derivatives as active components and process for producing the active components"",
    ""truncated"": false
  }
]"
JP-H03206829-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Artificial algal fish bank for fishery"",
    ""truncated"": false
  },
  {
    ""language"": ""ja"",
    ""text"": """",
    ""truncated"": false
  }
]"
JP-S62159089-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Core support mechanism for tank type fast breeder reactor"",
    ""truncated"": false
  },
  {
    ""language"": ""ja"",
    ""text"": """",
    ""truncated"": false
  }
]"
US-416-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Machine for cutting"",
    ""truncated"": false
  }
]"
US-2528225-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Well clay dumper"",
    ""truncated"": false
  }
]"
AT-A41580-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zum vollkontinuierlichen strang- giessen schmelzfluessiger metalle"",
    ""truncated"": false
  }
]"
AT-A47682-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zur herstellung von neuen 2, 4, 8-triazaphenalenium-salzen sowie von deren geometrischen und optischen isomeren"",
    ""truncated"": false
  }
]"
AT-A63682-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zur bestimmung des strukturellen aufbaus von medien, die sich aus strukturelementen zusammensetzen"",
    ""truncated"": false
  }
]"
CA-920790-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Photoluminescent glass and method of making the same"",
    ""truncated"": false
  }
]"
CA-950907-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Azole compounds, processes for their manufacture and their use"",
    ""truncated"": false
  }
]"
CA-920830-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Device for anchoring a post or a pile in ground strata"",
    ""truncated"": false
  }
]"
CA-9086-A,"[
  {
    ""language"": ""en"",
    ""text"": ""Improvements on machines for drilling rock"",
    ""truncated"": false
  },
  {
    ""language"": ""fr"",
    ""text"": ""Perfectionnements aux machines a percer le roc"",
    ""truncated"": false
  }
]"
CH-3256-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Nouvelle lampe lectrique "",
    ""truncated"": false
  }
]"
CH-540255-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Verfahren zur Herstellung von Bipyridylen"",
    ""truncated"": false
  }
]"
CH-433637-A,"[
  {
    ""language"": ""it"",
    ""text"": ""Dispositivo applicato a corpi muniti di organi di rotolamento per l&#39;istantaneo passaggio da posizioni di appoggio su sostegni fissi a posizioni di appoggio su detti organi di rotolamento"",
    ""truncated"": false
  }
]"
CH-8494-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Neuerung an Support-Drehbnken"",
    ""truncated"": false
  }
]"
CH-9587-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Ringspiel (Karussell) mit Vorrichtung zum Drehen, Heben und Senken der Gondeln"",
    ""truncated"": false
  }
]"
CH-9968-A,"[
  {
    ""language"": ""de"",
    ""text"": ""Leitungsrohr mit Heizvorrichtung"",
    ""truncated"": false
  }
]"
DD-8297-A,[]
FR-1334211-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Composition destine au traitement des vins"",
    ""truncated"": false
  }
]"
FR-1444995-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Procd de prparation de composs d&#39;tain alcoyle"",
    ""truncated"": false
  }
]"
FR-1474468-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Chargeur de bande magntique pour un appareil d&#39;enregistrement et de reproduction du son"",
    ""truncated"": false
  }
]"
FR-1478988-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Procd de prparation d&#39;thers glycidyliques  poids molculaire infrieur de phnols polyvalents"",
    ""truncated"": false
  }
]"
FR-1485992-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Procd et appareil lectrolytique pour empcher l&#39;encrassement des structures immerges dans l&#39;eau de mer par les organismes marins"",
    ""truncated"": false
  }
]"
FR-1487706-A,"[
  {
    ""language"": ""fr"",
    ""text"": ""Dispositif de perage pour botiers d&#39;accumulateurs"",
    ""truncated"": false
  }
]"
Query:
-- 19. Extract 'title' from 'title_localized' variant
SELECT t."publication_number", t."title_localized", f.value::STRING AS "title" 
FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."title_localized") f 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,title_localized,title
US-8210142-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Valve opening/closing timing control apparatus"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Valve opening/closing timing control apparatus"",""truncated"":false}"
US-8338035-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Separator for fuel cell"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Separator for fuel cell"",""truncated"":false}"
US-8609829-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Compositions and methods to detect Legionella pneumophila nucleic acid"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Compositions and methods to detect Legionella pneumophila nucleic acid"",""truncated"":false}"
US-8240274-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Animal cage and method of assembly thereof"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Animal cage and method of assembly thereof"",""truncated"":false}"
US-8904292-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Method and system for processing electronic mail"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Method and system for processing electronic mail"",""truncated"":false}"
US-8480325-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Paint trimmer"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Paint trimmer"",""truncated"":false}"
US-9028758-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Substance detector with cyclone"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Substance detector with cyclone"",""truncated"":false}"
US-8462223-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Image pickup apparatus, control method for the same, and program thereof"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Image pickup apparatus, control method for the same, and program thereof"",""truncated"":false}"
US-7944609-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""3-D optical microscope"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""3-D optical microscope"",""truncated"":false}"
US-10236950-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Video transmission over SDMA"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Video transmission over SDMA"",""truncated"":false}"
US-8733262-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Needle thread passing device"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Needle thread passing device"",""truncated"":false}"
US-8248448-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Automatic camera framing for videoconferencing"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Automatic camera framing for videoconferencing"",""truncated"":false}"
US-8590235-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Anchoring system for a roof panel system"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Anchoring system for a roof panel system"",""truncated"":false}"
US-8086194-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Communication apparatus"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Communication apparatus"",""truncated"":false}"
US-9143515-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Location-based regulation of access"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Location-based regulation of access"",""truncated"":false}"
US-8587485-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Portable terminal"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Portable terminal"",""truncated"":false}"
US-8383945-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Dead end connector"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Dead end connector"",""truncated"":false}"
US-8246716-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Method in connection with steel production"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Method in connection with steel production"",""truncated"":false}"
US-8915088-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Fuel control method for starting a gas turbine engine"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Fuel control method for starting a gas turbine engine"",""truncated"":false}"
US-8644322-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Communication system"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Communication system"",""truncated"":false}"
US-8967144-B2,"[
  {
    ""language"": ""en"",
    ""text"": ""Vacuum and positive pressure ventilation systems and methods for intrathoracic pressure regulation"",
    ""truncated"": false
  }
]","{""language"":""en"",""text"":""Vacuum and positive pressure ventilation systems and methods for intrathoracic pressure regulation"",""truncated"":false}"
US-8500357-B2,"[
  {
    ""lang
Query:
-- 20. Get filing dates for US B2 patents
SELECT "publication_number", "filing_date" 
FROM PATENTS.PATENTS.PUBLICATIONS 
WHERE "country_code" = 'US' 
  AND "kind_code" = 'B2' 
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,filing_date
US-6553475-B2,19981007
US-6529211-B2,19990622
US-6394809-B2,20001207
US-6600163-B2,20001222
US-6563339-B2,20010131
US-7749356-B2,20010307
US-6467229-B2,20010312
US-6498511-B2,20010322
US-6384449-B2,20010427
US-6882770-B2,20010629
US-6524827-B2,20011002
US-6620797-B2,20011213
US-6866899-B2,20011221
US-8990832-B2,20011029
US-6727439-B2,20020128
US-6614301-B2,20020131
US-6810524-B2,20020322
US-7143162-B2,20020328
US-6568115-B2,20010607
US-6703298-B2,20020523
US-7764665-B2,20020604
US-8053056-B2,20010127
US-7611881-B2,20020909
US-6793116-B2,20020926
US-6758787-B2,20021023
US-6992207-B2,20010611
US-7131623-B2,20010824
US-6883989-B2,20030129
US-6927159-B2,20030527
US-7364551-B2,20021108
US-7077968-B2,20030224
US-7666411-B2,20020614
US-7635776-B2,20040204
US-7594959-B2,20040429
US-7534562-B2,20040930
US-6950911-B2,20030826
US-8022270-B2,20030930
US-7005787-B2,20031219
US-7233459-B2,20040525
US-7322964-B2,20040601
US-7108510-B2,20040625
US-7639676-B2,20040921
US-7103945-B2,20050103
US-7045994-B2,20050405
US-7627059-B2,20050405
US-7671428-B2,20050407
US-7593731-B2,20050509
US-7406851-B2,20050614
US-7030561-B2,20050617
US-7701524-B2,20050628
US-7921137-B2,20050718
US-7796495-B2,20050805
US-7172491-B2,20050818
US-7636348-B2,20060214
US-7349243-B2,20060420
US-8613727-B2,20060613
US-7626612-B2,20060630
US-8617760-B2,20060814
US-8533503-B2,20060929
US-8932208-B2,20061007
US-7952336-B2,20050909
US-7568400-B2,20050510
US-7418882-B2,20061214
US-7700487-B2,20070112
US-7690763-B2,20060421
US-7645121-B2,20061219
US-7311525-B2,20070103
US-7828514-B2,20050826
US-7958611-B2,20050916
US-7688232-B2,20070327
US-8734941-B2,20051206
US-8494772-B2,20070517
US-8200070-B2,20070531
US-8078283-B2,20070618
US-7944447-B2,20070628
US-7807419-B2,20070822
US-8645715-B2,20070911
US-8539587-B2,20060322
US-7822730-B2,20071031
US-7551507-B2,20071114
US-7521041-B2,20071012
US-8054802-B2,20071029
US-7798017-B2,20050714
US-7881290-B2,20080220
US-7738949-B2,20080226
US-7656118-B2,20080304
US-8221921-B2,20080325
US-7649384-B2,20080205
US-7744258-B2,20080605
US-9021071-B2,20080609
US-8740359-B2,20080807
US-8275266-B2,20081031
US-8015764-B2,20070727
US-7662733-B2,20081222
US-8062407-B2,20081223
US-8386472-B2,20090109
US-8136558-B2,20090213
US-8038828-B2,20090218
US-8181764-B2,20090225
US-8437798-B2,20090427
US-8630692-B2,20090430
US-8876886-B2,20090501
US-8422356-B2,20071030
US-8732777-B2,20070111
US-8280837-B2,20090528
US-7890248-B2,20090625
US-8249761-B2,20090708
US-8608588-B2,20090720
US-8297360-B2,20071115
US-8629134-B2,20080131
US-8791876-B2,20090803
US-9230173-B2,20090824
US-8342198-B2,20090825
US-8243232-B2,20090826
US-9434030-B2,20091116
US-8310256-B2,20091222
US-8333202-B2,20100323
US-8432855-B2,20081126
US-8477635-B2,20100113
US-8054400-B2,20100219
US-8334670-B2,20100325
US-8376516-B2,20100406
US-8302507-B2,20100521
US-8412385-B2,20100805
US-8332096-B2,20100617
US-8516466-B2,20100630
US-8375605-B2,20100723
US-8767639-B2,20100805
US-8889153-B2,20090127
US-8582459-B2,20090218
US-8650994-B2,20110207
US-10560621-B2,20101119
US-8604913-B2,20101124
US-8773221-B2,20101227
US-8573154-B2,20110103
US-8684385-B2,20110104
US-8598618-B2,20090415
US-8604179-B2,20090424
US-8852441-B2,20090526
US-8890009-B2,20090702
US-8816105-B2,20110207
US-8817197-B2,20110209
US-8386556-B2,20110216
US-8653809-B2,20110322
US-8961767-B2,20110328
US-8539684-B2,20110401
US-8329176-B2,20110419
US-8664979-B2,20110427
US-8292487-B2,20110503
US-8719186-B2,20110517
US-8774858-B2,20110518
US-8455664-B2,20110519
US-8843145-B2,20091104
US-8846778-B2,20091221
US-8392109-B2,20091210
US-8341315-B2,20110603
US-8799190-B2,20110617
US-10810762-B2,20110621
US-9185127-B2,20110706
US-8625119-B2,20110713
US-8541702-B2,20110810
US-8398266-B2,20110812
US-8408914-B2,20110901
US-8757781-B2,20110901
US-8585184-B2,20110902
US-8355288-B2,20110922
US-8482647-B2,20110923
US-8810454-B2,20111013
US-8848223-B2,20111118
US-8556096-B2,20100512
US-9138053-B2,20111216
US-9544305-B2,20120130
US-8685404-B2,20120130
US-8536970-B2,20120201
US-8924531-B2,20120203
US-8577374-B2,20100608
US-8440029-B2,20100726
US-9169649-B2,20100903
US-10163063-B2,20120307
US-8864495-B2,20120314
US-9173609-B2,20120413
US-8806252-B2,20120418
US-8943342-B2,20120501
US-8913533-B2,20120612
US-8885806-B2,20100927
US-8745374-B2,20091001
US-8840023-B2,20101110
US-8752442-B2,20091211
US-9100914-B2,20120515
US-8957912-B2,20110504
US-8522849-B2,20120615
US-8698583-B2,20120622
US-10334031-B2,20120703
US-9492207-B2,20120703
US-8920897-B2,20120706
US-8750630-B2,20120713
US-8686437-B2,20120831
US-8970206-B2,20120914
US-8925849-B2,20121001
US-8526224-B2,20121029
US-8923605-B2,20121109
US-9245842-B2,20121129
US-8888690-B2,20121203
US-8932956-B2,20121204
US-8575548-B2,20110602
US-8729813-B2,20121220
US-8972027-B2,20121224
US-9069229-B2,20130115
US-9410432-B2,20130130
US-9077954-B2,20130313
US-9380650-B2,20130313
US-9289139-B2,20110909
US-9200694-B2,20110926
US-8841730-B2,20130516
US-9168918-B2,20130604
US-10532136-B2,20130
End Exploring Related Columns
Task: What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: SELECT S."Column_Name" FROM {Database Name}.{Schema Name}.{Table_name} (ensure all column names are enclosed in double quotations)
Follow the answer format like: After analyzing the US B2 utility patents granted from June to August in 2022, the most common 4-digit IPC code is `ipc_code:str` with a count of `num:int`.

```csv
4_digit_IPC_code,Count
ipc_code:str,num:int
```.
Here are some useful tips for answering:
When calculating distances between two geometries, use `ST_MakePoint(x, y)` to make a point and `ST_Distance(geometry1 GEOMETRY, geometry2 GEOMETRY)` to compute. No need to convert from meters to miles unless requested. Don't use Haversine like 2 * 6371000 * ASIN(...), use ST_DISTANCE for more precise results.
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book" SQL: WHERE "title" LIKE '%book%'
However, if the string is not decided, you may use ILIKE and %. e.g. Get articles that mention "education": SQL: "body" ILIKE '%education%' OR "title" ILIKE '%education%'
When handling TO_TIMESTAMP_NTZ conversions, use query like: SELECT CASE WHEN "date" >= 1e15 THEN TO_TIMESTAMP_NTZ("date" / 1000000) WHEN "date" >= 1e12 THEN TO_TIMESTAMP_NTZ("date" / 1000) ELSE TO_TIMESTAMP_NTZ("date") END AS parsed_timestamp FROM my_table;
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
Keep all decimals to four decimal places.

2025-01-16 16:56:55 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-16 16:56:55 - root - INFO - ```sql
SELECT
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "4_digit_IPC_code",
    COUNT(*) AS "Count"
FROM
    "PATENTS"."PATENTS"."PUBLICATIONS" t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE
    t."country_code" = 'US'
    AND t."kind_code" = 'B2'
    AND t."grant_date" BETWEEN 20220601 AND 20220831
GROUP BY
    "4_digit_IPC_code"
ORDER BY
    "Count" DESC
LIMIT 1;
```
2025-01-16 16:56:55 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:56:55 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:56:55 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:56:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-16 16:56:56 - snowflake.connector.connection - INFO - closed
2025-01-16 16:56:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:56:57 - root - INFO - itercount: 1
2025-01-16 16:56:57 - root - INFO - 0
2025-01-16 16:56:57 - root - INFO - results: 
4_digit_IPC_code,Count
G06F,62


2025-01-16 16:56:57 - root - INFO - Please check the answer again by reviewing What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: After analyzing the US B2 utility patents granted from June to August in 2022, the most common 4-digit IPC code is `ipc_code:str` with a count of `num:int`.

```csv
4_digit_IPC_code,Count
ipc_code:str,num:int
``` The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
4_digit_IPC_code,Count
G06F,62
Current sql:
SELECT
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "4_digit_IPC_code",
    COUNT(*) AS "Count"
FROM
    "PATENTS"."PATENTS"."PUBLICATIONS" t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE
    t."country_code" = 'US'
    AND t."kind_code" = 'B2'
    AND t."grant_date" BETWEEN 20220601 AND 20220831
GROUP BY
    "4_digit_IPC_code"
ORDER BY
    "Count" DESC
LIMIT 1;When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.

2025-01-16 16:57:12 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-16 16:57:12 - root - INFO - After analyzing the US B2 utility patents granted from June to August in 2022, the most common 4-digit IPC code is `G06F` with a count of `62`.

```csv
4_digit_IPC_code,Count
G06F,62
```

```sql
SELECT
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "4_digit_IPC_code",
    COUNT(*) AS "Count"
FROM
    "PATENTS"."PATENTS"."PUBLICATIONS" t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE
    t."country_code" = 'US'
    AND t."kind_code" = 'B2'
    AND t."grant_date" BETWEEN 20220601 AND 20220831
GROUP BY
    "4_digit_IPC_code"
ORDER BY
    "Count" DESC NULLS LAST
LIMIT 1;
```
2025-01-16 16:57:12 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-16 16:57:12 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-16 16:57:12 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-16 16:57:13 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-16 16:57:13 - snowflake.connector.connection - INFO - closed
2025-01-16 16:57:13 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-16 16:57:14 - root - INFO - itercount: 2
2025-01-16 16:57:14 - root - INFO - 0
2025-01-16 16:57:14 - root - INFO - Total iteration counts: 2
