2025-01-20 05:53:40 - openai._base_client - INFO - Retrying request to /chat/completions in 0.494756 seconds
2025-01-20 05:54:35 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 05:54:35 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:35 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:35 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:37 - snowflake.connector.cursor - INFO - Number of results in first chunk: 93
2025-01-20 05:54:37 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:37 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:37 - root - INFO - SQL:
SELECT DISTINCT "country_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Results:
country_code
DO
HR
BA
FI
DK
LT
HU
JP
DZ
NL
AU
CU
TR
BG
AT
GR
BE
UA
MW
PL
CR
KR
RO
ZW
CO
SI
KE
AR
WO
SK
CA
IS
US
DE
DD
PH
JO
CY
IT
OA
MA
CZ
HN
SV
EP
ZA
NO
BR
ID
LU
IL
TW
MT
RU
SE
AP
IN
EC
EG
PA
MY
LV
CS
SA
MN
MX
EE
GE
GB
SG
CH
RS
ES
IE
EA
FR
SU
PE
KZ
YU
ZM
MD
NI
HK
GT
TN
SM
ME
CL
PT
NZ
CN
MC

2025-01-20 05:54:37 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:37 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:37 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:39 - snowflake.connector.cursor - INFO - Number of results in first chunk: 80
2025-01-20 05:54:39 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:39 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:39 - root - INFO - SQL:
SELECT DISTINCT "kind_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Results:
kind_code
A4
P
B7
I1
T9
U9
B5
F1
P9
A1
T
R
Z2
Z
S
B1
D2
U8
V
U1
Y8
H1
L
A9
B6
E2
P1
C4
S2
V0
B8
C0
T3
C9
U4
A3
E
G
D0
A2
F2
A5
T2
Y2
D
C1
B2
A0
U5
B9
T1
Y4
B
Y1
Y
A
T4
B3
R1
T8
T5
G2
A8
I2
A6
C
U2
U
M
S1
U3
D1
Q
B4
C2
C5
H3
U0
C3
A7

2025-01-20 05:54:39 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:39 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:39 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:41 - snowflake.connector.cursor - INFO - Number of results in first chunk: 215
2025-01-20 05:54:41 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:41 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:41 - root - INFO - SQL:
SELECT "publication_number"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
publication_number
US-11366842-B1
US-11376109-B2
US-11393351-B2
US-11406832-B2
US-11379726-B2
US-11426701-B2
US-11373404-B2
US-11421011-B2
US-11384463-B2
US-11413537-B2
US-11414016-B2
US-11415428-B2
US-11374401-B2
US-11397326-B2
US-11396572-B2
US-11407017-B2
US-11360542-B2
US-11379962-B2
US-11370724-B2
US-11416001-B2
US-11396732-B2
US-11374026-B2
US-11369217-B2
US-11407829-B2
US-11399950-B2
US-11381283-B2
US-11409410-B2
US-11389955-B2
US-11368762-B2
US-11375960-B2
US-11404307-B2
US-11407307-B2
US-11410365-B2
US-11386741-B2
US-11370085-B2
US-11385163-B2
US-11391553-B2
US-11430607-B2
US-11407775-B2
US-11422371-B2
US-11354278-B2
US-11390055-B2
US-11382363-B2
US-11401234-B2
US-11400486-B2
US-11397228-B2
US-11353321-B2
US-11363536-B2
US-11400138-B2
US-11393967-B2
US-11353839-B2
US-11404885-B1
US-11383851-B2
US-11412923-B2
US-11384000-B2
US-11369714-B2
US-11373467-B2
US-11407174-B2
US-11376718-B2
US-11427279-B2
US-11424341-B2
US-11379973-B2
US-11428135-B2
US-11407366-B2
US-11377840-B2
US-11388258-B2
US-11375403-B2
US-11363222-B2
US-11380354-B2
US-11392814-B2
US-11396158-B2
US-11431960-B2
US-11421276-B2
US-11414872-B2
US-11378383-B2
US-11401428-B2
US-11422402-B2
US-11410148-B2
US-11409969-B2
US-11374640-B2
US-11352902-B2
US-11389834-B2
US-11371080-B2
US-11429930-B2
US-11402589-B2
US-11356221-B2
US-11382847-B2
US-11407172-B2
US-11400006-B2
US-11391070-B2
US-11420401-B2
US-11360211-B2
US-11398338-B2
US-11412422-B2
US-11354655-B2
US-11387213-B2
US-11375479-B2
US-11405208-B2
US-11420656-B2
US-11378746-B2
US-11375241-B2
US-11380566-B2
US-11416699-B2
US-11412231-B2
US-11396506-B2
US-11386278-B2
US-11372388-B2
US-11374644-B2
US-11387209-B2
US-11428067-B2
US-11418602-B2
US-11404853-B2
US-11361300-B1
US-11361296-B1
US-11359862-B1
US-11376179-B1
US-11353412-B1
US-11410209-B1
US-11351045-B2
US-11392648-B2
US-11395931-B2
US-11410444-B2
US-11424884-B2
US-11422523-B2
US-11386306-B1
US-11368189-B2
US-11408566-B2
US-11386539-B2
US-11382018-B2
US-11412960-B2
US-11351355-B2
US-11364500-B2
US-11430084-B2
US-11421980-B2
US-11374056-B2
US-11382760-B2
US-11413710-B2
US-11387621-B2
US-11373280-B2
US-11423146-B2
US-11400365-B2
US-11411015-B2
US-11373466-B2
US-11382705-B2
US-11397148-B2
US-11394231-B2
US-11408811-B2
US-11416022-B2
US-11393239-B2
US-11353091-B2
US-11372255-B2
US-11412124-B1
US-11363095-B1
US-11363375-B2
US-11419318-B2
US-11357437-B2
US-11376346-B2
US-11376070-B2
US-11352335-B2
US-11401923-B2
US-11430204-B2
US-11376885-B2
US-11372439-B2
US-11401219-B2
US-11392816-B2
US-11386886-B2
US-11352686-B2
US-11352465-B2
US-11391059-B2
US-11380765-B2
US-11376319-B2
US-11366050-B1
US-11379916-B1
US-11406524-B2
US-11390722-B2
US-11389656-B2
US-11374186-B2
US-11369979-B2
US-11391381-B2
US-11418754-B1
US-11367437-B2
US-11428911-B2
US-11422364-B2
US-11398593-B2
US-11384177-B2
US-11354261-B2
US-11396939-B2
US-11401845-B2
US-11365041-B2
US-11418715-B2
US-11412974-B2
US-11423376-B2
US-11363813-B2
US-11426634-B2
US-11365729-B2
US-11419647-B2
US-11375912-B2
US-11416109-B2
US-11381650-B2
US-11394671-B2
US-11381908-B2
US-11400796-B2
US-11405983-B2
US-11364337-B2
US-11407574-B2
US-11393841-B2
US-11417842-B2
US-11375809-B2
US-11385961-B2
US-11423539-B2
US-11388673-B2
US-11398087-B2
US-11424563-B2
US-11375590-B2
US-11421473-B2

2025-01-20 05:54:41 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:41 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:41 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 201
2025-01-20 05:54:42 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:43 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:43 - root - INFO - SQL:
SELECT "publication_number", "grant_date"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "kind_code" = 'B2'
      AND "grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
publication_number,grant_date
US-11396572-B2,20220726
US-11407017-B2,20220809
US-11360542-B2,20220614
US-11379962-B2,20220705
US-11370724-B2,20220628
US-11416001-B2,20220816
US-11396732-B2,20220726
US-11374026-B2,20220628
US-11369217-B2,20220628
US-11407829-B2,20220809
US-11399950-B2,20220802
US-11381283-B2,20220705
US-11409410-B2,20220809
US-11373404-B2,20220628
US-11421011-B2,20220823
US-11384463-B2,20220712
US-11413537-B2,20220816
US-11414016-B2,20220816
US-11415428-B2,20220816
US-11374401-B2,20220628
US-11397326-B2,20220726
US-11423539-B2,20220823
US-11388673-B2,20220712
US-11398087-B2,20220726
US-11424563-B2,20220823
US-11375590-B2,20220628
US-11421473-B2,20220823
US-11407775-B2,20220809
US-11422371-B2,20220823
US-11354278-B2,20220607
US-11390055-B2,20220719
US-11382363-B2,20220712
US-11401234-B2,20220802
US-11400486-B2,20220802
US-11397228-B2,20220726
US-11353321-B2,20220607
US-11363536-B2,20220614
US-11400138-B2,20220802
US-11393967-B2,20220719
US-11353839-B2,20220607
US-11381650-B2,20220705
US-11394671-B2,20220719
US-11381908-B2,20220705
US-11400796-B2,20220802
US-11405983-B2,20220802
US-11364337-B2,20220621
US-11407574-B2,20220809
US-11393841-B2,20220719
US-11417842-B2,20220816
US-11375809-B2,20220705
US-11385961-B2,20220712
US-11421276-B2,20220823
US-11414872-B2,20220816
US-11378383-B2,20220705
US-11401428-B2,20220802
US-11422402-B2,20220823
US-11410148-B2,20220809
US-11409969-B2,20220809
US-11374640-B2,20220628
US-11352902-B2,20220607
US-11389834-B2,20220719
US-11367437-B2,20220621
US-11428911-B2,20220830
US-11422364-B2,20220823
US-11398593-B2,20220726
US-11384177-B2,20220712
US-11354261-B2,20220607
US-11396939-B2,20220726
US-11401845-B2,20220802
US-11365041-B2,20220621
US-11418715-B2,20220816
US-11351045-B2,20220607
US-11392648-B2,20220719
US-11395931-B2,20220726
US-11410444-B2,20220809
US-11424884-B2,20220823
US-11422523-B2,20220823
US-11363375-B2,20220614
US-11419318-B2,20220823
US-11357437-B2,20220614
US-11376346-B2,20220705
US-11376070-B2,20220705
US-11352335-B2,20220607
US-11401923-B2,20220802
US-11430204-B2,20220830
US-11376885-B2,20220705
US-11372439-B2,20220628
US-11401219-B2,20220802
US-11392816-B2,20220719
US-11386886-B2,20220712
US-11352686-B2,20220607
US-11352465-B2,20220607
US-11391059-B2,20220719
US-11380765-B2,20220705
US-11376319-B2,20220705
US-11368189-B2,20220621
US-11408566-B2,20220809
US-11386539-B2,20220712
US-11389955-B2,20220719
US-11368762-B2,20220621
US-11375960-B2,20220705
US-11404307-B2,20220802
US-11407307-B2,20220809
US-11410365-B2,20220809
US-11386741-B2,20220712
US-11370085-B2,20220628
US-11385163-B2,20220712
US-11391553-B2,20220719
US-11430607-B2,20220830
US-11376109-B2,20220705
US-11393351-B2,20220719
US-11406832-B2,20220809
US-11379726-B2,20220705
US-11426701-B2,20220830
US-11412923-B2,20220816
US-11384000-B2,20220712
US-11369714-B2,20220628
US-11373467-B2,20220628
US-11407174-B2,20220809
US-11376718-B2,20220705
US-11427279-B2,20220830
US-11424341-B2,20220823
US-11379973-B2,20220705
US-11428135-B2,20220830
US-11407366-B2,20220809
US-11377840-B2,20220705
US-11388258-B2,20220712
US-11375403-B2,20220628
US-11363222-B2,20220614
US-11380354-B2,20220705
US-11392814-B2,20220719
US-11396158-B2,20220726
US-11431960-B2,20220830
US-11383851-B2,20220712
US-11373466-B2,20220628
US-11382705-B2,20220712
US-11397148-B2,20220726
US-11394231-B2,20220719
US-11408811-B2,20220809
US-11416022-B2,20220816
US-11393239-B2,20220719
US-11353091-B2,20220607
US-11372255-B2,20220628
US-11430084-B2,20220830
US-11421980-B2,20220823
US-11374056-B2,20220628
US-11382760-B2,20220712
US-11413710-B2,20220816
US-11387621-B2,20220712
US-11373280-B2,20220628
US-11423146-B2,20220823
US-11400365-B2,20220802
US-11411015-B2,20220809
US-11382018-B2,20220705
US-11412960-B2,20220816
US-11351355-B2,20220607
US-11364500-B2,20220621
US-11371080-B2,20220628
US-11429930-B2,20220830
US-11402589-B2,20220802
US-11356221-B2,20220607
US-11382847-B2,20220712
US-11407172-B2,20220809
US-11400006-B2,20220802
US-11391070-B2,20220719
US-11412974-B2,20220816
US-11423376-B2,20220823
US-11363813-B2,20220621
US-11426634-B2,20220830
US-11365729-B2,20220621
US-11419647-B2,20220823
US-11375912-B2,20220705
US-11416109-B2,20220816
US-11404853-B2,20220802
US-11420401-B2,20220823
US-11360211-B2,20220614
US-11398338-B2,20220726
US-11412422-B2,20220809
US-11354655-B2,20220607
US-11387213-B2,20220712
US-11375479-B2,20220628
US-11405208-B2,20220802
US-11420656-B2,20220823
US-11378746-B2,20220705
US-11375241-B2,20220628
US-11380566-B2,20220705
US-11416699-B2,20220816
US-11412231-B2,20220809
US-11396506-B2,20220726
US-11386278-B2,20220712
US-11372388-B2,20220628
US-11374644-B2,20220628
US-11387209-B2,20220712
US-11428067-B2,20220830
US-11418602-B2,20220816
US-11406524-B2,20220809
US-11390722-B2,20220719
US-11389656-B2,20220719
US-11374186-B2,20220628
US-11369979-B2,20220628
US-11391381-B2,20220719

2025-01-20 05:54:43 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:43 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:43 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:45 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 05:54:45 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:45 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:45 - root - INFO - SQL:
SELECT t."publication_number", ipc_u.value:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-11407775-B2,C07H1/06
US-11407775-B2,C07F9/6584
US-11407775-B2,C07H19/16
US-11407775-B2,C07H19/06
US-11422371-B2,G02B27/02
US-11422371-B2,G02F1/1335
US-11422371-B2,H04N7/00
US-11422371-B2,G02B27/09
US-11422371-B2,G02B27/01
US-11422371-B2,G09G5/00
US-11422371-B2,G06T19/00
US-11422371-B2,G02B27/14
US-11422371-B2,G02B3/08
US-11422371-B2,G02B27/10
US-11354278-B2,G06F16/182
US-11354278-B2,H04L9/32
US-11354278-B2,H04L9/06
US-11354278-B2,G06F17/00
US-11354278-B2,G06F16/18
US-11354278-B2,H04L9/08
US-11354278-B2,H04L9/14
US-11354278-B2,G06Q20/38
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/00
US-11382363-B2,A41C3/12
US-11401234-B2,C07B59/00
US-11401234-B2,A61K31/277
US-11401234-B2,A61K45/06
US-11401234-B2,C07C291/04
US-11401234-B2,C07C225/36
US-11401234-B2,G01N31/22
US-11401234-B2,A61K31/136
US-11400486-B2,C09D175/02
US-11400486-B2,C11D7/26
US-11400486-B2,C11D7/40
US-11400486-B2,C11D17/06
US-11400486-B2,C09D175/04
US-11400486-B2,C09D181/04
US-11400486-B2,B05D3/02
US-11400486-B2,C09D5/00
US-11400486-B2,B05D7/00
US-11400486-B2,C11D7/50
US-11400486-B2,B05D3/12
US-11400486-B2,C11D11/00
US-11400486-B2,B05D3/10
US-11397228-B2,G01N22/02
US-11397228-B2,G01R33/00
US-11397228-B2,G01R33/34
US-11397228-B2,H04N23/90
US-11353321-B2,G03F7/20
US-11353321-B2,G01B11/27
US-11353321-B2,G01B9/02001
US-11353321-B2,G01M11/02
US-11363536-B2,H04W72/54
US-11363536-B2,H04W52/24
US-11363536-B2,H04W76/15
US-11363536-B2,H04W52/36
US-11400138-B2,A61K8/65
US-11400138-B2,A61P17/14
US-11400138-B2,A61P17/02
US-11400138-B2,A61P17/08
US-11400138-B2,A61P17/00
US-11400138-B2,A61P17/10
US-11400138-B2,A61P17/12
US-11400138-B2,A61P17/06
US-11400138-B2,A61K38/39
US-11400138-B2,A61P17/04
US-11400138-B2,A61K38/17
US-11393967-B2,H01L29/40
US-11393967-B2,H01L23/00
US-11393967-B2,H01L33/40
US-11393967-B2,H01L33/62
US-11393967-B2,H01L21/00
US-11353839-B2,H05B44/00
US-11353839-B2,H05B47/175
US-11353839-B2,H05B47/10
US-11353839-B2,H05B47/16
US-11353839-B2,H05B47/185
US-11353839-B2,H05B45/20
US-11353839-B2,G05B19/042
US-11421276-B2,C12Q1/6883
US-11414872-B2,B65H16/00
US-11414872-B2,B65H75/30
US-11414872-B2,E04D15/06
US-11414872-B2,B65H75/24
US-11378383-B2,G06F30/13
US-11378383-B2,G01D1/00
US-11378383-B2,G06F16/28
US-11378383-B2,G01B11/08
US-11378383-B2,G01B11/14
US-11378383-B2,G05D1/00
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/63
US-11401428-B2,B05D7/00
US-11401428-B2,C09D175/04
US-11401428-B2,C09D5/08
US-11401428-B2,C09D7/65
US-11401428-B2,C08G18/28
US-11401428-B2,C08G18/08
US-11401428-B2,C09D7/40
US-11401428-B2,C08G18/64
US-11401428-B2,B05D3/00
US-11401428-B2,B05D1/18
US-11401428-B2,C08G18/80
US-11422402-B2,B60R11/02
US-11422402-B2,B64D11/00
US-11422402-B2,G06F1/16
US-11422402-B2,G02F1/1335
US-11422402-B2,G02F1/1333
US-11422402-B2,G06F3/041
US-11422402-B2,G06F3/044
US-11422402-B2,H04N21/414
US-11422402-B2,G06F1/18
US-11422402-B2,B60K35/00
US-11422402-B2,G09F19/22
US-11422402-B2,B60R11/00
US-11410148-B2,G06Q20/20
US-11410148-B2,H04L67/1095
US-11409969-B2,G06K7/00
US-11409969-B2,G08B13/24
US-11409969-B2,G06K19/07
US-11409969-B2,G07G1/00
US-11409969-B2,H04B5/00
US-11374640-B2,H04B7/06
US-11374640-B2,H04L1/00
US-11374640-B2,H04B7/08
US-11374640-B2,H04W72/12
US-11352902-B2,F01D25/12
US-11352902-B2,F01D11/00
US-11389834-B2,G05B13/02
US-11389834-B2,B07C5/36
US-11389834-B2,B07C1/04
US-11389834-B2,B07C5/342
US-11396572-B2,C08F20/16
US-11396572-B2,C08L53/00
US-11396572-B2,C08F293/00
US-11396572-B2,C08F220/14
US-11396572-B2,C08F20/14
US-11396572-B2,C08F2/38
US-11396572-B2,B60S1/38
US-11396572-B2,C08F20/06
US-11396572-B2,C08F220/16
US-11396572-B2,C08F36/18
US-11396572-B2,C08F236/18
US-11407017-B2,B21F1/00
US-11407017-B2,B21D11/12
US-11407017-B2,B21D7/022
US-11407017-B2,B21D7/12
US-11407017-B2,B21D43/00
US-11407017-B2,B21D43/28
US-11360542-B2,G06F1/3234
US-11360542-B2,H04W52/02
US-11360542-B2,G06F1/324
US-11379962-B2,G06T7/33
US-11379962-B2,H04N1/00
US-11379962-B2,G06T7/00
US-11370724-B2,B01J37/02
US-11370724-B2,B01J35/06
US-11370724-B2,C07C2/06
US-11370724-B2,B01J35/10
US-11370724-B2,B01J23/10
US-11370724-B2,B01J35/04
US-11370724-B2,B01J35/02
US-11370724-B2,C07C2/82
US-11370724-B2,C07C2/84
US-11370724-B2,B82Y30/00
US-11370724-B2,B01J29/06
US-11370724-B2,B01J35/00
US-11370724-B2,B01J23/34
US-11416001-B2,G06F17/00
US-11416001-B2,G06T7/80
US-11416001-B2,G06F7/00
US-11416001-B2,B62D12/00
US-11416001-B2,B62D6/00
US-11416001-B2,B63G8/20
US-11416001-B2,B62D11/00
US-11416001-B2,B66F9/075
US-11416001-B2,B65G1/00
US-11416001-B2,G05D1/00
US-11416001-B2,B63H25/04
US-11416001-B2,G05D1/02
US-11416001-B2,G06T7/70
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/04
US-11396732-B2,E02D31/08
US-11396732-B2,E02D27/52
US-11396732-B2,E02D27/46
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/395
US-11407829-B2,A61K38/04
US-11407829-B2,A61K38/16
US-11407829-B2,C12N15/11
US-11407829-B2,C07K7/08
US-11407829-B2,C07K16/28
US-11407829-B2,A61K45/06
US-11407829-B2,A61K39/00
US-11407829-B2,C07K14/00
US-11399950-B2,A61F2/30
US-11399950-B2,A61F2/42
US-

2025-01-20 05:54:45 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:45 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:45 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:46 - snowflake.connector.cursor - INFO - Number of results in first chunk: 170
2025-01-20 05:54:46 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:46 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:47 - root - INFO - SQL:
SELECT DISTINCT SUBSTR(ipc_u.value:"code"::STRING, 1, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
ipc4_code
G01B
G06T
F04B
C07K
B29C
B33Y
B44C
B62D
B23K
C07H
C06B
F16H
B25B
G08B
F02B
G01C
A61P
C08J
A47F
H04W
C08F
B21F
B21D
G02B
C09D
F02M
B66F
C08K
E05B
A61N
C02F
G06Q
A41H
H01Q
G16H
B60Q
G06J
B65B
B63H
A01B
B24C
G06N
E04D
H04J
H02J
E02D
G09B
C01G
H02B
G01R
C07B
B60H
D06M
G03F
H01F
A44B
B23P
H10N
H10K
F21S
A41D
F16B
B22F
A61G
B63G
A63B
G10L
G03B
A61L
A61Q
C11D
F01N
H01R
H04L
C22F
G07G
A62C
D06C
B64D
B82Y
E06B
H02M
C07C
E21B
F01M
G01N
H02P
C22C
C08G
B66C
H10B
H01S
G11B
A61K
B05D
G01M
F16K
H03F
F15B
C09K
B60K
G05B
B64C
G02F
H04M
A61F
B23D
G01S
H02H
A47B
F21Y
B60S
E04B
H04R
C12P
C07D
B60R
C07F
G09G
B08B
B01J
H01G
B65D
G05D
B32B
G06V
F02F
G05G
E04C
G01D
B25J
B01L
G06F
C12Q
B65H
B62K
A61M
D06Q
B43K
G09F
H02N
G07F
C12N
B22C
A01N
B41M
H04B
C08L
B05B
F17D
B07C
D06B
H01L
H04N
H05K
F01D
B01F
A61B
A01K
B65G
B60W
G06K
B29K
F21V
F42B
G07C
B29B
H05B
A63F
A41C

2025-01-20 05:54:47 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:47 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:47 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:48 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 05:54:48 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:48 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:48 - root - INFO - SQL:
SELECT COUNT(*) AS "patent_count"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "kind_code" = 'B2'
      AND "grant_date" BETWEEN 20220601 AND 20220831;
Results:
patent_count
201

2025-01-20 05:54:48 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:48 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:48 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:50 - snowflake.connector.cursor - INFO - Number of results in first chunk: 201
2025-01-20 05:54:50 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:50 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:50 - root - INFO - SQL:
SELECT t."publication_number", ipc_u.value:"code"::STRING AS "first_ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => ARRAY_SLICE(t."ipc", 0, 1)) ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
Too long, hard cut:
publication_number,first_ipc_code
US-11383851-B2,B64D31/04
US-11376109-B2,B65B55/18
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N20/10
US-11426701-B2,B29B7/48
US-11412923-B2,A61B8/12
US-11384000-B2,C02F9/00
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/28
US-11407174-B2,B29C64/30
US-11376718-B2,F04B19/22
US-11427279-B2,B62K11/14
US-11424341-B2,H01L21/3065
US-11379973-B2,G06V20/64
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,G06F12/14
US-11375403-B2,H04L47/36
US-11363222-B2,H04N9/04
US-11380354-B2,G11B5/31
US-11392814-B2,G06N7/00
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11421276-B2,C12Q1/6883
US-11414872-B2,B65H16/00
US-11378383-B2,G06F30/13
US-11401428-B2,C09D7/63
US-11422402-B2,B60R11/02
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,G05B13/02
US-11407775-B2,C07H1/06
US-11422371-B2,G02B27/02
US-11354278-B2,G06F16/182
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/00
US-11401234-B2,C07B59/00
US-11400486-B2,C09D175/02
US-11397228-B2,G01N22/02
US-11353321-B2,G03F7/20
US-11363536-B2,H04W72/54
US-11400138-B2,A61K8/65
US-11393967-B2,H01L29/40
US-11353839-B2,H05B44/00
US-11389955-B2,F15B9/09
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11404307-B2,H01L23/00
US-11407307-B2,B60K17/02
US-11410365-B2,G06F3/0482
US-11386741-B2,G07F17/34
US-11370085-B2,B24C3/06
US-11385163-B2,G01N15/14
US-11391553-B2,B23D77/14
US-11430607-B2,H01G4/012
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/145
US-11407574-B2,B65G17/18
US-11393841-B2,H01L21/28
US-11417842-B2,C08F212/14
US-11375809-B2,A47B37/00
US-11385961-B2,G06F11/30
US-11363375-B2,H04R3/04
US-11419318-B2,A61K49/00
US-11386886-B2,G10L15/22
US-11352686-B2,C22C21/08
US-11352465-B2,C08L9/02
US-11391059-B2,E05B13/10
US-11380765-B2,H01L21/02
US-11376319-B2,A61K39/00
US-11368189-B2,G06F21/60
US-11408566-B2,F17D5/00
US-11386539-B2,H01L21/67
US-11373404-B2,G06T7/12
US-11421011-B2,A61K9/51
US-11384463-B2,D06B23/02
US-11413537-B2,A63F11/00
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/36
US-11374401-B2,H02M7/5387
US-11397326-B2,G02B27/01
US-11412974-B2,A61B5/372
US-11423376-B2,G06V30/412
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/00
US-11365729-B2,F16K17/04
US-11419647-B2,A61B/
US-11375912-B2,H02N11/00
US-11416109-B2,H04L51/02
US-11420401-B2,B29C70/38
US-11360211-B2,B60W30/095
US-11398338-B2,H01F27/255
US-11412422-B2,H04W36/08
US-11354655-B2,G06F16/955
US-11387213-B2,H01L21/56
US-11375479-B2,H04W4/00
US-11405208-B2,H04L9/32
US-11420656-B2,B60W30/14
US-11378746-B2,G06F17/16
US-11375241-B2,H04N19/85
US-11380566-B2,H01L21/67
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/109
US-11371080-B2,C12Q1/6876
US-11429930-B2,G16H20/40
US-11402589-B2,G02B6/44
US-11356221-B2,H04W48/10
US-11382847-B2,A61K8/46
US-11407172-B2,B29C64/393
US-11400006-B2,F16B2/12
US-11391070-B2,G08B13/14
US-11423539-B2,A61B6/00
US-11388673-B2,H04W76/14
US-11398087-B2,G06T7/20
US-11424563-B2,H01R12/52
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/72
US-11406524-B2,A61G13/12
US-11390722-B2,C08J7/12
US-11389656-B2,A61N1/36
US-11374186-B2,H10K99/00
US-11369979-B2,B08B13/00
US-11391381-B2,F16K11/22
US-11357437-B2,A61B5/287
US-11376346-B2,A61L27/58
US-11376070-B2,A61B90/00
US-11352335-B2,C07D277/36
US-11401923-B2,F16K3/26
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,B60K26/02
US-11401219-B2,B01J38/02
US-11392816-B2,H01Q1/22
US-11351045-B2,A61F2/88
US-11392648-B2,G10L15/26
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/177
US-11424884-B2,H04L5/00
US-11422523-B2,G05B19/042
US-11396572-B2,C08F20/16
US-11407017-B2,B21F1/00
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/33
US-11370724-B2,B01J37/02
US-11416001-B2,G06F17/00
US-11396732-B2,E02D27/04
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/395
US-11399950-B2,A61F2/30
US-11381283-B2,H04W72/12
US-11409410-B2,G06F9/54
US-11404853-B2,H02B1/36
US-11367437-B2,G10L17/00
US-11428911-B2,G02B27/00
US-11422364-B2,G02B26/08
US-11398593-B2,H01L29/06
US-11384177-B2,C08F20/56
US-11354261-B2,G05B19/042
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/02
US-11365041-B2,F04B33/00
US-11418715-B2,G06F3/01
US-11396506-B2,C07D519/00
US-11386278-B2,G07G1/00
US-11372388-B2,G05B19/042
US-11374644-B2,H04B17/327
US-11387209-B2,H01L23/31
US-11428067-B2,E21B36/00
US-11418602-B2,H04L67/141
US-11373466-B2,G07C5/08
US-11382705-B2,A61B34/30
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06F1/14
US-11393239-B2,G01N29/34
US-11353091-B2,F16H3/66
US-11372255-B2,G06F3/03
US-11382018-B2,H04W88/02
US-11412960-B2,A61B5/00
US-11351355-B2,A61M60/894
US-11364500-B2,B01L3/00
US-11430084-B2,G06F3/01
US-11421980-B2,G01S17/06
US-11374056-B2,H01L45/00
US-11382760-B2,A61F2/46
US-11413710-B2,B23K9/173
US-11387621-B2,H01S3/23
US-11373280-B2,G06T5/00
US-11423146-B2,G06F21/54
US-11400365-B2,A63F13/24
US-1141

2025-01-20 05:54:50 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:50 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:50 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:51 - snowflake.connector.cursor - INFO - Number of results in first chunk: 202
2025-01-20 05:54:51 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:51 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:52 - root - INFO - SQL:
SELECT t."publication_number", ipc_u.value:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
      AND ipc_u.value:"first"::BOOLEAN = TRUE
    LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-11423539-B2,A61B6/00
US-11388673-B2,H04W4/00
US-11398087-B2,G06V20/10
US-11424563-B2,H01R13/40
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/42
US-11396572-B2,C08F236/18
US-11407017-B2,B21D11/12
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/00
US-11370724-B2,C07C2/82
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/52
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/00
US-11399950-B2,A61F2/42
US-11381283-B2,H04B7/0417
US-11409410-B2,G06F3/0481
US-11373404-B2,H04N7/10
US-11421011-B2,C07K14/54
US-11384463-B2,D06B23/02
US-11413537-B2,A63F9/24
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/26
US-11374401-B2,H02H7/122
US-11397326-B2,G02B27/01
US-11412923-B2,A61B1/32
US-11384000-B2,C02F11/15
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/00
US-11407174-B2,B29C64/30
US-11376718-B2,B25B13/48
US-11427279-B2,B62K23/02
US-11424341-B2,H01L21/02
US-11379973-B2,G06T7/00
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,H04L67/00
US-11375403-B2,H04W28/06
US-11363222-B2,H04N5/369
US-11380354-B2,G11B5/48
US-11392814-B2,G06K19/07
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/142
US-11407574-B2,B65G17/18
US-11393841-B2,H10B43/30
US-11393841-B2,H10B43/27
US-11417842-B2,H10K99/00
US-11375809-B2,A47B83/04
US-11385961-B2,G06F11/00
US-11351045-B2,A61F2/04
US-11392648-B2,G06F16/90
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/00
US-11424884-B2,H04W72/04
US-11422523-B2,G05B19/042
US-11407775-B2,C07F9/6584
US-11422371-B2,G02B27/14
US-11354278-B2,G06F17/00
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/12
US-11401234-B2,C07C225/36
US-11400486-B2,B05D7/00
US-11397228-B2,G01R33/00
US-11353321-B2,G01B11/27
US-11363536-B2,H04W52/24
US-11400138-B2,A61K38/39
US-11393967-B2,H01L29/40
US-11353839-B2,H05B47/10
US-11371080-B2,C12Q1/6876
US-11429930-B2,G06Q10/10
US-11402589-B2,G02B6/38
US-11356221-B2,H04L5/00
US-11382847-B2,A61K8/34
US-11407172-B2,B29C64/153
US-11400006-B2,A61G13/10
US-11391070-B2,E05B73/00
US-11367437-B2,G10L15/20
US-11428911-B2,G02B15/14
US-11422364-B2,G02B27/00
US-11398593-B2,H10N60/01
US-11384177-B2,C08J3/07
US-11354261-B2,G06F3/00
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/04
US-11365041-B2,B65D81/20
US-11418715-B2,H04N5/232
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11386539-B2,G06T7/00
US-11421276-B2,C12Q1/6883
US-11414872-B2,E04D15/06
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/65
US-11422402-B2,G02F1/1335
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,B07C5/36
US-11389955-B2,G06F17/00
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/00
US-11404307-B2,H01L21/768
US-11407307-B2,B60K23/04
US-11410365-B2,G06T13/40
US-11386741-B2,G07F17/32
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/232
US-11376109-B2,A61F2/00
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N3/08
US-11426701-B2,B22C5/00
US-11383851-B2,B64D31/04
US-11363375-B2,H04R3/00
US-11419318-B2,A01K67/027
US-11357437-B2,A61B5/339
US-11376346-B2,A61L27/36
US-11376070-B2,A61B18/20
US-11352335-B2,C07D277/36
US-11401923-B2,F04B27/18
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,G05G1/38
US-11401219-B2,C07C1/24
US-11392816-B2,G06K19/077
US-11386886-B2,G10L15/18
US-11352686-B2,C22F1/047
US-11352465-B2,C08J3/22
US-11391059-B2,E05B13/00
US-11380765-B2,H01L29/15
US-11376319-B2,A61K39/145
US-11404853-B2,B60K6/36
US-11412974-B2,A61B5/16
US-11423376-B2,G06Q20/14
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/12
US-11365729-B2,F04B49/22
US-11419647-B2,A61B17/80
US-11375912-B2,H02N11/00
US-11430084-B2,G06T3/40
US-11421980-B2,G01B11/10
US-11374056-B2,H01L27/24
US-11382760-B2,A61F2/44
US-11413710-B2,B23K35/00
US-11387621-B2,H01S3/13
US-11373280-B2,G06T7/00
US-11423146-B2,G06F21/56
US-11400365-B2,A63F13/24
US-11411015-B2,H10B41/27
US-11411015-B2,H10B41/20
US-11373466-B2,G07C5/08
US-11382705-B2,B25J17/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06J1/02
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11372255-B2,G02B27/09
US-11420401-B2,B29C70/38
US-11360211-B2,G01S13/931
US-11398338-B2,H01F27/25
US-11412422-B2,H04W36/00
US-11354655-B2,G06Q20/38
US-11387213-B2,H01L21/78
US-11375479-B2,H04W4/00
US-11420656-B2,B60W30/14
US-11378746-B2,G02B6/14
US-11375241-B2,H04N19/00
US-11380566-B2,G05B19/19
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/159
US-11412231-B2,H04N19/577
US-11382018-B2,H04W36/32
US-11412960-B2,A61B5/145
US-11351355-B2,A61M60/268
US-11406524-B2,A61F5/00
US-11390722-B2,C08J7/18
US-11389656-B2,A61N1/36
US-11374186-B2,H01L31/044
US-11369979-B2,B05B3/04
US-11391381-B2,F16K1/52
US-11396506-B2,C07D471/02
US-11386278-B2,G06K7/10
US-11372388-B2,G05B19/042
US-11374644-B2,H04B7/08
US-11387209-B2,H01L23/00
US-11428067-B2

2025-01-20 05:54:52 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 05:54:52 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 05:54:52 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 05:54:53 - snowflake.connector.cursor - INFO - Number of results in first chunk: 170
2025-01-20 05:54:53 - snowflake.connector.connection - INFO - closed
2025-01-20 05:54:53 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 05:54:54 - root - INFO - SQL:
SELECT SUBSTR(ipc_u.value:"code"::STRING, 1, 4) AS "ipc4_code", COUNT(*) AS "code_count"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    GROUP BY SUBSTR(ipc_u.value:"code"::STRING, 1, 4)
    ORDER BY "code_count" DESC
    LIMIT 1000;
Results:
ipc4_code,code_count
G06F,62
H01L,59
A61B,51
H04N,36
H04L,34
H04W,34
A61K,25
G06T,24
G06V,23
G02B,19
E21B,17
B29C,16
G02F,14
A61M,14
B01J,14
H04B,13
C08F,13
G16H,12
A61F,12
G06K,11
B23K,10
F04B,10
H05B,10
G05B,9
H10B,9
A61L,9
C09D,9
G06N,9
B25J,8
G06Q,8
G01B,8
B01F,8
A61P,8
H04R,8
G10L,8
H01G,8
G01S,7
B60K,7
B65D,7
B05D,7
C07C,7
B65B,7
B24C,6
B33Y,6
A63F,6
G01N,6
A61N,6
B60R,6
B21D,5
F01M,5
C22C,5
A47B,5
F16H,5
F01N,5
E05B,5
C08G,5
C11D,5
C12N,5
C08J,5
H01S,4
E02D,4
G07C,4
H02J,4
B82Y,4
B60W,4
C07K,4
B66C,4
F16K,4
F15B,4
H01R,4
B62D,4
F02B,4
F17D,4
A61G,4
C07D,4
F16B,4
B65H,3
A47F,3
G05G,3
G11B,3
G05D,3
B65G,3
G08B,3
A41H,3
C08K,3
C02F,3
F21V,3
F21Y,3
C08L,3
C09K,3
B07C,3
G01C,3
B64C,3
B43K,3
B32B,3
F02M,3
C12Q,3
G01R,3
C07H,3
H10N,2
H10K,2
H02B,2
B62K,2
A01K,2
D06C,2
G07F,2
G01D,2
H02M,2
H02N,2
D06B,2
C06B,2
F01D,2
H01Q,2
B05B,2
B64D,2
H03F,2
G07G,2
B60H,2
F02F,2
G03F,2
H01F,2
B60Q,2
H02H,2
E06B,2
A63B,2
B22F,2
F21S,2
A41C,2
B08B,2
H04M,2
E04C,2
A41D,2
A01N,2
C01G,1
B21F,1
C12P,1
G09B,1
A62C,1
B25B,1
E04B,1
B60S,1
B01L,1
B29B,1
C07B,1
G03B,1
A61Q,1
H05K,1
H02P,1
B29K,1
G06J,1
B63H,1
F42B,1
A01B,1
B41M,1
G09F,1
B23P,1
A44B,1
C22F,1
B44C,1
B63G,1
D06M,1
G01M,1
E04D,1
B66F,1
H04J,1
B23D,1
C07F,1
G09G,1
B22C,1
D06Q,1

2025-01-20 05:54:54 - root - INFO - itercount: 0
2025-01-20 05:54:54 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
Columns and their potential usage:

- **"publication_number"**: Identifier for each patent publication; used to retrieve specific patents.
- **"country_code"**: Used to filter for US patents (`"country_code" = 'US'`).
- **"kind_code"**: Used to filter for B2 utility patents (`"kind_code" = 'B2'`).
- **"grant_date"**: Used to filter patents granted between June and August 2022 (`"grant_date"` between `20220601` and `20220831`).
- **"ipc"**: VARIANT column containing IPC codes; used to extract IPC codes associated with each patent.
- **"ipc.value:'code'"**: Extracts the IPC code from the VARIANT "ipc" column.
- **"ipc.value:'first'"**: Indicates if the IPC code is the main code (`TRUE` or `FALSE`).

Conditions that may be used:

- Filter for US patents: `"country_code" = 'US'`.
- Filter for B2 utility patents: `"kind_code" = 'B2'`.
- Filter for grant dates between June 1, 2022, and August 31, 2022: `"grant_date" BETWEEN 20220601 AND 20220831`.
- Extract and process IPC codes from the VARIANT column using `LATERAL FLATTEN`.

Below are 10 SQL queries to explore the data:

1. **Select distinct country codes available in the PUBLICATIONS table:**

    ```sql
    SELECT DISTINCT "country_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
    ```

2. **Select distinct kind codes available in the PUBLICATIONS table:**

    ```sql
    SELECT DISTINCT "kind_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
    ```

3. **Select publication numbers of US patents granted between June and August 2022:**

    ```sql
    SELECT "publication_number"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

4. **Select publication numbers and grant dates of US B2 patents granted between June and August 2022:**

    ```sql
    SELECT "publication_number", "grant_date"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "kind_code" = 'B2'
      AND "grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

5. **Select publication numbers and IPC codes of US B2 patents granted between June and August 2022:**

    ```sql
    SELECT t."publication_number", ipc_u.value:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

6. **Select distinct 4-digit IPC codes from US B2 patents granted between June and August 2022:**

    ```sql
    SELECT DISTINCT SUBSTR(ipc_u.value:"code"::STRING, 1, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

7. **Count the number of US B2 patents granted between June and August 2022:**

    ```sql
    SELECT COUNT(*) AS "patent_count"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "kind_code" = 'B2'
      AND "grant_date" BETWEEN 20220601 AND 20220831;
    ```

8. **Select publication numbers and the first IPC code for each US B2 patent granted between June and August 2022:**

    ```sql
    SELECT t."publication_number", ipc_u.value:"code"::STRING AS "first_ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => ARRAY_SLICE(t."ipc", 0, 1)) ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

9. **Select publication numbers and IPC codes where the 'first' subfield is TRUE:**

    ```sql
    SELECT t."publication_number", ipc_u.value:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
      AND ipc_u.value:"first"::BOOLEAN = TRUE
    LIMIT 1000;
    ```

10. **Select counts of each 4-digit IPC code among US B2 patents granted between June and August 2022:**

    ```sql
    SELECT SUBSTR(ipc_u.value:"code"::STRING, 1, 4) AS "ipc4_code", COUNT(*) AS "code_count"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    GROUP BY SUBSTR(ipc_u.value:"code"::STRING, 1, 4)
    ORDER BY "code_count" DESC
    LIMIT 1000;
    ```

These queries explore the relevant columns and conditions to understand the values related to the task. They help in examining the data for US B2 utility patents granted between June and August 2022 and extracting the IPC codes to identify the most common 4-digit IPC code.Query:
SELECT DISTINCT "country_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Answer:
country_code
DO
HR
BA
FI
DK
LT
HU
JP
DZ
NL
AU
CU
TR
BG
AT
GR
BE
UA
MW
PL
CR
KR
RO
ZW
CO
SI
KE
AR
WO
SK
CA
IS
US
DE
DD
PH
JO
CY
IT
OA
MA
CZ
HN
SV
EP
ZA
NO
BR
ID
LU
IL
TW
MT
RU
SE
AP
IN
EC
EG
PA
MY
LV
CS
SA
MN
MX
EE
GE
GB
SG
CH
RS
ES
IE
EA
FR
SU
PE
KZ
YU
ZM
MD
NI
HK
GT
TN
SM
ME
CL
PT
NZ
CN
MC
Query:
SELECT DISTINCT "kind_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Answer:
kind_code
A4
P
B7
I1
T9
U9
B5
F1
P9
A1
T
R
Z2
Z
S
B1
D2
U8
V
U1
Y8
H1
L
A9
B6
E2
P1
C4
S2
V0
B8
C0
T3
C9
U4
A3
E
G
D0
A2
F2
A5
T2
Y2
D
C1
B2
A0
U5
B9
T1
Y4
B
Y1
Y
A
T4
B3
R1
T8
T5
G2
A8
I2
A6
C
U2
U
M
S1
U3
D1
Q
B4
C2
C5
H3
U0
C3
A7
Query:
SELECT "publication_number"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
publication_number
US-11366842-B1
US-11376109-B2
US-11393351-B2
US-11406832-B2
US-11379726-B2
US-11426701-B2
US-11373404-B2
US-11421011-B2
US-11384463-B2
US-11413537-B2
US-11414016-B2
US-11415428-B2
US-11374401-B2
US-11397326-B2
US-11396572-B2
US-11407017-B2
US-11360542-B2
US-11379962-B2
US-11370724-B2
US-11416001-B2
US-11396732-B2
US-11374026-B2
US-11369217-B2
US-11407829-B2
US-11399950-B2
US-11381283-B2
US-11409410-B2
US-11389955-B2
US-11368762-B2
US-11375960-B2
US-11404307-B2
US-11407307-B2
US-11410365-B2
US-11386741-B2
US-11370085-B2
US-11385163-B2
US-11391553-B2
US-11430607-B2
US-11407775-B2
US-11422371-B2
US-11354278-B2
US-11390055-B2
US-11382363-B2
US-11401234-B2
US-11400486-B2
US-11397228-B2
US-11353321-B2
US-11363536-B2
US-11400138-B2
US-11393967-B2
US-11353839-B2
US-11404885-B1
US-11383851-B2
US-11412923-B2
US-11384000-B2
US-11369714-B2
US-11373467-B2
US-11407174-B2
US-11376718-B2
US-11427279-B2
US-11424341-B2
US-11379973-B2
US-11428135-B2
US-11407366-B2
US-11377840-B2
US-11388258-B2
US-11375403-B2
US-11363222-B2
US-11380354-B2
US-11392814-B2
US-11396158-B2
US-11431960-B2
US-11421276-B2
US-11414872-B2
US-11378383-B2
US-11401428-B2
US-11422402-B2
US-11410148-B2
US-11409969-B2
US-11374640-B2
US-11352902-B2
US-11389834-B2
US-11371080-B2
US-11429930-B2
US-11402589-B2
US-11356221-B2
US-11382847-B2
US-11407172-B2
US-11400006-B2
US-11391070-B2
US-11420401-B2
US-11360211-B2
US-11398338-B2
US-11412422-B2
US-11354655-B2
US-11387213-B2
US-11375479-B2
US-11405208-B2
US-11420656-B2
US-11378746-B2
US-11375241-B2
US-11380566-B2
US-11416699-B2
US-11412231-B2
US-11396506-B2
US-11386278-B2
US-11372388-B2
US-11374644-B2
US-11387209-B2
US-11428067-B2
US-11418602-B2
US-11404853-B2
US-11361300-B1
US-11361296-B1
US-11359862-B1
US-11376179-B1
US-11353412-B1
US-11410209-B1
US-11351045-B2
US-11392648-B2
US-11395931-B2
US-11410444-B2
US-11424884-B2
US-11422523-B2
US-11386306-B1
US-11368189-B2
US-11408566-B2
US-11386539-B2
US-11382018-B2
US-11412960-B2
US-11351355-B2
US-11364500-B2
US-11430084-B2
US-11421980-B2
US-11374056-B2
US-11382760-B2
US-11413710-B2
US-11387621-B2
US-11373280-B2
US-11423146-B2
US-11400365-B2
US-11411015-B2
US-11373466-B2
US-11382705-B2
US-11397148-B2
US-11394231-B2
US-11408811-B2
US-11416022-B2
US-11393239-B2
US-11353091-B2
US-11372255-B2
US-11412124-B1
US-11363095-B1
US-11363375-B2
US-11419318-B2
US-11357437-B2
US-11376346-B2
US-11376070-B2
US-11352335-B2
US-11401923-B2
US-11430204-B2
US-11376885-B2
US-11372439-B2
US-11401219-B2
US-11392816-B2
US-11386886-B2
US-11352686-B2
US-11352465-B2
US-11391059-B2
US-11380765-B2
US-11376319-B2
US-11366050-B1
US-11379916-B1
US-11406524-B2
US-11390722-B2
US-11389656-B2
US-11374186-B2
US-11369979-B2
US-11391381-B2
US-11418754-B1
US-11367437-B2
US-11428911-B2
US-11422364-B2
US-11398593-B2
US-11384177-B2
US-11354261-B2
US-11396939-B2
US-11401845-B2
US-11365041-B2
US-11418715-B2
US-11412974-B2
US-11423376-B2
US-11363813-B2
US-11426634-B2
US-11365729-B2
US-11419647-B2
US-11375912-B2
US-11416109-B2
US-11381650-B2
US-11394671-B2
US-11381908-B2
US-11400796-B2
US-11405983-B2
US-11364337-B2
US-11407574-B2
US-11393841-B2
US-11417842-B2
US-11375809-B2
US-11385961-B2
US-11423539-B2
US-11388673-B2
US-11398087-B2
US-11424563-B2
US-11375590-B2
US-11421473-B2
Query:
SELECT "publication_number", "grant_date"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "kind_code" = 'B2'
      AND "grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
publication_number,grant_date
US-11396572-B2,20220726
US-11407017-B2,20220809
US-11360542-B2,20220614
US-11379962-B2,20220705
US-11370724-B2,20220628
US-11416001-B2,20220816
US-11396732-B2,20220726
US-11374026-B2,20220628
US-11369217-B2,20220628
US-11407829-B2,20220809
US-11399950-B2,20220802
US-11381283-B2,20220705
US-11409410-B2,20220809
US-11373404-B2,20220628
US-11421011-B2,20220823
US-11384463-B2,20220712
US-11413537-B2,20220816
US-11414016-B2,20220816
US-11415428-B2,20220816
US-11374401-B2,20220628
US-11397326-B2,20220726
US-11423539-B2,20220823
US-11388673-B2,20220712
US-11398087-B2,20220726
US-11424563-B2,20220823
US-11375590-B2,20220628
US-11421473-B2,20220823
US-11407775-B2,20220809
US-11422371-B2,20220823
US-11354278-B2,20220607
US-11390055-B2,20220719
US-11382363-B2,20220712
US-11401234-B2,20220802
US-11400486-B2,20220802
US-11397228-B2,20220726
US-11353321-B2,20220607
US-11363536-B2,20220614
US-11400138-B2,20220802
US-11393967-B2,20220719
US-11353839-B2,20220607
US-11381650-B2,20220705
US-11394671-B2,20220719
US-11381908-B2,20220705
US-11400796-B2,20220802
US-11405983-B2,20220802
US-11364337-B2,20220621
US-11407574-B2,20220809
US-11393841-B2,20220719
US-11417842-B2,20220816
US-11375809-B2,20220705
US-11385961-B2,20220712
US-11421276-B2,20220823
US-11414872-B2,20220816
US-11378383-B2,20220705
US-11401428-B2,20220802
US-11422402-B2,20220823
US-11410148-B2,20220809
US-11409969-B2,20220809
US-11374640-B2,20220628
US-11352902-B2,20220607
US-11389834-B2,20220719
US-11367437-B2,20220621
US-11428911-B2,20220830
US-11422364-B2,20220823
US-11398593-B2,20220726
US-11384177-B2,20220712
US-11354261-B2,20220607
US-11396939-B2,20220726
US-11401845-B2,20220802
US-11365041-B2,20220621
US-11418715-B2,20220816
US-11351045-B2,20220607
US-11392648-B2,20220719
US-11395931-B2,20220726
US-11410444-B2,20220809
US-11424884-B2,20220823
US-11422523-B2,20220823
US-11363375-B2,20220614
US-11419318-B2,20220823
US-11357437-B2,20220614
US-11376346-B2,20220705
US-11376070-B2,20220705
US-11352335-B2,20220607
US-11401923-B2,20220802
US-11430204-B2,20220830
US-11376885-B2,20220705
US-11372439-B2,20220628
US-11401219-B2,20220802
US-11392816-B2,20220719
US-11386886-B2,20220712
US-11352686-B2,20220607
US-11352465-B2,20220607
US-11391059-B2,20220719
US-11380765-B2,20220705
US-11376319-B2,20220705
US-11368189-B2,20220621
US-11408566-B2,20220809
US-11386539-B2,20220712
US-11389955-B2,20220719
US-11368762-B2,20220621
US-11375960-B2,20220705
US-11404307-B2,20220802
US-11407307-B2,20220809
US-11410365-B2,20220809
US-11386741-B2,20220712
US-11370085-B2,20220628
US-11385163-B2,20220712
US-11391553-B2,20220719
US-11430607-B2,20220830
US-11376109-B2,20220705
US-11393351-B2,20220719
US-11406832-B2,20220809
US-11379726-B2,20220705
US-11426701-B2,20220830
US-11412923-B2,20220816
US-11384000-B2,20220712
US-11369714-B2,20220628
US-11373467-B2,20220628
US-11407174-B2,20220809
US-11376718-B2,20220705
US-11427279-B2,20220830
US-11424341-B2,20220823
US-11379973-B2,20220705
US-11428135-B2,20220830
US-11407366-B2,20220809
US-11377840-B2,20220705
US-11388258-B2,20220712
US-11375403-B2,20220628
US-11363222-B2,20220614
US-11380354-B2,20220705
US-11392814-B2,20220719
US-11396158-B2,20220726
US-11431960-B2,20220830
US-11383851-B2,20220712
US-11373466-B2,20220628
US-11382705-B2,20220712
US-11397148-B2,20220726
US-11394231-B2,20220719
US-11408811-B2,20220809
US-11416022-B2,20220816
US-11393239-B2,20220719
US-11353091-B2,20220607
US-11372255-B2,20220628
US-11430084-B2,20220830
US-11421980-B2,20220823
US-11374056-B2,20220628
US-11382760-B2,20220712
US-11413710-B2,20220816
US-11387621-B2,20220712
US-11373280-B2,20220628
US-11423146-B2,20220823
US-11400365-B2,20220802
US-11411015-B2,20220809
US-11382018-B2,20220705
US-11412960-B2,20220816
US-11351355-B2,20220607
US-11364500-B2,20220621
US-11371080-B2,20220628
US-11429930-B2,20220830
US-11402589-B2,20220802
US-11356221-B2,20220607
US-11382847-B2,20220712
US-11407172-B2,20220809
US-11400006-B2,20220802
US-11391070-B2,20220719
US-11412974-B2,20220816
US-11423376-B2,20220823
US-11363813-B2,20220621
US-11426634-B2,20220830
US-11365729-B2,20220621
US-11419647-B2,20220823
US-11375912-B2,20220705
US-11416109-B2,20220816
US-11404853-B2,20220802
US-11420401-B2,20220823
US-11360211-B2,20220614
US-11398338-B2,20220726
US-11412422-B2,20220809
US-11354655-B2,20220607
US-11387213-B2,20220712
US-11375479-B2,20220628
US-11405208-B2,20220802
US-11420656-B2,20220823
US-11378746-B2,20220705
US-11375241-B2,20220628
US-11380566-B2,20220705
US-11416699-B2,20220816
US-11412231-B2,20220809
US-11396506-B2,20220726
US-11386278-B2,20220712
US-11372388-B2,20220628
US-11374644-B2,20220628
US-11387209-B2,20220712
US-11428067-B2,20220830
US-11418602-B2,20220816
US-11406524-B2,20220809
US-11390722-B2,20220719
US-11389656-B2,20220719
US-11374186-B2,20220628
US-11369979-B2,20220628
US-11391381-B2,20220719
Query:
SELECT t."publication_number", ipc_u.value:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-11407775-B2,C07H1/06
US-11407775-B2,C07F9/6584
US-11407775-B2,C07H19/16
US-11407775-B2,C07H19/06
US-11422371-B2,G02B27/02
US-11422371-B2,G02F1/1335
US-11422371-B2,H04N7/00
US-11422371-B2,G02B27/09
US-11422371-B2,G02B27/01
US-11422371-B2,G09G5/00
US-11422371-B2,G06T19/00
US-11422371-B2,G02B27/14
US-11422371-B2,G02B3/08
US-11422371-B2,G02B27/10
US-11354278-B2,G06F16/182
US-11354278-B2,H04L9/32
US-11354278-B2,H04L9/06
US-11354278-B2,G06F17/00
US-11354278-B2,G06F16/18
US-11354278-B2,H04L9/08
US-11354278-B2,H04L9/14
US-11354278-B2,G06Q20/38
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/00
US-11382363-B2,A41C3/12
US-11401234-B2,C07B59/00
US-11401234-B2,A61K31/277
US-11401234-B2,A61K45/06
US-11401234-B2,C07C291/04
US-11401234-B2,C07C225/36
US-11401234-B2,G01N31/22
US-11401234-B2,A61K31/136
US-11400486-B2,C09D175/02
US-11400486-B2,C11D7/26
US-11400486-B2,C11D7/40
US-11400486-B2,C11D17/06
US-11400486-B2,C09D175/04
US-11400486-B2,C09D181/04
US-11400486-B2,B05D3/02
US-11400486-B2,C09D5/00
US-11400486-B2,B05D7/00
US-11400486-B2,C11D7/50
US-11400486-B2,B05D3/12
US-11400486-B2,C11D11/00
US-11400486-B2,B05D3/10
US-11397228-B2,G01N22/02
US-11397228-B2,G01R33/00
US-11397228-B2,G01R33/34
US-11397228-B2,H04N23/90
US-11353321-B2,G03F7/20
US-11353321-B2,G01B11/27
US-11353321-B2,G01B9/02001
US-11353321-B2,G01M11/02
US-11363536-B2,H04W72/54
US-11363536-B2,H04W52/24
US-11363536-B2,H04W76/15
US-11363536-B2,H04W52/36
US-11400138-B2,A61K8/65
US-11400138-B2,A61P17/14
US-11400138-B2,A61P17/02
US-11400138-B2,A61P17/08
US-11400138-B2,A61P17/00
US-11400138-B2,A61P17/10
US-11400138-B2,A61P17/12
US-11400138-B2,A61P17/06
US-11400138-B2,A61K38/39
US-11400138-B2,A61P17/04
US-11400138-B2,A61K38/17
US-11393967-B2,H01L29/40
US-11393967-B2,H01L23/00
US-11393967-B2,H01L33/40
US-11393967-B2,H01L33/62
US-11393967-B2,H01L21/00
US-11353839-B2,H05B44/00
US-11353839-B2,H05B47/175
US-11353839-B2,H05B47/10
US-11353839-B2,H05B47/16
US-11353839-B2,H05B47/185
US-11353839-B2,H05B45/20
US-11353839-B2,G05B19/042
US-11421276-B2,C12Q1/6883
US-11414872-B2,B65H16/00
US-11414872-B2,B65H75/30
US-11414872-B2,E04D15/06
US-11414872-B2,B65H75/24
US-11378383-B2,G06F30/13
US-11378383-B2,G01D1/00
US-11378383-B2,G06F16/28
US-11378383-B2,G01B11/08
US-11378383-B2,G01B11/14
US-11378383-B2,G05D1/00
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/63
US-11401428-B2,B05D7/00
US-11401428-B2,C09D175/04
US-11401428-B2,C09D5/08
US-11401428-B2,C09D7/65
US-11401428-B2,C08G18/28
US-11401428-B2,C08G18/08
US-11401428-B2,C09D7/40
US-11401428-B2,C08G18/64
US-11401428-B2,B05D3/00
US-11401428-B2,B05D1/18
US-11401428-B2,C08G18/80
US-11422402-B2,B60R11/02
US-11422402-B2,B64D11/00
US-11422402-B2,G06F1/16
US-11422402-B2,G02F1/1335
US-11422402-B2,G02F1/1333
US-11422402-B2,G06F3/041
US-11422402-B2,G06F3/044
US-11422402-B2,H04N21/414
US-11422402-B2,G06F1/18
US-11422402-B2,B60K35/00
US-11422402-B2,G09F19/22
US-11422402-B2,B60R11/00
US-11410148-B2,G06Q20/20
US-11410148-B2,H04L67/1095
US-11409969-B2,G06K7/00
US-11409969-B2,G08B13/24
US-11409969-B2,G06K19/07
US-11409969-B2,G07G1/00
US-11409969-B2,H04B5/00
US-11374640-B2,H04B7/06
US-11374640-B2,H04L1/00
US-11374640-B2,H04B7/08
US-11374640-B2,H04W72/12
US-11352902-B2,F01D25/12
US-11352902-B2,F01D11/00
US-11389834-B2,G05B13/02
US-11389834-B2,B07C5/36
US-11389834-B2,B07C1/04
US-11389834-B2,B07C5/342
US-11396572-B2,C08F20/16
US-11396572-B2,C08L53/00
US-11396572-B2,C08F293/00
US-11396572-B2,C08F220/14
US-11396572-B2,C08F20/14
US-11396572-B2,C08F2/38
US-11396572-B2,B60S1/38
US-11396572-B2,C08F20/06
US-11396572-B2,C08F220/16
US-11396572-B2,C08F36/18
US-11396572-B2,C08F236/18
US-11407017-B2,B21F1/00
US-11407017-B2,B21D11/12
US-11407017-B2,B21D7/022
US-11407017-B2,B21D7/12
US-11407017-B2,B21D43/00
US-11407017-B2,B21D43/28
US-11360542-B2,G06F1/3234
US-11360542-B2,H04W52/02
US-11360542-B2,G06F1/324
US-11379962-B2,G06T7/33
US-11379962-B2,H04N1/00
US-11379962-B2,G06T7/00
US-11370724-B2,B01J37/02
US-11370724-B2,B01J35/06
US-11370724-B2,C07C2/06
US-11370724-B2,B01J35/10
US-11370724-B2,B01J23/10
US-11370724-B2,B01J35/04
US-11370724-B2,B01J35/02
US-11370724-B2,C07C2/82
US-11370724-B2,C07C2/84
US-11370724-B2,B82Y30/00
US-11370724-B2,B01J29/06
US-11370724-B2,B01J35/00
US-11370724-B2,B01J23/34
US-11416001-B2,G06F17/00
US-11416001-B2,G06T7/80
US-11416001-B2,G06F7/00
US-11416001-B2,B62D12/00
US-11416001-B2,B62D6/00
US-11416001-B2,B63G8/20
US-11416001-B2,B62D11/00
US-11416001-B2,B66F9/075
US-11416001-B2,B65G1/00
US-11416001-B2,G05D1/00
US-11416001-B2,B63H25/04
US-11416001-B2,G05D1/02
US-11416001-B2,G06T7/70
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/04
US-11396732-B2,E02D31/08
US-11396732-B2,E02D27/52
US-11396732-B2,E02D27/46
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/395
US-11407829-B2,A61K38/04
US-11407829-B2,A61K38/16
US-11407829-B2,C12N15/11
US-11407829-B2,C07K7/08
US-11407829-B2,C07K16/28
US-11407829-B2,A61K45/06
US-11407829-B2,A61K39/00
US-11407829-B2,C07K14/00
US-11399950-B2,A61F2/30
US-11399950-B2,A61F2/42
US-
Query:
SELECT DISTINCT SUBSTR(ipc_u.value:"code"::STRING, 1, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
ipc4_code
G01B
G06T
F04B
C07K
B29C
B33Y
B44C
B62D
B23K
C07H
C06B
F16H
B25B
G08B
F02B
G01C
A61P
C08J
A47F
H04W
C08F
B21F
B21D
G02B
C09D
F02M
B66F
C08K
E05B
A61N
C02F
G06Q
A41H
H01Q
G16H
B60Q
G06J
B65B
B63H
A01B
B24C
G06N
E04D
H04J
H02J
E02D
G09B
C01G
H02B
G01R
C07B
B60H
D06M
G03F
H01F
A44B
B23P
H10N
H10K
F21S
A41D
F16B
B22F
A61G
B63G
A63B
G10L
G03B
A61L
A61Q
C11D
F01N
H01R
H04L
C22F
G07G
A62C
D06C
B64D
B82Y
E06B
H02M
C07C
E21B
F01M
G01N
H02P
C22C
C08G
B66C
H10B
H01S
G11B
A61K
B05D
G01M
F16K
H03F
F15B
C09K
B60K
G05B
B64C
G02F
H04M
A61F
B23D
G01S
H02H
A47B
F21Y
B60S
E04B
H04R
C12P
C07D
B60R
C07F
G09G
B08B
B01J
H01G
B65D
G05D
B32B
G06V
F02F
G05G
E04C
G01D
B25J
B01L
G06F
C12Q
B65H
B62K
A61M
D06Q
B43K
G09F
H02N
G07F
C12N
B22C
A01N
B41M
H04B
C08L
B05B
F17D
B07C
D06B
H01L
H04N
H05K
F01D
B01F
A61B
A01K
B65G
B60W
G06K
B29K
F21V
F42B
G07C
B29B
H05B
A63F
A41C
Query:
SELECT COUNT(*) AS "patent_count"
    FROM PATENTS.PATENTS.PUBLICATIONS
    WHERE "country_code" = 'US'
      AND "kind_code" = 'B2'
      AND "grant_date" BETWEEN 20220601 AND 20220831;
Answer:
patent_count
201
Query:
SELECT t."publication_number", ipc_u.value:"code"::STRING AS "first_ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => ARRAY_SLICE(t."ipc", 0, 1)) ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,first_ipc_code
US-11383851-B2,B64D31/04
US-11376109-B2,B65B55/18
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N20/10
US-11426701-B2,B29B7/48
US-11412923-B2,A61B8/12
US-11384000-B2,C02F9/00
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/28
US-11407174-B2,B29C64/30
US-11376718-B2,F04B19/22
US-11427279-B2,B62K11/14
US-11424341-B2,H01L21/3065
US-11379973-B2,G06V20/64
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,G06F12/14
US-11375403-B2,H04L47/36
US-11363222-B2,H04N9/04
US-11380354-B2,G11B5/31
US-11392814-B2,G06N7/00
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11421276-B2,C12Q1/6883
US-11414872-B2,B65H16/00
US-11378383-B2,G06F30/13
US-11401428-B2,C09D7/63
US-11422402-B2,B60R11/02
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,G05B13/02
US-11407775-B2,C07H1/06
US-11422371-B2,G02B27/02
US-11354278-B2,G06F16/182
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/00
US-11401234-B2,C07B59/00
US-11400486-B2,C09D175/02
US-11397228-B2,G01N22/02
US-11353321-B2,G03F7/20
US-11363536-B2,H04W72/54
US-11400138-B2,A61K8/65
US-11393967-B2,H01L29/40
US-11353839-B2,H05B44/00
US-11389955-B2,F15B9/09
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11404307-B2,H01L23/00
US-11407307-B2,B60K17/02
US-11410365-B2,G06F3/0482
US-11386741-B2,G07F17/34
US-11370085-B2,B24C3/06
US-11385163-B2,G01N15/14
US-11391553-B2,B23D77/14
US-11430607-B2,H01G4/012
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/145
US-11407574-B2,B65G17/18
US-11393841-B2,H01L21/28
US-11417842-B2,C08F212/14
US-11375809-B2,A47B37/00
US-11385961-B2,G06F11/30
US-11363375-B2,H04R3/04
US-11419318-B2,A61K49/00
US-11386886-B2,G10L15/22
US-11352686-B2,C22C21/08
US-11352465-B2,C08L9/02
US-11391059-B2,E05B13/10
US-11380765-B2,H01L21/02
US-11376319-B2,A61K39/00
US-11368189-B2,G06F21/60
US-11408566-B2,F17D5/00
US-11386539-B2,H01L21/67
US-11373404-B2,G06T7/12
US-11421011-B2,A61K9/51
US-11384463-B2,D06B23/02
US-11413537-B2,A63F11/00
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/36
US-11374401-B2,H02M7/5387
US-11397326-B2,G02B27/01
US-11412974-B2,A61B5/372
US-11423376-B2,G06V30/412
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/00
US-11365729-B2,F16K17/04
US-11419647-B2,A61B/
US-11375912-B2,H02N11/00
US-11416109-B2,H04L51/02
US-11420401-B2,B29C70/38
US-11360211-B2,B60W30/095
US-11398338-B2,H01F27/255
US-11412422-B2,H04W36/08
US-11354655-B2,G06F16/955
US-11387213-B2,H01L21/56
US-11375479-B2,H04W4/00
US-11405208-B2,H04L9/32
US-11420656-B2,B60W30/14
US-11378746-B2,G06F17/16
US-11375241-B2,H04N19/85
US-11380566-B2,H01L21/67
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/109
US-11371080-B2,C12Q1/6876
US-11429930-B2,G16H20/40
US-11402589-B2,G02B6/44
US-11356221-B2,H04W48/10
US-11382847-B2,A61K8/46
US-11407172-B2,B29C64/393
US-11400006-B2,F16B2/12
US-11391070-B2,G08B13/14
US-11423539-B2,A61B6/00
US-11388673-B2,H04W76/14
US-11398087-B2,G06T7/20
US-11424563-B2,H01R12/52
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/72
US-11406524-B2,A61G13/12
US-11390722-B2,C08J7/12
US-11389656-B2,A61N1/36
US-11374186-B2,H10K99/00
US-11369979-B2,B08B13/00
US-11391381-B2,F16K11/22
US-11357437-B2,A61B5/287
US-11376346-B2,A61L27/58
US-11376070-B2,A61B90/00
US-11352335-B2,C07D277/36
US-11401923-B2,F16K3/26
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,B60K26/02
US-11401219-B2,B01J38/02
US-11392816-B2,H01Q1/22
US-11351045-B2,A61F2/88
US-11392648-B2,G10L15/26
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/177
US-11424884-B2,H04L5/00
US-11422523-B2,G05B19/042
US-11396572-B2,C08F20/16
US-11407017-B2,B21F1/00
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/33
US-11370724-B2,B01J37/02
US-11416001-B2,G06F17/00
US-11396732-B2,E02D27/04
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/395
US-11399950-B2,A61F2/30
US-11381283-B2,H04W72/12
US-11409410-B2,G06F9/54
US-11404853-B2,H02B1/36
US-11367437-B2,G10L17/00
US-11428911-B2,G02B27/00
US-11422364-B2,G02B26/08
US-11398593-B2,H01L29/06
US-11384177-B2,C08F20/56
US-11354261-B2,G05B19/042
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/02
US-11365041-B2,F04B33/00
US-11418715-B2,G06F3/01
US-11396506-B2,C07D519/00
US-11386278-B2,G07G1/00
US-11372388-B2,G05B19/042
US-11374644-B2,H04B17/327
US-11387209-B2,H01L23/31
US-11428067-B2,E21B36/00
US-11418602-B2,H04L67/141
US-11373466-B2,G07C5/08
US-11382705-B2,A61B34/30
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06F1/14
US-11393239-B2,G01N29/34
US-11353091-B2,F16H3/66
US-11372255-B2,G06F3/03
US-11382018-B2,H04W88/02
US-11412960-B2,A61B5/00
US-11351355-B2,A61M60/894
US-11364500-B2,B01L3/00
US-11430084-B2,G06F3/01
US-11421980-B2,G01S17/06
US-11374056-B2,H01L45/00
US-11382760-B2,A61F2/46
US-11413710-B2,B23K9/173
US-11387621-B2,H01S3/23
US-11373280-B2,G06T5/00
US-11423146-B2,G06F21/54
US-11400365-B2,A63F13/24
US-1141
Query:
SELECT t."publication_number", ipc_u.value:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
      AND ipc_u.value:"first"::BOOLEAN = TRUE
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-11423539-B2,A61B6/00
US-11388673-B2,H04W4/00
US-11398087-B2,G06V20/10
US-11424563-B2,H01R13/40
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/42
US-11396572-B2,C08F236/18
US-11407017-B2,B21D11/12
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/00
US-11370724-B2,C07C2/82
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/52
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/00
US-11399950-B2,A61F2/42
US-11381283-B2,H04B7/0417
US-11409410-B2,G06F3/0481
US-11373404-B2,H04N7/10
US-11421011-B2,C07K14/54
US-11384463-B2,D06B23/02
US-11413537-B2,A63F9/24
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/26
US-11374401-B2,H02H7/122
US-11397326-B2,G02B27/01
US-11412923-B2,A61B1/32
US-11384000-B2,C02F11/15
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/00
US-11407174-B2,B29C64/30
US-11376718-B2,B25B13/48
US-11427279-B2,B62K23/02
US-11424341-B2,H01L21/02
US-11379973-B2,G06T7/00
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,H04L67/00
US-11375403-B2,H04W28/06
US-11363222-B2,H04N5/369
US-11380354-B2,G11B5/48
US-11392814-B2,G06K19/07
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/142
US-11407574-B2,B65G17/18
US-11393841-B2,H10B43/30
US-11393841-B2,H10B43/27
US-11417842-B2,H10K99/00
US-11375809-B2,A47B83/04
US-11385961-B2,G06F11/00
US-11351045-B2,A61F2/04
US-11392648-B2,G06F16/90
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/00
US-11424884-B2,H04W72/04
US-11422523-B2,G05B19/042
US-11407775-B2,C07F9/6584
US-11422371-B2,G02B27/14
US-11354278-B2,G06F17/00
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/12
US-11401234-B2,C07C225/36
US-11400486-B2,B05D7/00
US-11397228-B2,G01R33/00
US-11353321-B2,G01B11/27
US-11363536-B2,H04W52/24
US-11400138-B2,A61K38/39
US-11393967-B2,H01L29/40
US-11353839-B2,H05B47/10
US-11371080-B2,C12Q1/6876
US-11429930-B2,G06Q10/10
US-11402589-B2,G02B6/38
US-11356221-B2,H04L5/00
US-11382847-B2,A61K8/34
US-11407172-B2,B29C64/153
US-11400006-B2,A61G13/10
US-11391070-B2,E05B73/00
US-11367437-B2,G10L15/20
US-11428911-B2,G02B15/14
US-11422364-B2,G02B27/00
US-11398593-B2,H10N60/01
US-11384177-B2,C08J3/07
US-11354261-B2,G06F3/00
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/04
US-11365041-B2,B65D81/20
US-11418715-B2,H04N5/232
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11386539-B2,G06T7/00
US-11421276-B2,C12Q1/6883
US-11414872-B2,E04D15/06
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/65
US-11422402-B2,G02F1/1335
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,B07C5/36
US-11389955-B2,G06F17/00
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/00
US-11404307-B2,H01L21/768
US-11407307-B2,B60K23/04
US-11410365-B2,G06T13/40
US-11386741-B2,G07F17/32
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/232
US-11376109-B2,A61F2/00
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N3/08
US-11426701-B2,B22C5/00
US-11383851-B2,B64D31/04
US-11363375-B2,H04R3/00
US-11419318-B2,A01K67/027
US-11357437-B2,A61B5/339
US-11376346-B2,A61L27/36
US-11376070-B2,A61B18/20
US-11352335-B2,C07D277/36
US-11401923-B2,F04B27/18
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,G05G1/38
US-11401219-B2,C07C1/24
US-11392816-B2,G06K19/077
US-11386886-B2,G10L15/18
US-11352686-B2,C22F1/047
US-11352465-B2,C08J3/22
US-11391059-B2,E05B13/00
US-11380765-B2,H01L29/15
US-11376319-B2,A61K39/145
US-11404853-B2,B60K6/36
US-11412974-B2,A61B5/16
US-11423376-B2,G06Q20/14
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/12
US-11365729-B2,F04B49/22
US-11419647-B2,A61B17/80
US-11375912-B2,H02N11/00
US-11430084-B2,G06T3/40
US-11421980-B2,G01B11/10
US-11374056-B2,H01L27/24
US-11382760-B2,A61F2/44
US-11413710-B2,B23K35/00
US-11387621-B2,H01S3/13
US-11373280-B2,G06T7/00
US-11423146-B2,G06F21/56
US-11400365-B2,A63F13/24
US-11411015-B2,H10B41/27
US-11411015-B2,H10B41/20
US-11373466-B2,G07C5/08
US-11382705-B2,B25J17/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06J1/02
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11372255-B2,G02B27/09
US-11420401-B2,B29C70/38
US-11360211-B2,G01S13/931
US-11398338-B2,H01F27/25
US-11412422-B2,H04W36/00
US-11354655-B2,G06Q20/38
US-11387213-B2,H01L21/78
US-11375479-B2,H04W4/00
US-11420656-B2,B60W30/14
US-11378746-B2,G02B6/14
US-11375241-B2,H04N19/00
US-11380566-B2,G05B19/19
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/159
US-11412231-B2,H04N19/577
US-11382018-B2,H04W36/32
US-11412960-B2,A61B5/145
US-11351355-B2,A61M60/268
US-11406524-B2,A61F5/00
US-11390722-B2,C08J7/18
US-11389656-B2,A61N1/36
US-11374186-B2,H01L31/044
US-11369979-B2,B05B3/04
US-11391381-B2,F16K1/52
US-11396506-B2,C07D471/02
US-11386278-B2,G06K7/10
US-11372388-B2,G05B19/042
US-11374644-B2,H04B7/08
US-11387209-B2,H01L23/00
US-11428067-B2
Query:
SELECT SUBSTR(ipc_u.value:"code"::STRING, 1, 4) AS "ipc4_code", COUNT(*) AS "code_count"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
         LATERAL FLATTEN(input => t."ipc") ipc_u
    WHERE t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20220601 AND 20220831
    GROUP BY SUBSTR(ipc_u.value:"code"::STRING, 1, 4)
    ORDER BY "code_count" DESC
    LIMIT 1000;
Answer:
ipc4_code,code_count
G06F,62
H01L,59
A61B,51
H04N,36
H04L,34
H04W,34
A61K,25
G06T,24
G06V,23
G02B,19
E21B,17
B29C,16
G02F,14
A61M,14
B01J,14
H04B,13
C08F,13
G16H,12
A61F,12
G06K,11
B23K,10
F04B,10
H05B,10
G05B,9
H10B,9
A61L,9
C09D,9
G06N,9
B25J,8
G06Q,8
G01B,8
B01F,8
A61P,8
H04R,8
G10L,8
H01G,8
G01S,7
B60K,7
B65D,7
B05D,7
C07C,7
B65B,7
B24C,6
B33Y,6
A63F,6
G01N,6
A61N,6
B60R,6
B21D,5
F01M,5
C22C,5
A47B,5
F16H,5
F01N,5
E05B,5
C08G,5
C11D,5
C12N,5
C08J,5
H01S,4
E02D,4
G07C,4
H02J,4
B82Y,4
B60W,4
C07K,4
B66C,4
F16K,4
F15B,4
H01R,4
B62D,4
F02B,4
F17D,4
A61G,4
C07D,4
F16B,4
B65H,3
A47F,3
G05G,3
G11B,3
G05D,3
B65G,3
G08B,3
A41H,3
C08K,3
C02F,3
F21V,3
F21Y,3
C08L,3
C09K,3
B07C,3
G01C,3
B64C,3
B43K,3
B32B,3
F02M,3
C12Q,3
G01R,3
C07H,3
H10N,2
H10K,2
H02B,2
B62K,2
A01K,2
D06C,2
G07F,2
G01D,2
H02M,2
H02N,2
D06B,2
C06B,2
F01D,2
H01Q,2
B05B,2
B64D,2
H03F,2
G07G,2
B60H,2
F02F,2
G03F,2
H01F,2
B60Q,2
H02H,2
E06B,2
A63B,2
B22F,2
F21S,2
A41C,2
B08B,2
H04M,2
E04C,2
A41D,2
A01N,2
C01G,1
B21F,1
C12P,1
G09B,1
A62C,1
B25B,1
E04B,1
B60S,1
B01L,1
B29B,1
C07B,1
G03B,1
A61Q,1
H05K,1
H02P,1
B29K,1
G06J,1
B63H,1
F42B,1
A01B,1
B41M,1
G09F,1
B23P,1
A44B,1
C22F,1
B44C,1
B63G,1
D06M,1
G01M,1
E04D,1
B66F,1
H04J,1
B23D,1
C07F,1
G09G,1
B22C,1
D06Q,1
End Exploring Related Columns
Task: What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: ```sql
SELECT "COLUMN_NAME" FROM DATABASE.SCHEMA.TABLE WHERE ... ``` (Adjust "DATABASE", "SCHEMA", and "TABLE" to match actual names, ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
Most_common_4_digit_IPC_code
code:str
(Attention: answer in one row)
```

As I do not have access to the specific data on US B2 utility patents granted from June to August 2022, I cannot provide the exact most common 4-digit IPC code for that period..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book"
However, if the string is not decided, you may use fuzzy query and ignore upper or lower case. e.g. Get articles that mention "education".
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.

