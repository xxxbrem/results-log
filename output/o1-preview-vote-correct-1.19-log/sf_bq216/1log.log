2025-01-20 06:15:24 - openai._base_client - INFO - Retrying request to /chat/completions in 0.460765 seconds
2025-01-20 06:16:35 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:16:35 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:16:35 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:16:35 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:16:37 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 06:16:37 - snowflake.connector.connection - INFO - closed
2025-01-20 06:16:37 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:16:37 - root - INFO - SQL:
-- 1. Retrieve the filing date of the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "publication_number" = 'US-9741766-B2'
LIMIT 1000;
Results:
publication_number,filing_date
US-9741766-B2,20160511

2025-01-20 06:16:37 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:16:37 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:16:37 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:16:38 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:16:38 - snowflake.connector.connection - INFO - closed
2025-01-20 06:16:38 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:16:39 - root - INFO - SQL:
-- 2. List distinct filing dates to understand the date format
SELECT DISTINCT "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
Results:
Too long, hard cut:
filing_date
20000526
20090902
20050907
19010211
20140305
19541018
19790803
19770511
19490826
19750821
19840921
20160628
20010523
19010708
20120622
19960405
20150722
19520115
20040426
20021226
20110830
20131002
20010917
19910805
19971120
19960108
19780516
19940623
20160203
19890623
19851031
19961031
20120703
19860812
20140908
19490720
20031028
20130426
19751118
19871223
20000608
19760920
19860630
19970905
19831118
20080610
20110130
20131112
20001212
19900613
20031001
20101217
20111213
20120316
20090618
20120319
19960524
20040624
20121019
20061019
20120618
19960411
20120406
19730528
19221114
20160711
19680708
19450827
20170103
19801217
19890131
19920708
20170515
20131231
20040928
20111031
20150528
19870519
19900707
20010630
20090710
19960429
20090116
20020402
20011029
19791122
19840207
19551006
20150613
20080430
19980218
19771229
20100816
20090123
19980608
20060911
20000814
20000706
20030522
19730804
19760127
19940226
20041012
19730518
20070425
19860814
20000627
19790419
19890316
19810806
19880321
19100421
19810622
19900228
19800701
19711026
19621017
20070507
20100121
19951101
19841115
19910409
19701030
19950313
20110922
19840601
19910823
20030421
19571223
20080704
20010420
19990730
19731001
19950921
20080306
20080326
19840114
20020313
20061226
20050318
19720217
20060113
19920221
19901024
19681115
20051116
20040915
20151203
20141116
19931112
19950706
19860929
19770711
20040415
20031007
20100719
20010103
19730329
19961128
19690313
19970818
19800331
19680731
19790122
19680502
19341003
19971226
19640820
19330225
19761122
19830321
19751117
19990520
19930222
19960201
19980825
19840430
19550720
20070902
19510206
19591209
19720623
20020228
20160412
19880526
19890608
19801112
19720804
19311205
19840319
19420109
19830413
19400727
19730322
19710819
19860411
19750508
19711221
19231113
19260225
19910314
19510806
19870921
19710830
19550412
19710628
19880129
19971003
19620428
19770901
19570318
19870202
20020303
19870206
20000708
19940113
19900222
19990126
19750630
19450202
19540629
19110811
19810227
19730502
20050702
20090101
19960618
19750805
19571211
19511221
19640612
19941004
19970401
19910403
19680123
19880208
19780524
19780608
19920417
19861206
19880401
19900122
19260823
19710323
19750820
19941225
19830622
19981128
19750115
19540810
19780629
19910301
19920515
19871103
19431026
19360530
20020206
19920507
19860521
19840702
19590714
19580327
19590420
19720317
19300901
19251016
19521021
19650928
19920711
19711230
19250601
19801104
19750123
19680113
19451107
19620510
19491008
19790116
19530724
19731103
18970405
19410310
19050703
19210629
19780904
19791201
19640930
19540319
19531218
19500920
19710705
19060718
20121111
19230707
19270623
19620824
19671214
19691229
19810418
19950321
19091220
19550801
19560510
19650503
19431012
18980822
19940112
19721026
19360721
19900821
19660221
20120916
19600201
20120930
19970102
19880207
19120327
19421130
19710605
19811002
19970218
19080808
19650115
19670111
20001112
19961102
19710826
19661031
19380713
19690908
19670911
19730117
19831109
19560211
19171128
19230210
20011215
19010610
19180508
19810419
19020128
19190325
19700318
19500407
19220430
19051031
19140908
19170425
19250926
19150430
19740313
20040812
19960322
19790705
19880924
20121224
20121122
20080331
20011108
20110504
20110503
19850202
20050523
19921102
20110826
20091023
19980407
20000705
19910911
20120606
20100527
19960718
19870218
20100716
20161027
20061109
20080122
20160901
20101028
20010622
20120621
19930714
20070920
20000505
19901218
19980507
19760611
20031016
20070122
19951215
20061027
20160613
20140910
20080807
19960930
20030220
20121205
20121011
19930817
20090617
19890926
19950512
20091021
20130404
20070503
19460116
19380516
19891003
19841017
20001213
19641101
19830919
20020204
20011004
20160612
20080516
19370811
19930430
19910913
19420916
20011129
19751002
20010918
20020610
19760910
19890519
20150609
20090826
19860120
19770122
20100818
19950502
19970306
19980206
19950315
19710601
20120718
20080821
19950301
19830510
19790216
19910122
20030723
20110701
20120405
19900308
19540610
19650907
20080318
19830930
20060602
19681223
19361230
19840903
19810302
19761008
19991109
19930906
19820215
20031127
19651005
19260322
19990111
20170228
20120727
19540205
19880719
19820713
19900614
19930830
19890421
19980720
20080121
19771222
19750131
20110303
19660301
19891109
20060310
20040211
20140403
19861009
19881227
19840109
19660629
19750303
19670116
19880714
19700119
19540824
19961214
20040913
19690424
19790731
19980131
20050521
19871013
19910516
20140102
19651112
19860412
20011025
20080915
20070825
19921027
20070206
19530722
19580324
20140728
20121117
20130517
19810610
19860514
20161215
19821218
19870709
19801114
19940927
19831129
19670626
19690121
19491101
19640804
20110913
19640406
19690404
19550414
20030607
20151116
20020314
20100327
19621210
20100215
19980826
19971021
19700310
19800722
20000322
19640626
19921214
19860806
20021002
19750310
19930513
19510831
19650604
20040826
19950209
19970721
19660603
19930220
19380527
19870212
19730425
19

2025-01-20 06:16:39 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:16:39 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:16:39 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:16:40 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:16:40 - snowflake.connector.connection - INFO - closed
2025-01-20 06:16:40 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:16:40 - root - INFO - SQL:
-- 3. List distinct publication numbers from PUBLICATIONS table
SELECT DISTINCT "publication_number"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
Results:
Too long, hard cut:
publication_number
JP-5053684-B2
JP-S5684106-A
KR-20160059796-A
CN-202092979-U
CA-2006967-A1
FR-2130213-B1
FR-2868116-B1
GB-339456-A
CN-105335590-A
NL-284445-A
DE-1553730-B2
CA-2667102-C
JP-2010275935-A
RU-2267236-C2
JP-4662004-B2
JP-H0357480-Y2
KR-100969318-B1
KR-100849922-B1
DE-10123875-B4
JP-2011066261-A
US-2004165077-A1
US-3249349-A
US-2004011690-A1
EP-0189388-A2
US-9630754-B2
CN-101812618-B
US-2011195666-A1
US-2010096432-A1
GB-9503212-D0
JP-H07279784-A
KR-20170051931-A
CN-106682300-A
CN-205388666-U
CN-101156053-A
CN-101504685-A
CN-202388867-U
CA-1036681-A1
NL-7205701-A
CN-201015298-Y
RU-2004127910-A
US-924209-A
DE-580257-C
CN-102822600-A
KR-20020051544-A
EP-1187505-B1
KR-20040007916-A
JP-H07260431-A
DE-1653265-C3
CN-101566251-A
US-1329943-A
US-2005091687-A1
JP-H0738853-U
KR-960003907-Y1
FR-835817-A
ES-486398-D0
JP-4093017-B2
JP-1313752-C
US-2017255023-A1
JP-S59141929-U
JP-929704-C
JP-S52156774-U
DE-60128510-D1
JP-2000194696-A
FR-2276505-A1
JP-5388616-B2
JP-2015209314-A
CA-2566168-A1
CN-105194826-A
CN-205693099-U
JP-2003282245-A
JP-3875139-B2
CN-2389351-Y
ES-469999-A1
GB-0718937-D0
CN-101586922-A
FR-1328025-A
JP-2006000192-A
DE-845656-C
DE-69124571-D1
EP-1063011-B1
JP-S4866518-A
EP-0973641-B2
EP-1986906-B1
JP-H09280686-A
CA-2519820-A1
JP-H0943829-A
CN-1360554-A
CA-879174-A
JP-2004224947-A
JP-5864707-B2
US-6369213-B1
CN-2825382-Y
CA-2751513-A1
CN-205399250-U
CA-659854-A
JP-H0429352-A
CN-103338004-A
US-3493475-A
JP-H037330-B2
DE-1121417-B
FR-2850537-A1
US-2016112458-A1
US-3890908-A
US-7404735-B2
WO-2014010966-A1
DE-19941460-A1
CN-103741202-A
JP-2013188488-A
GB-2466165-A
CN-103221151-A
US-3860335-A
US-2010185758-A1
US-2005249213-A1
JP-H01120108-U
EP-0615811-A3
US-D324653-S
WO-2006110114-A1
US-5105768-A
JP-H04501950-A
CN-101117326-B
US-4217994-A
EP-0355602-A3
WO-2011117274-A1
US-2006280471-A1
CN-102435788-A
US-8701310-B1
EP-0552404-A1
JP-2007527314-A
EP-2362744-A1
US-2013008848-A1
US-2006113993-A1
EP-1254018-A1
US-3082849-A
EP-1700729-A1
US-2014200747-A1
CN-106197969-A
EP-2490605-A1
US-6048415-A
CN-102737224-A
US-5258689-A
DE-3413421-A1
WO-2008156383-A1
JP-S5043774-A
DE-10349448-B4
WO-03103696-A1
WO-0054153-A3
WO-0178466-A1
US-6022949-A
KR-100956317-B1
US-2007229004-A1
JP-H05237953-A
EP-1043858-B1
FR-1340609-A
DK-273690-A
US-2192891-A
ES-171300-Y
KR-20170078596-A
JP-S4929692-Y1
KR-20000050701-A
JP-S4852312-U
JP-2532499-B2
JP-2001520620-A
DE-602004031872-D1
US-7885444-B2
EP-2215338-B1
KR-870001774-Y1
JP-4259528-B2
DE-60109966-D1
KR-20090012973-A
JP-2833240-B2
EP-2873178-A1
US-1718229-A
JP-S5296812-U
DE-1307240-U
US-8400024-B2
US-7030821-B2
KR-20070001386-A
KR-890001809-B1
CN-204094089-U
US-7818867-B1
US-2003236749-A1
US-3672684-A
EP-1865519-A1
GB-2305324-B
KR-100904513-B1
EP-0314218-A1
JP-2016035691-A
US-2011019427-A1
US-2008115021-A1
JP-2014529474-A
CN-103687275-A
US-4875403-A
US-3250251-A
EP-1180394-A1
US-2009023113-A1
DE-4323983-C1
US-2681667-A
US-8255845-B2
EP-0602732-A3
JP-2800455-B2
US-9582584-B2
DE-102009033748-B4
JP-2010536821-A
EP-0519822-A1
JP-S6232075-A
EP-2119530-A1
CN-103965578-A
US-2986294-A
US-5071350-A
DE-1216508-B
DE-3347195-A1
WO-9940937-A2
WO-03075714-A1
US-2011294722-A1
US-2010053828-A1
EP-0384405-A3
CN-104692477-A
US-9313030-B2
US-2015209677-A1
US-2012320253-A1
US-2001024301-A1
DE-2712582-A1
US-3417621-A
EP-1542233-A1
CN-104410598-A
US-2005259588-A1
RU-2198919-C1
EP-0933106-A2
US-4495225-A
JP-H0378086-B2
CN-102674963-A
CN-103232390-B
JP-S61164450-A
CN-103969947-A
FR-3005035-A1
EP-0759589-A2
CN-100586267-C
WO-2005107018-A1
US-2009268032-A1
US-2013275517-A1
JP-S631363-U
WO-2014117094-A2
WO-2017045079-A1
US-8925068-B2
US-2011196299-A1
EP-1443046-A1
US-2004101305-A1
US-3879287-A
KR-890000405-B1
WO-0100405-A3
WO-2007025193-A1
US-6100478-A
JP-2010275653-A
US-7872544-B2
CN-102567190-A
DE-1206252-B
CN-100572615-C
RU-2476276-C2
JP-2015525258-A
DE-19710252-A1
US-2009162255-A1
WO-2004046687-A2
JP-S5381718-U
JP-WO2013128568-A1
US-4662552-A
US-4009782-A
JP-H0246961-A
RU-2499633-C1
EP-1923371-A1
JP-S5847087-U
CN-104846818-A
US-2005106948-A1
WO-2005119380-A2
WO-2009070095-A1
GB-2116938-A
US-4839945-A
FR-2873725-A1
CN-100534900-C
EP-1183873-A1
CN-1965694-B
DE-19511997-C1
JP-S6233554-A
US-5384556-A
DE-2932194-A1
US-8957970-B1
DE-3319063-C1
CN-102234769-B
CN-104752381-A
FR-2714034-A1
CN-101817624-A
CN-101592546-B
JP-H02143271-U
EP-2563254-B1
JP-3081098-B2
DE-1944057-U
JP-H04336828-A
KR-20120134763-A
US-2011058668-A1
JP-S5415166-A
EP-0188265-B1
US-1908094-A
CN-2170941-Y
ES-231700-A1
CN-85101252-B
JP-S643829-A
CN-86208952-U
DE-102014006671-A1
DE-2257393-B2
JP-3413113-B2
CN-205738201-U
ES-485757-A1
FR-63581-E
DE-662163-C
JP-S5022099-Y2
CA-2906009-A1
CA-2747673-C
KR-100192981-B1
DE-1759007-U
JP-S5396406-A
JP-1280240-C
US-2010230149-A1
GB-2211581-B
US-4335750-A
RU-2086441-C1
GB-2244286-A
KR-101291265-B1
EP-1620713-A2
DE-2167255-C3
CN-104090410-B
CN-104582314-A
JP-H03258170-A
WO-2004073656-A2
KR-100994631-B1
US-2015185943-A1
JP-2015518891-A
CN-104191744-A
US-2010250187-A1
US-7825940-B1
CN-103173652-A
US-7260779

2025-01-20 06:16:40 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:16:40 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:16:40 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:16:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 06:16:42 - snowflake.connector.connection - INFO - closed
2025-01-20 06:16:42 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:16:42 - root - INFO - SQL:
-- 4. Retrieve embeddings for the target patent from ABS_AND_EMB table
SELECT "publication_number", "embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
WHERE "publication_number" = 'US-9741766-B2'
LIMIT 1000;
Results:
publication_number,embedding_v1
US-9741766-B2,"[
  -9.759014000000001e-02,
  -7.865134600000000e-02,
  -1.022462700000000e-01,
  -9.834030000000001e-02,
  -2.579060200000000e-01,
  -8.247189000000001e-02,
  1.374225900000000e-02,
  -1.229494800000000e-01,
  8.081952500000000e-02,
  2.691578000000000e-02,
  -1.114439740000000e-01,
  1.340977100000000e-01,
  7.433381000000000e-02,
  5.153231300000000e-03,
  -1.075460760000000e-01,
  -1.806273000000000e-02,
  1.831943100000000e-01,
  -2.954358000000000e-02,
  -6.046254600000000e-02,
  7.859522000000000e-05,
  2.566466300000000e-01,
  -2.432912800000000e-02,
  -1.067616100000000e-01,
  1.014580600000000e-01,
  -1.380856800000000e-01,
  -7.149687400000000e-02,
  2.085472300000000e-01,
  -1.329061700000000e-01,
  4.087418700000000e-02,
  3.374565800000000e-02,
  -7.300706999999999e-02,
  -5.706553500000000e-02,
  1.701403400000000e-02,
  -4.457178300000000e-02,
  -8.327014000000001e-02,
  -1.801684000000000e-01,
  5.113800200000000e-02,
  -3.076108700000000e-01,
  1.580761500000000e-01,
  -3.533404300000000e-02,
  4.311743400000000e-02,
  -1.017805560000000e-01,
  2.070724500000000e-01,
  -8.408691000000000e-02,
  -3.405414800000000e-01,
  4.591350600000000e-02,
  -9.560194599999999e-02,
  1.438113600000000e-01,
  9.557541000000000e-02,
  -3.235852300000000e-02,
  -1.889847800000000e-02,
  2.546579800000000e-01,
  -7.303727400000000e-02,
  1.090229450000000e-01,
  -3.175191000000000e-02,
  5.433388400000000e-02,
  1.566456700000000e-01,
  7.496597600000000e-02,
  -2.029408200000000e-01,
  5.405708800000000e-02,
  6.993917400000001e-02,
  2.129010400000000e-01,
  6.955723700000000e-03,
  3.396455000000000e-02
]"

2025-01-20 06:16:42 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:16:42 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:16:42 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:16:43 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:16:43 - snowflake.connector.connection - INFO - closed
2025-01-20 06:16:44 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:16:44 - root - INFO - SQL:
-- 5. List distinct publication numbers from ABS_AND_EMB table
SELECT DISTINCT "publication_number"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000;
Results:
Too long, hard cut:
publication_number
US-5380093-A
US-7321997-B2
US-5709364-A
US-5234220-A
GB-2065897-A
JP-2004331024-A
FR-2728459-A1
US-4084473-A
US-2007142784-A1
US-8080972-B2
US-7562162-B2
US-1859352-A
US-4987146-A
US-7515147-B2
US-6069028-A
DE-3731079-A1
WO-2010046108-A1
US-6094878-A
US-7204695-B1
US-4255347-A
US-2836628-A
US-2002191011-A1
US-2953814-A
US-6123147-A
US-5121838-A
US-6337325-B1
JP-2001185371-A
US-5739341-A
US-5000131-A
US-4658947-A
US-5344206-A
US-2004005320-A1
US-2007077907-A1
US-5877704-A
US-5217114-A
US-5334149-A
US-5371652-A
US-6077083-A
US-6556608-B1
US-2014092740-A1
US-7391423-B1
US-5663195-A
US-3421681-A
US-8321393-B2
US-2003200674-A1
JP-2000221821-A
US-7473818-B2
US-4124805-A
US-7157704-B2
US-5342403-A
WO-2005002626-A2
US-4546881-A
US-6671421-B1
JP-H09312942-A
US-2762648-A
US-2005125217-A1
US-4636440-A
US-4208956-A
US-2014009561-A1
WO-9522922-A1
US-5016191-A
US-4387880-A
US-5459477-A
US-6120939-A
US-2004063833-A1
US-3884356-A
US-2013042056-A1
WO-9413258-A1
US-2004197350-A1
US-7270947-B2
US-7295399-B2
US-7676869-B2
US-7464853-B2
US-8806576-B1
WO-9962902-A1
DE-10139821-A1
DE-29902790-U1
JP-H01150501-A
CN-101097225-A
CN-104043471-A
DE-19756489-A1
JP-H09512386-A
JP-2003193711-A
JP-2006278905-A
JP-2011188084-A
US-2004202305-A1
US-2009007121-A1
US-2010175821-A1
WO-2009034760-A1
KR-20040098279-A
US-2001015098-A1
US-2006030578-A1
US-2010266354-A1
US-2013140818-A1
US-2014235629-A1
US-2008046024-A1
US-2010139858-A1
US-2045098-A
US-2166003-A
US-2800961-A
US-2807705-A
US-4487919-A
US-5246025-A
US-5352186-A
US-5852412-A
DE-2252080-A1
DE-3048572-A1
EP-0580206-A1
EP-2333826-A1
FR-2257346-A1
JP-H0381903-A
US-7539899-B1
US-8111315-B2
WO-0244991-A1
CN-101676430-A
JP-H10125721-A
JP-H11350123-A
JP-2012125449-A
US-2003087916-A1
US-2007140670-A1
US-2008184919-A1
US-2010178173-A1
US-2010222111-A1
DE-2651037-A1
JP-H09157258-A
JP-2004183196-A
US-2004089490-A1
KR-20060022437-A
US-2003144461-A1
EP-2133548-A1
JP-2004068494-A
JP-H05231035-A
KR-20040057408-A
CN-203887370-U
CN-205833023-U
CN-204158328-U
CN-205330882-U
CN-202244198-U
CN-204376441-U
CN-204416977-U
CN-205619516-U
CN-206184465-U
CN-205962062-U
CN-203900903-U
CN-202816725-U
CN-206164780-U
CN-202800484-U
CN-203227333-U
CN-206320890-U
CN-204323957-U
CN-204719087-U
CN-205456717-U
CN-205113105-U
CN-203839792-U
CN-205211122-U
CN-205412468-U
CN-203948988-U
CN-206031980-U
CN-203633264-U
CN-203628021-U
CN-206271194-U
CN-203800675-U
CN-203948604-U
CN-205677215-U
CN-203947499-U
CN-204398437-U
CN-203895636-U
CN-205689248-U
CN-203519338-U
CN-202343449-U
CN-201809807-U
CN-204555762-U
CN-205760522-U
CN-204875580-U
CN-204383207-U
CN-204124996-U
CN-204585318-U
CN-206133642-U
CN-202981229-U
CN-205914843-U
CN-202729563-U
CN-204079515-U
CN-205442322-U
CN-202579989-U
CN-205541858-U
CN-203584299-U
CN-205760650-U
CN-203167337-U
CN-204537337-U
CN-202733264-U
CN-206202011-U
CN-202358091-U
CN-202354422-U
US-2012213034-A1
US-2007023547-A1
JP-2006080251-A
US-2274428-A
US-2012127107-A1
US-2010022276-A1
DE-19845030-A1
US-6312747-B1
US-6318753-B1
US-5802653-A
US-3584779-A
US-5385163-A
US-5935910-A
KR-100964296-B1
US-9104529-B1
US-3393743-A
US-3450891-A
US-2005167495-A1
EP-1652916-A1
US-122299-A
US-2003221424-A1
US-6201785-B1
US-6698044-B2
US-2004170439-A1
US-2005246095-A1
US-2010066124-A1
US-2012082152-A1
US-2006224578-A1
US-6951454-B2
US-5108196-A
US-2322370-A
US-5220450-A
US-5186169-A
CN-102169017-A
US-2004061853-A1
US-2002091482-A1
US-2010060571-A1
US-2011199045-A1
US-5475469-A
US-2006118236-A1
US-6326315-B1
US-5878907-A
US-6202186-B1
US-3514887-A
US-6429674-B1
JP-2008060375-A
US-6662189-B2
US-5706331-A
US-2872397-A
US-6436738-B1
US-6281936-B1
US-3433155-A
US-2006112577-A1
US-8599914-B1
US-5054084-A
US-2008125161-A1
EP-0176989-A1
US-6685909-B2
EP-1293481-A3
EP-0300867-A3
EP-0927859-A3
EP-0335033-A3
EP-0130834-A3
EP-1659333-A3
EP-2001260-A3
EP-0642115-A3
EP-0085579-A3
EP-0281708-A3
EP-2375261-A3
EP-2450737-A3
DE-2250504-B2
DE-2540959-B2
DE-1580466-B2
DE-2854372-B2
NL-94855-C
NL-109401-C
NL-84601-C
DE-2001890-B2
DE-2135425-B2
DE-2138565-B2
NL-62075-C
NL-2358-C
ES-2190699-B1
ES-2384247-B1
NL-285019-A
JP-S5727418-B1
JP-S5141457-B1
EP-1784026-A8
GB-2306338-A8
ES-2021396-B3
JP-5966752-B2
JP-3034711-B2
JP-3696631-B2
JP-2625433-B2
JP-5337848-B2
JP-3274257-B2
JP-5572759-B2
JP-5992503-B2
JP-5680653-B2
JP-4555049-B2
JP-5009987-B2
JP-2780966-B2
JP-4180341-B2
JP-4388764-B2
JP-3153901-B2
JP-5671328-B2
NL-242272-A
JP-2790143-B2
DE-102015216238-A1
DE-102016002976-A1
DE-102015100882-A1
DE-102016103068-A1
DE-102016109168-A1
DE-102015101250-A1
DE-102015109168-A1
DE-102015213941-A1
DE-202004007427-U1
DE-202004016862-U1
DE-502004005425-D1
DE-602007013025-D1
JP-WO2002095026-A1
JP-WO2008050584-A1
JP-WO2011070725-A1
JP-WO2014155903-A1
JP-WO2015022979-A1
DE-602004004466-T2
DE-602005003376-D1
DE-602005025541-D1
JP-WO2003061917-A1
JP-WO2004066992-A1
JP-WO2012137383-A1
JP-WO2013094136-A1
JP-WO2014128785-A1
DE-260155-C
DE-340029-C
DE-384106-C
DE-434915-C
DE-619385-C
DE-935373-C
DE-968590-C
FR-534847-A
GB-567824-A
US-105247-

2025-01-20 06:16:44 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:16:44 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:16:44 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:16:45 - snowflake.connector.connection - INFO - closed
2025-01-20 06:16:46 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:17:16 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:17:16 - root - INFO - The error occurs because some records in the `"filing_date"` column contain invalid values (like `'0'` or improperly formatted dates) that cannot be parsed using `TO_DATE` with the format `'YYYYMMDD'`. To fix this issue, we need to exclude these invalid dates from our query.

**Here's how you can modify your SQL query to handle this:**

1. **Filter out invalid dates:** Add conditions to exclude records where `"filing_date"` is `'0'`, `NULL`, or does not have the correct length.

2. **Use `TRY_TO_DATE` function:** Alternatively, you can use `TRY_TO_DATE`, which attempts to convert the string to a date and returns `NULL` if it fails.

**Corrected SQL Query:**

Option 1: Filtering invalid dates using conditions.

```sql
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "filing_date" IS NOT NULL
  AND "filing_date" != '0'
  AND LENGTH("filing_date") = 8
  AND EXTRACT(YEAR FROM TO_DATE("filing_date", 'YYYYMMDD')) = (
      SELECT EXTRACT(YEAR FROM TO_DATE("filing_date", 'YYYYMMDD'))
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
        AND "filing_date" IS NOT NULL
        AND "filing_date" != '0'
        AND LENGTH("filing_date") = 8
  )
LIMIT 1000;
```

Option 2: Using `TRY_TO_DATE` to handle parsing.

```sql
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE TRY_TO_DATE("filing_date", 'YYYYMMDD') IS NOT NULL
  AND EXTRACT(YEAR FROM TRY_TO_DATE("filing_date", 'YYYYMMDD')) = (
      SELECT EXTRACT(YEAR FROM TRY_TO_DATE("filing_date", 'YYYYMMDD'))
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
        AND TRY_TO_DATE("filing_date", 'YYYYMMDD') IS NOT NULL
  )
LIMIT 1000;
```

**Explanation:**

- **Filtering Invalid Dates:**
  - `IS NOT NULL`: Ensures the `"filing_date"` is not `NULL`.
  - `"filing_date" != '0'`: Excludes records where the date is `'0'`.
  - `LENGTH("filing_date") = 8`: Ensures the date string has the correct length for the format `'YYYYMMDD'`.

- **Using `TRY_TO_DATE`:**
  - `TRY_TO_DATE("filing_date", 'YYYYMMDD') IS NOT NULL`: Filters out records where the date cannot be parsed.
  - `EXTRACT(YEAR FROM TRY_TO_DATE("filing_date", 'YYYYMMDD'))`: Safely extracts the year without causing an error on invalid dates.

**By adding these conditions, you prevent the error caused by parsing invalid dates, and your query should now execute successfully.**
2025-01-20 06:17:16 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:17:16 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:17:16 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:17:17 - snowflake.connector.connection - INFO - closed
2025-01-20 06:17:18 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:18:10 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:18:10 - root - INFO - It appears that you're encountering this error because the `"filing_date"` column is of type `NUMBER(38,0)` and not `VARCHAR`. The `TO_DATE` function expects a string input, so passing a numeric value directly causes a type mismatch. Additionally, some records may contain invalid or zero filing dates, which can lead to parsing errors.

**To resolve this issue:**

1. **Convert the numeric filing date to a string** using `TO_VARCHAR`.
2. **Use `TRY_TO_DATE` instead of `TO_DATE`** to safely parse dates, returning `NULL` for invalid dates.
3. **Exclude records with invalid dates** by checking for `NULL` after parsing.

Here's the corrected SQL query using `TRY_TO_DATE` and `TO_VARCHAR`:

```sql
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
  AND EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) = (
      SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD'))
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
        AND TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
  )
LIMIT 1000;
```

**Explanation:**

- `TO_VARCHAR("filing_date")`: Converts the numeric filing date to a string, which `TO_DATE` can accept.
- `TRY_TO_DATE(...)`: Attempts to parse the date; if parsing fails, it returns `NULL` instead of an error.
- `IS NOT NULL`: Filters out records where the date parsing failed, ensuring only valid dates are considered.
- `EXTRACT(YEAR FROM TRY_TO_DATE(...))`: Extracts the year from the parsed date.

**Alternatively**, you can avoid date parsing altogether by extracting the year directly from the numeric filing date using integer division:

```sql
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "filing_date" IS NOT NULL
  AND "filing_date" >= 10000000  -- Ensures the filing date has at least 8 digits (YYYYMMDD)
  AND FLOOR("filing_date" / 10000) = (
      SELECT FLOOR("filing_date" / 10000)
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
        AND "filing_date" IS NOT NULL
        AND "filing_date" >= 10000000
  )
LIMIT 1000;
```

**Explanation:**

- `FLOOR("filing_date" / 10000)`: Divides the filing date by 10,000 and rounds down, effectively extracting the `YYYY` portion of the `YYYYMMDD` format.
- `"filing_date" >= 10000000`: Ensures that the filing date has at least 8 digits, corresponding to a valid date in `YYYYMMDD` format.

**Why the Error Occurred:**

- **Type Mismatch**: The `TO_DATE` function requires a `VARCHAR` input, but `"filing_date"` is of type `NUMBER`. Passing a numeric value directly caused the `invalid type` error.
- **Invalid Dates**: Some records may have invalid or zero filing dates (e.g., `'0'`), which cannot be parsed into valid dates.

**By correcting the data types and handling invalid dates**, the query should execute successfully, allowing you to retrieve patents filed in the same year as `US-9741766-B2`.

Feel free to use either of the corrected queries above. The first uses date parsing with proper type conversion, and the second uses integer arithmetic to extract the year directly.
2025-01-20 06:18:10 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:18:10 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:18:10 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:18:12 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:18:12 - snowflake.connector.connection - INFO - closed
2025-01-20 06:18:12 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:10 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:19:10 - root - INFO - SQL:
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
  AND EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) = (
      SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD'))
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
        AND TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
  )
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,filing_date
CN-106066309-A,20160713
CN-206309097-U,20161215
CN-106038555-A,20160613
GB-201610065-D0,20160609
RU-166745-U1,20160414
CN-106268128-A,20160812
CN-205984005-U,20160317
CN-106937673-A,20160103
CN-205931587-U,20160819
CN-206164381-U,20160801
CN-106347212-A,20160930
CN-205863132-U,20160621
CN-106745078-A,20161213
CN-205950875-U,20160612
CN-105722181-A,20160412
CN-106614099-A,20160914
CN-205676126-U,20160509
CN-106076100-A,20160808
CN-106198009-A,20160629
US-2016119008-A1,20160108
DE-102016200689-A1,20160120
JP-WO2016121806-A1,20160127
CN-106014397-A,20160513
CN-206403357-U,20161025
CN-206114527-U,20161028
CN-105477038-A,20160107
JP-2016136440-A,20160428
CN-206440856-U,20161129
CN-105937980-A,20160120
JP-2017120883-A,20161004
JP-1573204-S,20160829
CN-105694707-A,20160315
CN-205508967-U,20160223
JP-6074526-B2,20160302
CN-105678459-A,20160107
CN-206125632-U,20161102
JP-2016196509-A,20160819
CN-105928104-A,20160422
US-2017009903-A1,20160922
JP-1583033-S,20161130
CN-205339410-U,20160111
US-2016265749-A1,20160303
CN-106242331-A,20160812
CN-106776695-A,20161111
RU-163176-U1,20160120
CN-205466233-U,20160114
JP-3204839-U,20160407
CN-206006480-U,20160503
CN-105759368-A,20160506
CN-106725455-A,20161222
WO-2017026619-A1,20160328
WO-2016164635-A1,20160407
WO-2017068757-A1,20161003
CN-206282781-U,20161225
CN-105966453-A,20160213
CN-206404683-U,20161230
CN-105621498-A,20160314
US-2016359504-A1,20160819
CN-105945215-A,20160706
WO-2017103600-A1,20161215
WO-2017077547-A1,20161010
CN-105629976-A,20160222
KR-101659948-B1,20160725
CN-105965946-A,20160712
WO-2017026086-A1,20160630
JP-WO2017033980-A1,20160824
CN-205679208-U,20160517
CN-106406478-A,20161102
CN-106477041-A,20161108
US-2016289898-A1,20160614
US-2017111043-A1,20161018
CN-105662108-A,20160120
CN-106052959-A,20160722
WO-2017035325-A1,20160825
CN-205574882-U,20160422
CN-106995550-A,20160126
CN-205921406-U,20160622
CN-106771950-A,20161221
CN-205810080-U,20160720
US-2017016759-A1,20160714
CN-105693054-A,20160419
US-2016229907-A1,20160426
CN-206182741-U,20160716
CN-206069431-U,20160826
US-2016250980-A1,20160225
KR-101672828-B1,20160614
WO-2017088973-A8,20161122
US-2017133510-A1,20160202
CN-105864492-A,20160531
US-2016287303-A1,20160615
CN-106345543-A,20160913
CN-205811599-U,20160629
US-2017174842-A1,20161220
US-2016374997-A1,20160629
CN-106057302-A,20160804
CN-106301520-B,20160727
US-2016211560-A1,20160110
CN-106139012-A,20160729
WO-2017085174-A1,20161117
KR-101682095-B1,20160217
RU-170452-U1,20160805
WO-2017082357-A1,20161110
CN-206302632-U,20161226
WO-2017028612-A1,20160612
WO-2017036958-A2,20160826
JP-6133469-B1,20160419
WO-2016198599-A1,20160610
CN-106003324-A,20160727
CN-106353550-A,20160819
WO-2017092999-A1,20161110
WO-2016194359-A1,20160530
CN-105599885-A,20160126
CN-106071468-A,20160621
CN-205963344-U,20160527
CN-205720324-U,20160627
US-2017100036-A1,20161018
CN-205563516-U,20160314
US-2016204160-A1,20160324
US-2017059066-A1,20160707
US-2016315886-A1,20160630
US-2017025261-A1,20161006
CN-105547016-A,20160120
CN-105715030-A,20160311
CN-206054980-U,20160829
CN-106056996-A,20160823
US-2017057965-A1,20160825
CN-106068530-A,20160418
CN-106108357-A,20160627
CN-106248852-A,20160829
EP-3070608-A1,20160316
US-2016159761-A1,20160212
CN-105755279-A,20160519
US-9746745-B1,20161222
CN-105822320-A,20160429
RU-2628036-C1,20160629
GB-201603525-D0,20160227
CN-106093342-A,20160606
KR-20170046584-A,20161017
CN-205823296-U,20160520
CN-205528631-U,20160119
CN-205364355-U,20160126
CN-205491387-U,20160309
GB-201609490-D0,20160527
CN-205748757-U,20160708
CN-105873051-A,20160328
CN-106776676-A,20161101
CN-106530834-A,20161229
CN-205494439-U,20160226
CN-106494384-A,20160825
US-2017223854-A1,20160610
US-2016354168-A1,20160812
CN-205705342-U,20160613
CN-106105838-A,20160818
CN-206373195-U,20161227
CN-205268876-U,20160118
CN-206103432-U,20160811
CN-206148947-U,20160927
CN-105856525-A,20160506
CN-106129587-A,20160627
CN-106072157-A,20160829
US-2017220600-A1,20160129
WO-2017070515-A2,20161021
CN-105628189-A,20160108
CN-106747400-A,20161122
CN-105733032-A,20160226
CN-105499495-A,20160127
US-2016261092-A1,20160304
CN-106103294-A,20160301
CN-105727508-A,20160509
RU-2618446-C1,20160111
CN-105539456-A,20160203
WO-2017065533-A1,20161013
JP-6077729-B1,20160318
CN-205570050-U,20160428
WO-2016193158-A1,20160527
CN-105972961-A,20160520
CN-205866701-U,20160513
US-2017029628-A1,20160727
DE-102016202827-A1,20160224
CN-105542031-A,20160222
JP-2016105643-A,20160204
CN-105728384-A,20160509
US-2016296677-A1,20160617
EP-3159048-A1,20160916
US-2017134659-A1,20161025
US-2017098695-A1,20161219
CN-106910129-A,20160802
US-2016267437-A1,20160311
US-2017143209-A1,20160816
WO-2017020987-A1,20160709
US-2017168216-A1,20160129
WO-2016178310-A1,20160425
US-2016137319-A1,20160120
US-2016191291-A1,20160309
CN-106654818-A,20161222
CN-205471997-U,20160317
WO-2016190038-A1,20160427
WO-2016112379-A1,20160111
US-2017222122-A1,20161228
CN-205566594-U,20160428
US-2017073554-A1,20161123
CN-105924910-A,201606

2025-01-20 06:19:10 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:10 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:10 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:12 - snowflake.connector.cursor - INFO - Number of results in first chunk: 63
2025-01-20 06:19:13 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:13 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:14 - root - INFO - SQL:
-- 7. Get embeddings for patents filed in the same year as the target patent
SELECT a."publication_number", a."embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
  ON a."publication_number" = p."publication_number"
WHERE TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD') IS NOT NULL
  AND EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD')) = (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD'))
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
      AND TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
)
LIMIT 1000
Results:
Too long, hard cut:
publication_number,embedding_v1
CN-206166390-U,"[
  2.783860000000000e-02,
  -6.847068000000001e-02,
  -1.822087200000000e-02,
  -3.155387000000000e-02,
  -1.064077100000000e-01,
  -1.088386250000000e-01,
  -1.773156000000000e-01,
  -6.060636400000000e-02,
  2.458079000000000e-02,
  -7.578052000000000e-02,
  1.729183200000000e-01,
  2.786969000000000e-02,
  5.551506800000000e-03,
  7.606974000000000e-02,
  2.020715500000000e-02,
  5.859082200000000e-02,
  1.082017940000000e-01,
  -2.347547400000000e-01,
  2.530104500000000e-01,
  -8.551794000000000e-02,
  -5.708286500000000e-02,
  2.872908100000000e-02,
  -1.079269900000000e-02,
  -2.005267700000000e-01,
  1.034077850000000e-01,
  -1.175547700000000e-01,
  2.704122700000000e-01,
  3.141842800000000e-02,
  1.095237200000000e-01,
  2.896008200000000e-01,
  1.339348700000000e-01,
  -1.731936800000000e-02,
  1.080098800000000e-01,
  -2.946951000000000e-01,
  -6.411640000000000e-02,
  -7.476520000000000e-02,
  7.407082600000001e-02,
  -1.208772800000000e-01,
  -4.005047700000000e-02,
  1.927714800000000e-02,
  3.725099000000000e-02,
  -6.864776000000000e-02,
  1.296070200000000e-01,
  -8.981895400000001e-02,
  -4.668733500000000e-02,
  1.393658200000000e-01,
  -2.366324000000000e-02,
  -2.045739300000000e-01,
  -1.685978500000000e-01,
  -1.578705800000000e-01,
  -6.425313000000001e-02,
  -1.007401600000000e-01,
  5.829919000000000e-02,
  1.489527800000000e-01,
  -7.281902400000000e-04,
  -5.282613600000000e-02,
  -9.225973500000000e-02,
  -1.310196800000000e-01,
  -1.861268500000000e-02,
  2.233866600000000e-01,
  1.098151500000000e-01,
  2.342035300000000e-01,
  -3.024087500000000e-02,
  -1.671675600000000e-01
]"
CN-205559749-U,"[
  4.842376700000000e-02,
  -2.034320200000000e-01,
  -2.643399700000000e-02,
  -6.981953000000000e-02,
  2.645985200000000e-02,
  -1.793049000000000e-01,
  -2.840243500000000e-02,
  -4.113100000000000e-02,
  6.243877000000000e-02,
  -6.953316000000000e-02,
  1.021673700000000e-01,
  2.032557400000000e-01,
  -1.017643700000000e-02,
  1.016320100000000e-01,
  -1.732044200000000e-01,
  -2.078061300000000e-01,
  1.776803300000000e-01,
  -2.209762900000000e-02,
  3.667266700000000e-02,
  2.539002300000000e-01,
  -5.066376600000000e-02,
  -5.538710600000000e-02,
  -1.103008600000000e-01,
  1.177488640000000e-01,
  1.248021950000000e-01,
  7.876951000000000e-02,
  7.404661000000000e-02,
  -5.373472700000000e-02,
  -3.923545000000000e-03,
  4.099496000000000e-02,
  -8.829143000000000e-02,
  9.065985000000000e-02,
  1.366953400000000e-01,
  -3.544953000000000e-02,
  2.821575100000000e-02,
  -1.851515300000000e-01,
  2.452229700000000e-01,
  8.179937500000000e-03,
  -4.224382000000000e-02,
  6.686021400000000e-02,
  5.173291300000000e-02,
  -2.204456300000000e-01,
  1.274993300000000e-01,
  8.946069000000000e-02,
  1.209640600000000e-01,
  -1.571615600000000e-01,
  2.201634500000000e-01,
  -7.046582999999999e-02,
  -1.052291600000000e-01,
  -1.971801700000000e-01,
  -5.022048600000000e-02,
  5.190891400000000e-02,
  -5.673921500000000e-02,
  1.692137400000000e-01,
  3.021078700000000e-02,
  -1.691497900000000e-01,
  -2.318896700000000e-01,
  -8.476975000000000e-02,
  6.091247000000000e-02,
  1.449414200000000e-02,
  2.812695000000000e-01,
  9.742687000000000e-02,
  4.286533200000000e-02,
  1.794647100000000e-01
]"
CN-205928954-U,"[
  1.130703240000000e-01,
  -1.516648000000000e-01,
  -2.773194600000000e-02,
  1.549991700000000e-01,
  9.757696999999999e-03,
  -8.140552000000000e-02,
  -1.399522600000000e-01,
  -1.169788700000000e-01,
  2.793080000000000e-01,
  -8.295292999999999e-02,
  2.337677200000000e-01,
  2.096483900000000e-01,
  1.097899000000000e-01,
  2.027890100000000e-01,
  -2.088990000000000e-02,
  1.302050300000000e-02,
  -7.585975000000000e-02,
  -1.682953400000000e-01,
  7.008541400000000e-02,
  1.678367300000000e-01,
  3.689548700000000e-02,
  -4.467711200000000e-02,
  -3.456801000000000e-02,
  -2.488905800000000e-01,
  8.990200600000001e-02,
  -1.404455700000000e-04,
  1.948496000000000e-01,
  -2.084457500000000e-02,
  -1.129415900000000e-01,
  -1.674204800000000e-01,
  7.228248600000001e-02,
  2.409721500000000e-01,
  1.813394400000000e-01,
  -5.125587800000000e-02,
  5.722643400000000e-02,
  -7.052282000000000e-02,
  3.221886000000000e-02,
  -7.969176999999999e-03,
  -5.107947000000000e-03,
  1.232980600000000e-01,
  7.952382000000000e-02,
  -1.195780260000000e-01,
  1.343993300000000e-02,
  -3.071695600000000e-02,
  7.972843000000000e-02,
  -1.044229200000000e-01,
  1.831993300000000e-01,
  -8.097552000000000e-02,
  -1.577951000000000e-01,
  1.312211900000000e-03,
  -6.569205000000000e-02,
  -1.537935000000000e-01,
  -9.363817000000001e-02,
  5.043820300000000e-02,
  1.192339660000000e-01,
  -8.188371000000000e-02,
  -8.689188000000000e-02,
  -5.431799700000000e-03,
  3.475199600000000e-02,
  2.491553600000000e-01,
  -1.924442800000000e-01,
  1.686322800000000e-01,
  -1.017433850000000e-01,
  8.319882000000001e-02
]"
CN-205861

2025-01-20 06:19:14 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:14 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:14 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:15 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:19:15 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:15 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:16 - root - INFO - SQL:
-- 8. Explore the structure of the "embedding_v1" column
SELECT t."publication_number", f.value::FLOAT AS "embedding_value"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."embedding_v1") f
LIMIT 1000
Results:
Too long, hard cut:
publication_number,embedding_value
US-2951957-A,0.08362336
US-2951957-A,-0.14288281
US-2951957-A,-0.005209156
US-2951957-A,-0.06813269
US-2951957-A,-0.052784704
US-2951957-A,-0.14358786
US-2951957-A,0.05047881
US-2951957-A,0.00068617193
US-2951957-A,0.22249499
US-2951957-A,-0.08987959
US-2951957-A,-0.040846705
US-2951957-A,-0.012821704
US-2951957-A,-0.16030748
US-2951957-A,-0.10314158
US-2951957-A,0.14102703
US-2951957-A,-0.08313097
US-2951957-A,0.23868057
US-2951957-A,0.07057567
US-2951957-A,-0.022906547
US-2951957-A,0.09825958
US-2951957-A,0.003188707
US-2951957-A,-0.026476331
US-2951957-A,-0.10920039
US-2951957-A,-0.05279829
US-2951957-A,-0.025695
US-2951957-A,-0.05484348
US-2951957-A,0.29314142
US-2951957-A,-0.05625863
US-2951957-A,0.076713175
US-2951957-A,-0.02101696
US-2951957-A,-0.096489035
US-2951957-A,0.028147738
US-2951957-A,0.11967304
US-2951957-A,-0.018097157
US-2951957-A,0.05101946
US-2951957-A,-0.12600356
US-2951957-A,-0.045997363
US-2951957-A,-0.109936714
US-2951957-A,0.22535981
US-2951957-A,0.18405192
US-2951957-A,-0.22932222
US-2951957-A,0.028640855
US-2951957-A,0.017074298
US-2951957-A,0.1232229
US-2951957-A,0.16223328
US-2951957-A,0.15436037
US-2951957-A,-0.046630308
US-2951957-A,0.18249018
US-2951957-A,0.0907574
US-2951957-A,-0.32173648
US-2951957-A,-0.053687517
US-2951957-A,-0.006377889
US-2951957-A,-0.1489741
US-2951957-A,0.19356139
US-2951957-A,-0.007129235
US-2951957-A,0.06445281
US-2951957-A,-0.24899958
US-2951957-A,-0.022719473
US-2951957-A,-0.06134887
US-2951957-A,0.1986401
US-2951957-A,0.03393093
US-2951957-A,0.10782621
US-2951957-A,-0.17615893
US-2951957-A,0.08991186
US-4897035-A,0.03940709
US-4897035-A,-0.025972782
US-4897035-A,-0.06800645
US-4897035-A,-0.2881745
US-4897035-A,0.04827634
US-4897035-A,-0.0006236814
US-4897035-A,-0.02521992
US-4897035-A,-0.015990876
US-4897035-A,0.042166118
US-4897035-A,-0.038210414
US-4897035-A,0.17309272
US-4897035-A,-0.037988916
US-4897035-A,0.1830829
US-4897035-A,0.07517589
US-4897035-A,0.008099699
US-4897035-A,0.11497171
US-4897035-A,0.17222258
US-4897035-A,-0.01944074
US-4897035-A,-0.1152504
US-4897035-A,-0.16219944
US-4897035-A,-0.1620336
US-4897035-A,-0.10143009
US-4897035-A,-0.09175859
US-4897035-A,0.03969524
US-4897035-A,-0.27613625
US-4897035-A,-0.13339803
US-4897035-A,-0.016683964
US-4897035-A,0.19577272
US-4897035-A,0.012391028
US-4897035-A,-0.011441005
US-4897035-A,0.11314693
US-4897035-A,-0.13215013
US-4897035-A,-0.04336641
US-4897035-A,-0.13111776
US-4897035-A,-0.16197276
US-4897035-A,-0.1946237
US-4897035-A,0.12977155
US-4897035-A,-0.07682512
US-4897035-A,0.008311365
US-4897035-A,0.0275573
US-4897035-A,-0.011203701
US-4897035-A,-0.091507636
US-4897035-A,0.14131442
US-4897035-A,-0.1402106
US-4897035-A,0.13959305
US-4897035-A,0.039882
US-4897035-A,0.069827765
US-4897035-A,-0.024445223
US-4897035-A,0.17711237
US-4897035-A,-0.10979153
US-4897035-A,-0.097192064
US-4897035-A,-0.029278582
US-4897035-A,0.14820623
US-4897035-A,0.113294326
US-4897035-A,-0.24643192
US-4897035-A,-0.103451066
US-4897035-A,-0.027691502
US-4897035-A,-0.1443465
US-4897035-A,-0.14292102
US-4897035-A,0.030290479
US-4897035-A,-0.23455702
US-4897035-A,0.18434632
US-4897035-A,-0.2501799
US-4897035-A,0.06695028
US-5832509-A,0.08716943
US-5832509-A,-0.067956224
US-5832509-A,-0.14475442
US-5832509-A,-0.042151436
US-5832509-A,0.035623375
US-5832509-A,-0.044342704
US-5832509-A,0.091654785
US-5832509-A,-0.01708218
US-5832509-A,0.35064253
US-5832509-A,0.036334615
US-5832509-A,0.0839191
US-5832509-A,0.10311119
US-5832509-A,-0.033711407
US-5832509-A,0.023217667
US-5832509-A,0.002394382
US-5832509-A,-0.09655346
US-5832509-A,-0.04717555
US-5832509-A,0.13497208
US-5832509-A,-0.017899333
US-5832509-A,0.12470932
US-5832509-A,0.04784599
US-5832509-A,0.010013408
US-5832509-A,-0.0049288725
US-5832509-A,-0.073382765
US-5832509-A,-0.05507919
US-5832509-A,0.10267057
US-5832509-A,0.13938211
US-5832509-A,0.12761036
US-5832509-A,0.09779023
US-5832509-A,-0.079364866
US-5832509-A,-0.08535474
US-5832509-A,0.082796484
US-5832509-A,-0.12615137
US-5832509-A,0.0070459163
US-5832509-A,-0.13572317
US-5832509-A,-0.2007939
US-5832509-A,0.032537866
US-5832509-A,-0.026642995
US-5832509-A,0.26535386
US-5832509-A,0.048310827
US-5832509-A,-0.08429014
US-5832509-A,-0.05002477
US-5832509-A,0.20300326
US-5832509-A,0.09217891
US-5832509-A,0.008634042
US-5832509-A,0.09044094
US-5832509-A,0.093753755
US-5832509-A,-0.03200432
US-5832509-A,0.016109731
US-5832509-A,0.005450559
US-5832509-A,-0.3384401
US-5832509-A,0.21498272
US-5832509-A,0.25937685
US-5832509-A,0.02543867
US-5832509-A,-0.112953976
US-5832509-A,0.010788555
US-5832509-A,0.24717589
US-5832509-A,0.020023292
US-5832509-A,-0.15049458
US-5832509-A,0.10582966
US-5832509-A,-0.013403315
US-5832509-A,0.18706751
US-5832509-A,-0.23139796
US-5832509-A,0.15575904
US-4560189-A,0.0022930705
US-4560189-A,-0.1739548
US-4560189-A,-0.05074116
US-4560189-A,-0.029727025
US-4560189-A,0.030799398
US-4560189-A,-0.019139342
US-4560189-A,0.1379257
US-4560189-A,0.05388572
US-45

2025-01-20 06:19:16 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:16 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:16 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:17 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:19:17 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:18 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:18 - root - INFO - SQL:
-- 9. Retrieve titles from ABS_AND_EMB table
SELECT "publication_number", "title"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000
Results:
Too long, hard cut:
publication_number,title
CA-27-A,Improvement on spinning wheel
ES-81-Y,Improvements heels for footwear.
DE-303-C,
ES-866-Y,Improvements gravestones tombs and funerary niches.
FI-150-A,"The monitor method for preparing dubbelugnar for the preparation af tjra, lysolja, terpentin mm.  ur furustubbar Science Notter"
FI-250-A,Sjelflggningsapparat to the skrdemaskiner
FR-336-E,Improvements in the processing of cotton and cotton goods to make them nonflammable
NL-284-C,
NL-947-C,
BE-107-T1,Bouches fire.
CA-1911-A,A ralway track clearer
CA-4005-A,Leather scouring machine
CA-4106-A,Automatic car-coupling
CA-4698-A,Ladies&#39; work table
CA-4801-A,Washing machine
CA-5943-A,Improvement on bed bottoms
CA-6183-A,Improvements in wood planing machines
CA-6207-A,Improvements in lamps
CA-6390-A,Reversible plough
CA-6969-A,Machine for making spirally formed tubes
CA-8931-S,Bottle
CA-9897-A,Improvements on fare registers
DE-3129-C,
DE-3301-C,
DE-3884-C,
DE-3983-C,
DE-5976-C,
DK-2807-C,Process for the preparation of soluble salts of barium.
DK-3080-C,Devices in trays for packing eggs.
DK-3107-C,The production method for Smedejrns Finned with continuous helical rib.
DK-3184-C,Water Pitcher.
DK-3510-C,Device at the apparatus for the production of acetylene.
DK-5867-C,Automatic oiler Snkker and Snkkehjul in centrifuges.
DK-5921-C,Ankerbevikling with open coils for generators or motors with one-way Power.
DK-6491-A,Cable mounting of the guard device for a telecommunications cable
DK-7210-C,"Alloy of nickel, aluminum, copper and iron."
DK-8069-C,"Receiver means for rotating steam, gas or combustion products and the like that is also useful as a gas compressor."
DK-8466-C,Method and apparatus for extracting sulfur and Cyanides in the purification of from Belysningsgas.
DK-9281-C,Method for Preparation of an image bearer of photosensitive papers.
DK-9359-C,Device at Telephone exchange.
ES-1062-U,Truck for transport of concrete and mortar tilting download and auto-return to the loading position.
ES-1498-U,Razor.
ES-1524-Y,Device cuvette for containing papers.
ES-1872-U,Packing box for rolls of raw rubber.
ES-2542-Y,Purse fastening system.
ES-2819-Y,"Burning stove liquids, essentially diesel fuel."
ES-2960-U,Tong for sewing straps.
ES-3045-U,Sliding adjuster for clothing
ES-4483-Y,Improved sealing tap water.
ES-4723-Y,Pocket electric lamp.
ES-4858-U,A simplified shaving machine
ES-5089-Y,Breastplate of interposition between the foot and the shoe.
ES-5219-Y,Cigarette paper sheet.
ES-5716-U,A protective cardboard disc to facilitate changes retaining therein a stamp
ES-5975-Y,Bottle or container with inner compartments that allow contain different kinds of liquids.
ES-6454-U,Fonmularios game combined with carbon paper for use in typewriters.
ES-6552-Y,protection against low temperatures shirt.
ES-6928-Y,Clamping device straps to the handles of wristwatches.
ES-6962-Y,Provided cork extraction medium.
ES-7086-Y,Device in gas carbide drive motors.
ES-7407-Y,Folding bike reduced rate.
ES-7489-Y,Cover or wrapper to protect the crowns of rayon.
ES-7516-U,Plywood floors for shoemaking.
ES-7538-U,"Simile, girdle, bra and panty."
ES-764-H3,Machine to raise water called fast ferris wheel
ES-8269-Y,Shuttering elements or molded or reinforced concrete floors lighten parts.
FI-1825-A,The process of at verkstllande Evaporation at high the temperaturer Science To this was apparat
FI-291-U1,Utloppsfoerbindning in a substitutionsluftinslaeppningsventil
FI-3021-A,Frbttring  formmaskiner for cementrr med-regulating device for formldans of skakningrrelse
FI-4211-A,Four-stroke internal combustion engine ignition device
FI-4543-A,Invertlampa for conveyance brnnmne
FI-8034-A,The way to handle sulfitijtelipe
FI-8619-A,Manner for the preparation of trdar of Varje finhet ur rviskos
FI-8985-A,Frgasare for frbrnningskraftmaskiner with a rotatably i frgasarkroppen stryporgan
FI-902-U1,Sparkstoetting
FR-1186-E,New Bunsen burner of the kind to recovery and two concentric flames
FR-1382-E,An automatic switch
FR-1550-M,"pharmaceutical product based on total capsicum extract, polyvinylpyrrolidone and ergotamine tartrate."
FR-2064-E,Incandescent lamp with alcohol
FR-2510-M,New medicament for the treatment of staphylococcal infections and the like.
FR-2578-M,"A pharmaceutical composition for the treatment of all anemia, asthenia and convalescence states."
FR-2635-E,Improvement in the keyboard musical instruments
FR-3293-M,Drug acting on the central nervous system and having in particular anti-anxiety and tranquilizing properties was based on new sulfonamides.
FR-5174-E,A mobile machine for mixing and at the same time heat the asphalt and similar materials
FR-5770-E,Free wheel
FR-7085-M,
FR-7747-E,Doler machine and sand the skin for the glove
FR-8053-M,
FR-8143-M,
NL-3613-C,
NL-4187-C,
NL-5034-C,
NL-9752-C,
NL-9761-C,
RU-815-U1,Transport and sorting conveyor
US-1260-A,Improvement in nott s stove
US-1844-A,John kirkman
US-3704-A,Tongtjing and grooving 

2025-01-20 06:19:18 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:18 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:18 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:19 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:19:19 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:19 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:20 - root - INFO - SQL:
-- 10. Flatten and retrieve CPC codes from the "cpc" VARIANT column
SELECT t."publication_number", f.value:"code"::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"code" IS NOT NULL
LIMIT 1000
Results:
Too long, hard cut:
publication_number,cpc_code
CN-204408667-U,Y02B20/345
CN-204408667-U,H05B33/0809
CN-204408667-U,H05B33/083
CN-204408667-U,H05B33/0812
CN-204408667-U,H05B33/0845
CN-205561565-U,Y02P10/265
CN-205330882-U,Y02E10/722
CN-205330882-U,Y02E10/723
CN-205330882-U,Y02E10/725
CN-205330882-U,Y02E10/721
CN-202949022-U,Y02E60/12
CN-201601128-U,H01L2224/05554
CN-201601128-U,H01L2924/19104
CN-201601128-U,H01L2224/48145
CN-201601128-U,H01L2224/49175
CN-201601128-U,H01L2224/48091
CN-201601128-U,H01L2224/16225
CN-204230875-U,G01K3/005
CN-204230875-U,H02H5/042
CN-201758129-U,Y02B10/12
US-5560978-A,Y10T428/3154
US-5560978-A,Y10T428/31544
US-5560978-A,Y10T428/31725
US-5560978-A,Y10T428/31721
US-5560978-A,Y10T428/24355
US-5560978-A,C09D179/08
US-5560978-A,C08K7/06
US-5560978-A,Y10T428/256
US-5590131-A,H04L12/2801
US-5590131-A,H04J3/1682
US-5596790-A,Y10T24/1484
US-5596790-A,Y10T24/148
US-5596790-A,Y10T24/1457
US-5596790-A,Y10T24/1482
US-5596790-A,F16L33/03
US-5614871-A,H03K3/017
US-5614871-A,H03K3/012
US-5614871-A,H03K3/0315
US-5635026-A,D21C3/26
US-5635026-A,D21C3/02
US-5635026-A,D21C3/266
US-5760063-A,C07C323/28
US-5760063-A,C07C327/58
US-5760063-A,C07D213/61
US-5760063-A,C07C323/48
US-5760063-A,C07C311/08
US-5760063-A,C07D213/77
US-5760063-A,C07C317/34
US-5760063-A,C07C255/66
US-5760063-A,A61L2/16
US-5760063-A,C07C317/36
US-5779492-A,H01R12/58
US-5779492-A,H01R13/03
US-5779492-A,H01R3/08
US-5779492-A,H01R12/523
US-5989959-A,H01L27/11526
US-5989959-A,H01L27/11541
US-5989959-A,H01L27/115
US-5989959-A,H01L27/11536
US-5992708-A,B65D83/201
US-5992708-A,B65D83/303
US-6069408-A,H01L2924/181
US-6069408-A,H01L2224/48465
US-6069408-A,Y10T29/49169
US-6069408-A,H01L2224/49171
US-6069408-A,H01L2224/49109
US-6069408-A,H01L2224/48247
US-6069408-A,H01L2224/48227
US-6069408-A,H01L2224/73265
US-6069408-A,H01L21/568
US-6069408-A,H01L23/3107
US-6069408-A,H01L21/565
US-6069408-A,H01L2924/18165
US-6120059-A,B62D21/02
US-6120059-A,B62D21/11
US-6120059-A,Y10T29/49622
EP-0311460-A2,Y10S320/19
EP-0311460-A2,Y10S320/13
EP-0311460-A2,Y02E70/40
EP-0311460-A2,Y02B40/90
EP-0311460-A2,H02J7/0085
EP-0339841-B1,B29C64/00
EP-0339841-B1,Y10S430/128
EP-0339841-B1,G03F7/0037
EP-0339841-B1,G03F7/031
EP-0339841-B1,A61K6/0052
EP-0339841-B1,G03F7/002
EP-0339841-B1,G03F7/027
EP-0339841-B1,G03F7/029
EP-0339841-B1,A61K6/083
EP-0339841-B1,A61C13/0013
EP-0339841-B1,C08F2/50
EP-0339841-B1,A61C19/003
EP-0339841-B1,A61K6/0023
EP-0357003-A2,A61F2230/0021
EP-0357003-A2,A61F2/88
EP-0357003-A2,A61F2230/0008
EP-0357003-A2,A61F2230/0019
EP-0526862-B1,A61K9/5036
EP-0526862-B1,A61K9/1652
EP-0526862-B1,A61K9/5047
EP-0526862-B1,A61K9/1635
EP-0526862-B1,A61K9/5026
EP-0526862-B1,A61K9/286
EP-0526862-B1,A61K9/1611
EP-0526862-B1,A61K9/205
EP-0526862-B1,A61K9/2009
EP-0579132-A1,C08L83/04
EP-0579132-A1,A61K6/10
EP-0579132-A1,C08K5/17
EP-0579132-A1,A61K6/0023
EP-0579132-A1,C08G77/045
EP-0579132-A1,A61L27/18
EP-0579132-A1,A61K6/0017
EP-0579132-A1,C08G77/20
EP-0579132-A1,C08G77/12
EP-0586101-A1,Y10S260/38
EP-0586101-A1,C09D11/322
EP-0761795-A2,C09J191/06
EP-0761795-A2,C09J167/00
EP-2696530-A2,H04W72/0446
EP-2696530-A2,H04L5/001
EP-2696530-A2,H04L27/0006
EP-2696530-A2,H04W24/10
EP-2696530-A2,H04W16/14
EP-2696530-A2,H04W48/02
JP-S5521128-A,H01L2924/181
JP-S5521128-A,H01L2224/05554
JP-S5521128-A,H01L24/45
JP-S5521128-A,H01L2924/13091
JP-S5521128-A,H01L24/49
JP-S5521128-A,H01L24/48
JP-S5521128-A,H01L2924/01039
JP-S5521128-A,H01L2924/01014
JP-S5521128-A,H01L2224/49171
JP-S5521128-A,H01L2924/01322
JP-S5521128-A,H01L2224/48091
JP-S5521128-A,H01L23/3107
JP-S5521128-A,H01L23/49541
JP-S5521128-A,H01L23/49548
JP-S5521128-A,H01L2924/01079
JP-S5521128-A,H01L2224/45144
JP-S5839939-A,Y10S505/844
JP-S5839939-A,G01R33/422
JP-S5839939-A,G01R33/34046
JP-S5839939-A,A61B5/055
US-6212688-B1,A41D19/0041
US-6430703-B1,G06F11/1469
US-6570200-B1,H01L21/28114
US-6570200-B1,H01L29/66651
US-6570200-B1,H01L29/0692
US-6570200-B1,H01L29/1037
US-6570200-B1,H01L21/28061
US-6570200-B1,H01L29/7834
US-6588039-B1,H02G1/005
US-6588039-B1,B25B7/14
US-6588039-B1,B25B7/02
US-6588039-B1,H02G1/1214
US-6588039-B1,H02G1/1295
US-6741505-B2,G11C2207/2281
US-6741505-B2,G11C11/4094
US-6741505-B2,G11C7/12
US-6741505-B2,G11C11/4099
US-6741505-B2,G11C7/14
US-6829858-B2,F41C27/06
US-6917585-B1,Y02B60/31
US-6917585-B1,H04L47/27
US-6917585-B1,H04L47/193
US-6917585-B1,H04L47/283
US-6917585-B1,H04L47/263
US-6917585-B1,H04L47/10
US-6917585-B1,H04L47/32
US-6917585-B1,H04L47/30
US-6952935-B2,F25C5/002
US-6952935-B2,F25C1/147
US-6952935-B2,F25C5/18
US-7000739-B2,B62L1/06
US-7000739-B2,B60T11/046
US-7103939-B2,B60N3/026
US-7103939-B2,Y10T16/458
US-7103939-B2,B60N3/023
US-7335128-B2,F16C19/386
US-7335128-B2,F03D15/00
US-7335128-B2,F03D1/00
US-7335128-B2,F16H2001/289
US-7335128-B2,F05B2260/40311
US-7335128-B2,Y02E10/726
US-7428342-B2,H04N19/80
US-7428342-B2,G10L19/0017
US-7428342-B2,H04N19/63
US-7428342-B2,H04N19/60
US-7428342-B2,H04N19/86
US-7428342-B2,H04N19/122
US-7428342-B2,H04N19/119
US-7428342-B2,H04N19/61
US-7428342-B2,G06F17/147
US-7428342-B2,G10L19/0

2025-01-20 06:19:20 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:20 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:20 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:22 - snowflake.connector.cursor - INFO - Number of results in first chunk: 118
2025-01-20 06:19:23 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:23 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:23 - root - INFO - SQL:
-- 11. Get the abstract text from PUBLICATIONS table using LATERAL FLATTEN
SELECT t."publication_number", f.value:"text"::STRING AS "abstract_text"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."abstract_localized") f
WHERE f.value:"text" IS NOT NULL
LIMIT 1000
Results:
Too long, hard cut:
publication_number,abstract_text
CN-104260754-A,A/DA/D
CN-104260754-A,"The invention discloses a track height irregularity prediction system and method based on axle box vibration acceleration. The track height irregularity prediction system comprises an axle box vibration acceleration sensor, a rotation pulse tacho-generator, a simulation preprocessing circuit, an A/D (analog/digital) conversion circuit, an embedded system, a wireless network router and an upper computer. The axle box vibration acceleration sensor is arranged on an axle box disposed on a running part of a train. The rotation pulse tacho-generator is arranged in an end cover of a train axle. Axle box vibration signals collected by the axle box vibration acceleration sensor and train speed signals collected by the rotation pulse tacho-generator are subject to low-pass filtering processing through the simulation preprocessing circuit, analog signals are converted to digital signals through the A/D conversion circuit, the digital signals are sent to the upper computer by the embedded system through the wireless network router to be processed, and the upper computer measures the track height irregularity result through the vibration signals. The track height irregularity prediction system and method have the advantages of low cost and good implementation."
US-3939506-A,"A ventilator for toilets is disclosed which includes an exhaust conduit connected to the upper portion of a toilet water tank for withdrawing odors from the toilet bowl through the overflow pipe in the water tank and flush water distribution outlets in the toilet bowl. A fan located in the attic and resiliently suspended therein to reduce noise resulting from fan vibrations draws odor laden air from the top of the water tank and discharges the odor laden air into the attic. A special control circuit for the attic fan is connected to the bathroom light switch which requires the light switch to be turned on, off, and back on again within a predetermined time interval before the attic fan will be turned on. A pressure sensing switch is provided which cuts the fan off when the pressure in the toilet tank reaches a predetermined low level after the tank is flushed. One preferred connection of the exhaust line to the interior of the water tank makes use of the hollow rim of toilet tank cover. Another connection of the exhaust line to the interior of the water tank makes use of a gap in the seal between the water tank and its cover and a special gasket surrounding the exhaust pipe entry point and fitted between a bathroom wall and a toilet water tank and cover which are positioned adjacent the wall. Modifications of the invention include special nozzles at the entrance end of the exhaust to connect with the water tank and a decorative exhaust pipe serving the dual function of a towel rack."
KR-101486666-B1,"                  ,      ;          ;       ;                  ."
KR-101017597-B1,"              (GIS)     (USLE)    (TRB) -           , 
          ,           . 
                         (, , , , ,  ) ,                       ,                   ,             ."
KR-101017597-B1,"PURPOSE: A method for writing a sediment information map, a sediment information map, and a system for providing property information by each grid are provided to easily obtain information about an earth and sand outflow route and an earth and sand outflow amount. CONSTITUTION: A soil erosion amount is calculated by a USLE(Universal Soil Loss Equation). The soil erosion amount is accumulated along with a flow direction by a ground surface flow tracking method. An area which contributes to earth and sand outflow of each grid point is calculated. The earth and sand outflow amount of all grid points is calculated by applying a basin area-quicksand delivery rate relation of a TRB(Transportation Research Board). The earth and sand outflow amount by a grid point is expressed in a topographical map in a visual information type."
JP

2025-01-20 06:19:23 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:23 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:23 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:25 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:19:25 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:25 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:25 - root - INFO - SQL:
-- 12. List distinct CPC codes from ABS_AND_EMB table
SELECT DISTINCT f.value:"code"::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"code" IS NOT NULL
LIMIT 1000
Results:
Too long, hard cut:
cpc_code
A61K6/0052
H01R12/523
B65D83/201
Y02B40/90
A41D19/0041
B25B7/14
B41J2002/14435
H02G1/1295
C10M105/38
H04L43/0811
B41J2002/14419
A61B1/00158
H01M8/0228
H01L2924/14
H01L45/143
H04L47/2433
B44D3/14
G06F2201/88
Y10S514/938
G01N21/8806
G09G2310/0251
E02F9/2217
B60W40/12
E04B1/0007
C23C18/24
H01J61/16
H04N19/96
A61K9/0014
A63B21/153
Y10S209/909
G05B2219/2642
H01R24/76
H05K3/0041
A23L3/015
H01L21/0254
B60W2710/18
G06F17/30557
C08F10/10
A61B2018/00738
A61B46/13
F16C2326/02
B65D71/36
B65D2571/00728
A61L27/50
B60B19/14
B29C47/0085
B65B43/265
F24D3/14
G01N21/19
B01D53/268
G06K9/00127
C30B25/10
G01N21/73
F02C7/275
A61F2/95
G05D1/0225
H04N19/85
C09J163/00
Y02B20/46
A21B3/132
H04M1/72552
H01H85/202
E04F15/02044
E04F15/02
C08L2201/50
E21B43/103
B21D39/04
H02H3/243
A61M5/5013
A61L9/122
A61F2250/0069
C08K5/31
Y10T428/12611
G06Q30/0278
A61M1/32
A61K31/42
C23C18/1216
G02B5/3008
E04F2201/025
G02B5/32
Y02P70/405
Y10T428/12542
F05D2260/85
C10M2209/104
G05D23/1931
A61B1/00181
B21C47/267
G06F8/665
F16H48/40
B60R1/10
H01R39/36
B60W30/18072
B65D47/08
H01L33/486
F16D2500/3026
F25D21/14
F05D2260/83
B60R13/025
H04B1/18
F41A17/28
H04K2203/12
H01L43/10
B01J20/28064
F25D2321/141
H04W76/00
H01M10/635
F01N2610/10
B23Q17/00
F04C2/344
B60B27/0042
F16L5/12
B65H2301/41732
H05K2203/0195
H04M3/42314
C30B25/18
C09D5/00
F02C1/05
C07K2317/76
B01J20/284
G06F9/44505
H04L67/10
F15B2211/50518
H03M1/001
A61B34/75
F02D2250/36
B82Y40/00
C08F34/02
A61C7/002
C12N2533/92
G02B27/0172
G01N15/1459
H01F7/1844
F41B5/105
C04B2235/6567
G01D11/245
A61K47/10
Y04S20/32
E05F15/443
B65G57/04
C07C2/864
F01B11/00
D04H1/587
Y10T83/242
Y02W30/521
Y10S241/37
H05B2206/024
Y10T16/540345
H04L41/0816
C09K2211/1092
A61Q19/008
A61B17/12109
A61K31/4172
Y10T83/145
C12M41/00
A63C9/002
Y10T24/45393
B29C2795/007
A63B2055/602
B62B2207/00
F25B9/006
A61F2002/3023
B29C47/124
G06F1/02
F01K15/02
G01J5/08
Y10T83/0453
H04L45/02
G01B7/02
H02K7/14
Y10S428/926
G01B3/006
G06F1/1626
G01C17/38
H01S5/028
G06F1/1647
B60L2240/507
Y02E60/76
A61K31/4706
Y10T16/5445
A01D69/06
H01S5/02248
G07C2209/65
G06F21/31
Y10T428/12799
F02C7/055
C07D513/04
F02D2041/201
G06T2207/30024
F16H61/6625
E01C5/12
E04F11/064
H04N1/195
D06M11/42
G01B11/14
H01L2924/01029
B60W2710/083
G01S19/37
G09B5/02
B65D2519/00412
H02M7/103
B01D2253/108
Y10S148/909
Y02T10/705
C10J2300/0916
Y10T29/49153
B65D2519/00363
C23C2/02
G09G3/3614
E21B49/00
C09K9/02
H01J9/142
B60L3/0069
C02F2201/46195
B65D2275/02
B41F33/0009
B27B27/02
E21B44/00
B01F15/0462
C11D3/28
G11B33/0461
H01F27/25
H01Q1/1271
H02J50/20
G02B6/4452
H04N1/6011
F16C2360/42
B42D2033/08
B42D25/415
B62M9/1242
A61N2005/0636
B81B2201/042
B60L2240/545
H04B7/086
A61K31/195
A61K8/368
F02K3/072
F02B77/02
H04N21/4113
H04W64/00
A61K8/922
H01J37/073
B01J31/181
F21K5/02
C10M2209/1055
H04M17/026
A23C17/00
B42D5/00
B65G19/24
G03C8/16
B23B39/28
C10M2201/105
C03B23/114
C09J123/20
F01L2760/002
B01J2/06
B32B27/32
B05B12/1436
B30B9/121
Y02W30/646
B08B9/0813
G01K7/42
B67D3/0029
B01D2255/20723
H04N3/233
F16M11/041
C10M2205/022
H04N7/1693
C08J2323/12
H04N9/28
C08G4/00
B65D5/46088
B29C2045/2748
H01B13/26
C07C45/34
B29B9/00
C08J2300/102
G06Q10/047
F16C23/084
A63F2300/1068
H01L2224/45124
H04W72/082
C12N1/18
A61F2002/3472
C07C323/44
H01M4/62
A62D2101/22
C08G18/3821
C07D519/00
Y10T408/906
A61F13/2008
F02B61/02
E03D9/032
G02F2201/465
G01J3/504
G01J3/0291
H01L21/187
A61L2300/436
Y10T428/1393
A61K9/0048
Y10T74/20438
B60J10/75
Y02T90/32
B65G21/14
H04W36/0016
C07D213/80
F02C7/266
H01Q15/0086
H04N7/1675
H01L51/0074
B32B27/308
C02F2209/15
G11B20/18
B29C47/8895
B60G2300/122
C04B2111/40
H04L2209/80
A23K20/111
B32B2457/20
H01L23/293
B01J20/267
H01L24/40
H01R43/02
A63B23/0227
G02F1/13306
C04B35/6261
H03K3/84
H04K3/94
F25B2700/21152
C23C18/1275
C23C14/12
B29K2027/16
B01D2253/1085
B01D2253/306
A63B2225/50
A63B2024/0068
A61H2201/1635
B67D1/0431
C08F2/10
C09J7/02
B22D41/56
C23C4/06
G02C7/06
H04L63/0853
A61K49/1866
B32B2307/51
H04W72/1289
G01K1/08
F16K17/00
A47L15/23
F01N2550/05
H04W52/54
F02C7/32
D04B15/10
C10M161/00
B32B37/12
B22D41/54
B03B5/626
B33Y50/00
A61K31/282
H04B1/0053
H01P1/20336
H01F41/301
G01N21/15
H04N2201/3278
H04N5/772
B62D63/062
B01J23/38
A61N1/368
G03G7/006
A63B2210/50
A63B67/002
C10G31/00
G08B13/1427
H01J2237/221
G09G2310/062
C03C17/006
B01J20/3236
F26B21/12
H01H2221/07
G03B15/03
A61N1/0484
Y10T403/52
A61K47/59
C12N2740/16122
G01N2291/02845
F02C7/16
C30B25/14
C08G18/2825
G01F1/684
G03G15/5041
B29C44/56
F15B21/087
G03G15/0194
G02B6/29361
Y02P90/10
C11D3/0078
F16J1/12
A47C27/085
C07D307/79
C07C275/62
D06P1/6556
B66B5/044
D06M13/46
H02N2/163
F16H2200/0047
D06P5/04
H04N5/92
C08G77/50
H01G4/33
C07D295/13
B65H21/00
B62K5/01
Y10T428/24405
G06F17/30368
H05K1/0213
C10J2300/093
B60W10/10
Y10T477/65
G06F17/274
B23Q17/0909
Y10T408/14
D02J1/08
H01L2224/85181
G11B5/86
B60N2/5825
Y10T307/685
B21D41/02
B24B27/0061
A61B5/161
C04B38/064
B08B9/0553
B60Q2300/112
G05D23/08
H04N1/32702
H04N1/0405
H05K2201/0989
H01L29/7392
G01N2035/1018
C07F15/0093
C03C3/097
H01L23/047
F25D21/006
F25D2700/14
Y10T409/105724
H04L49/101
H04M1/72

2025-01-20 06:19:25 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:25 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:25 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:26 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-20 06:19:26 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:27 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:19:52 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:19:52 - root - INFO - ```sql
SELECT DISTINCT f.value::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value IS NOT NULL
LIMIT 1000;
```
2025-01-20 06:19:52 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:19:52 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:19:52 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:19:54 - snowflake.connector.cursor - INFO - Number of results in first chunk: 809
2025-01-20 06:19:54 - snowflake.connector.connection - INFO - closed
2025-01-20 06:19:55 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:21:18 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:21:18 - root - INFO - SQL:
SELECT DISTINCT f.value::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value IS NOT NULL
LIMIT 1000;
Results:
Too long, hard cut:
cpc_code
"{""code"":""C07C311/08"",""first"":false,""inventive"":true,""tree"":[""C07C311/08"",""C07C311/02"",""C07C311/01"",""C07C311/00"",""C07C"",""C07"",""C""]}"
"{""code"":""C07D213/77"",""first"":false,""inventive"":true,""tree"":[""C07D213/77"",""C07D213/76"",""C07D213/72"",""C07D213/60"",""C07D213/04"",""C07D213/02"",""C07D213/00"",""C07D"",""C07"",""C""]}"
"{""code"":""Y10T29/49622"",""first"":false,""inventive"":false,""tree"":[""Y10T29/49622"",""Y10T29/49616"",""Y10T29/49"",""Y10T29/00"",""Y10T"",""Y10"",""Y""]}"
"{""code"":""G03F7/0037"",""first"":false,""inventive"":true,""tree"":[""G03F7/0037"",""G03F7/00"",""G03F"",""G03"",""G""]}"
"{""code"":""H01L2224/45144"",""first"":false,""inventive"":false,""tree"":[""H01L2224/45144"",""H01L2224/45138"",""H01L2224/451"",""H01L2224/45099"",""H01L2224/45001"",""H01L2224/45"",""H01L2224/44"",""H01L2224/42"",""H01L2224/01"",""H01L2224/00"",""H01L"",""H01"",""H""]}"
"{""code"":""H01L29/1037"",""first"":false,""inventive"":true,""tree"":[""H01L29/1037"",""H01L29/1033"",""H01L29/1029"",""H01L29/1025"",""H01L29/10"",""H01L29/06"",""H01L29/02"",""H01L29/00"",""H01L"",""H01"",""H""]}"
"{""code"":""H04L43/0811"",""first"":false,""inventive"":true,""tree"":[""H04L43/0811"",""H04L43/0805"",""H04L43/08"",""H04L43/00"",""H04L"",""H04"",""H""]}"
"{""code"":""B41J2/17566"",""first"":false,""inventive"":true,""tree"":[""B41J2/17566"",""B41J2/175"",""B41J2/17"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""B41J2/17513"",""first"":false,""inventive"":true,""tree"":[""B41J2/17513"",""B41J2/17503"",""B41J2/175"",""B41J2/17"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""B29C2035/0822"",""first"":false,""inventive"":false,""tree"":[""B29C2035/0822"",""B29C35/0805"",""B29C35/08"",""B29C35/02"",""B29C35/00"",""B29C"",""B29"",""B""]}"
"{""code"":""G06F9/505"",""first"":false,""inventive"":true,""tree"":[""G06F9/505"",""G06F9/5027"",""G06F9/5005"",""G06F9/50"",""G06F9/46"",""G06F9/06"",""G06F9/00"",""G06F"",""G06"",""G""]}"
"{""code"":""G06F11/3414"",""first"":false,""inventive"":true,""tree"":[""G06F11/3414"",""G06F11/3409"",""G06F11/34"",""G06F11/30"",""G06F11/00"",""G06F"",""G06"",""G""]}"
"{""code"":""B41J2/16526"",""first"":false,""inventive"":true,""tree"":[""B41J2/16526"",""B41J2/1652"",""B41J2/16517"",""B41J2/165"",""B41J2/135"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""G11C11/405"",""first"":true,""inventive"":true,""tree"":[""G11C11/405"",""G11C11/403"",""G11C11/401"",""G11C11/40"",""G11C11/34"",""G11C11/21"",""G11C11/00"",""G11C"",""G11"",""G""]}"
"{""code"":""F24J2/5245"",""first"":false,""inventive"":true,""tree"":[""F24J2/5245"",""F24J2/5243"",""F24J2/5201"",""F24J2/52"",""F24J2/46"",""F24J2/00"",""F24J"",""F24"",""F""]}"
"{""code"":""H01L2924/30107"",""first"":false,""inventive"":false,""tree"":[""H01L2924/30107"",""H01L2924/301"",""H01L2924/30"",""H01L2924/00"",""H01L"",""H01"",""H""]}"
"{""code"":""B60W10/08"",""first"":false,""inventive"":true,""tree"":[""B60W10/08"",""B60W10/04"",""B60W10/00"",""B60W"",""B60"",""B""]}"
"{""code"":""F02D29/02"",""first"":false,""inventive"":false,""tree"":[""F02D29/02"",""F02D29/00"",""F02D"",""F02"",""F""]}"
"{""code"":""B60W2550/12"",""first"":false,""inventive"":false,""tree"":[""B60W2550/12"",""B60W2550/00"",""B60W"",""B60"",""B""]}"
"{""code"":""G02B6/0053"",""first"":true,""inventive"":true,""tree"":[""G02B6/0053"",""G02B6/005"",""G02B6/0033"",""G02B6/0011"",""G02B6/0001"",""G02B6/00"",""G02B"",""G02"",""G""]}"
"{""code"":""H01L35/16"",""first"":true,""inventive"":true,""tree"":[""H01L35/16"",""H01L35/14"",""H01L35/12"",""H01L35/00"",""H01L"",""H01"",""H""]}"
"{""code"":""Y10S260/19"",""first"":false,""inventive"":false,""tree"":[""Y10S260/19"",""Y10S260/15"",""Y10S260/00"",""Y10S"",""Y10"",""Y""]}"
"{""code"":""Y10T29/4911"",""first"":false,""inventive"":false,""tree"":[""Y10T29/4911"",""Y10T29/49108"",""Y10T29/49002"",""Y10T29/49"",""Y10T29/00"",""Y10T"",""Y10"",""Y""]}"
"{""code"":""B41J2/17506"",""first"":false,""inventive"":true,""tree"":[""B41J2/17506"",""B41J2/17503"",""B41J2/175"",""B41J2/17"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""H05K3/3447"",""first"":false,""inventive"":false,""tree"":[""H05K3/3447"",""H05K3/34"",""H05K3/32"",""H05K3/30"",""H05K3/00"",""H05K"",""H05"",""H""]}"
"{""code"":""G01C21/3484"",""first"":false,""inventive"":false,""tree"":[""G01C21/3484"",""G01C21/3453"",""G01C21/34"",""G01C21/26"",""G01C21/00"",""G01C"",""G01"",""G""]}"
"{""code"":""B65H27/00"",""first"":true,""inventive"":true,""tree"":[""B65H27/00"",""B65H"",""B65"",""B""]}"
"{""code"":""E04B7/20"",""first"":false,""inventive"":true,""tree"":[""E04B7/20"",""E04B7/00"",""E04B"",""E04"",""E""]}"
"{""code"":""H03F3/45179"",""first"":true,""inventive"":true,""tree"":[""H03F3/45179"",""H03F3/45076"",""H03F3/45071"",""H03F3/45"",""H03F3/00"",""H03F"",""H03"",""H""]}"
"{""code"":""Y10S977/722"",""f

2025-01-20 06:21:18 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:21:18 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:21:18 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:21:19 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:21:19 - snowflake.connector.connection - INFO - closed
2025-01-20 06:21:19 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:21:20 - root - INFO - SQL:
-- 14. Get priority dates of patents
SELECT "publication_number", "priority_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "priority_date" IS NOT NULL
  AND TRY_TO_DATE(TO_VARCHAR("priority_date"), 'YYYYMMDD') IS NOT NULL
LIMIT 1000
Results:
Too long, hard cut:
publication_number,priority_date
CN-105216244-A,20151106
US-2571835-A,19450323
US-3009706-A,19580312
EP-1998157-A3,20070530
US-4306624-A,19770729
DE-102004039074-B4,20040812
CN-105044338-A,20150626
US-6057931-A,19930712
KR-101327477-B1,20130716
CN-102222734-B,20110707
CN-104828080-A,20141218
DE-4290124-B4,19910110
CN-102289146-A,20110914
CN-102958228-A,20110824
CN-104527358-A,20141215
US-6215672-B1,19970401
JP-H039225-A,19890606
CN-102832667-A,20120829
FR-2423210-A1,19780417
DE-19724924-A1,19970612
FR-2926418-A1,20080116
EP-0403464-A1,19890614
CN-103242708-A,20130523
US-8817671-B2,20101224
JP-S52141936-A,19760426
US-3400629-A,19640403
US-7198698-B1,20010502
JP-2011080987-A,20090930
RU-2505185-C1,20130402
RU-2591466-C2,20110412
CN-105551179-A,20151217
US-5664492-A,19930610
CN-101043956-B,20041020
US-4413017-A,19810611
CN-101022693-B,20060213
US-6062941-A,19990204
WO-2004058094-A1,20021230
JP-H0410577-A,19900427
JP-H0416106-A,19900502
US-4443740-A,19820409
CN-103426983-B,20130828
CN-104620293-A,20120913
WO-2009032191-A1,20070831
US-6882533-B2,20010222
EP-0408228-A2,19890711
JP-2597013-B2,19880915
US-D444852-S,19970304
US-8363726-B2,20070807
US-9627067-B2,20120831
US-8772304-B2,20101101
JP-2009069336-A,20070912
WO-2011089388-A3,20100120
WO-2006013442-A1,20040727
US-7545425-B2,20000803
US-8879320-B2,20111130
JP-2012068061-A,20100921
WO-2004108673-A2,20030609
KR-101522075-B1,20110617
US-2015191688-A1,20120822
US-8798724-B2,20071030
EP-2954958-A1,20140611
JP-2005080838-A,20030908
WO-2016167569-A1,20150417
US-2012063843-A1,20051118
US-8285445-B2,20090422
JP-2014104584-A,20121122
JP-2010031255-A,20080626
KR-101108972-B1,20091112
WO-2015045508-A1,20130925
WO-2005022603-A2,20030902
JP-2014159527-A,20130220
WO-0018678-A1,19980929
WO-2015119595-A1,20140204
WO-2004074770-A1,20030220
WO-2011082126-A1,20091231
WO-2006079990-A1,20050128
WO-2013133407-A1,20120308
US-8281614-B2,20061017
JP-WO2009044716-A1,20071001
JP-2007223963-A,20060224
WO-2014129029-A1,20130225
US-2013340500-A1,20120621
DE-102011051169-A1,20100623
US-8120996-B2,20060404
DE-102015108641-A1,20140716
US-2007158180-A1,20040607
US-2011052422-A1,20080617
US-2014246901-A1,20111007
US-2010047016-A1,20050429
US-7604427-B2,20060718
WO-2013051287-A1,20111005
KR-101609453-B1,20130531
EP-1408649-B1,20010718
EP-2749045-A1,20110826
WO-2013029109-A1,20110831
US-2003030925-A1,20010716
US-2003074312-A1,20011016
US-2014155267-A1,20080523
US-2008270073-A1,20020304
US-6611791-B1,19990527
JP-2009150252-A,20071219
US-2008221008-A1,20061006
CN-202310498-U,20111102
CN-103198610-A,20130305
CN-203600189-U,20131119
CN-203753033-U,20140313
CN-204041598-U,20140904
CN-106141765-A,20160826
CN-205475669-U,20160108
US-2012080365-A1,20100405
EP-2363565-A2,20100226
US-6839968-B2,20020509
US-2005244700-A1,20040503
US-2011114417-A1,20080710
JP-S629085-B2,19790705
DE-19852914-C1,19981117
EP-2095582-A2,20061031
JP-H0392388-U,19891229
JP-S6396105-U,19861211
KR-100599576-B1,20040917
US-5079435-A,19881220
US-2016154045-A1,20141202
US-2009255684-A1,20080410
KR-101171513-B1,20100507
JP-2012189914-A,20110314
EP-1698266-A1,20031226
EP-1004852-A3,19981119
EP-1004867-A2,19981123
JP-S5288620-A,19760113
DE-10004687-C2,20000203
GB-2251279-A,19901225
JP-S574045-A,19800510
DE-19934287-A1,19990721
JP-H0244518-U,19880924
CN-204119614-U,20140929
CN-105547181-A,20151209
KR-100609834-B1,20050422
KR-101768266-B1,20110302
US-2015283903-A1,20140403
DE-1151721-B,19610321
EP-1756966-A1,20040604
EP-0690831-A1,19930322
US-2011015318-A1,20080327
US-2002153222-A1,20010421
US-2013147798-A1,20111208
JP-2008539613-A,20050418
US-2012277443-A1,20110429
US-6517181-B2,19990920
US-2010161879-A1,20081218
US-2009187859-A1,20080123
US-2005117817-A1,20030113
US-2010231522-A1,20050223
JP-S5351961-Y2,19730511
RU-1413842-C,19850812
JP-S5389380-U,19761222
DE-4317170-A1,19930522
EP-1523125-A3,19970709
EP-1862519-A1,20060602
JP-H01272116-A,19880425
JP-2014103306-A,20121121
US-2015054349-A1,20120217
US-2007253358-A1,20051222
DE-4206696-C2,19920304
WO-2013120913-A1,20120215
US-2012011460-A1,20100712
US-2015165540-A1,20131212
DE-3428161-C1,19840731
RU-2048583-C1,19931124
WO-2011050318-A2,20091022
EP-0394374-A1,19880405
DE-2239556-A1,19720811
CN-100557495-C,20060418
US-2004130438-A1,20021008
US-2014267383-A1,20130314
JP-H01234176-A,19890130
JP-S6147793-B2,19790718
EP-1980018-A2,20060131
JP-S5630236-B2,19781117
US-2012307905-A1,20091118
US-2003065859-A1,20010427
US-2003222758-A1,20020124
JP-4849586-B2,20000605
JP-2009123177-A,20071111
WO-0212593-A3,20000804
WO-0190390-A1,20000526
GB-2288885-B,19920417
JP-H0734293-U,19931204
US-9005374-B2,20100331
EP-0240905-A2,19860408
JP-H02164431-A,19881216
EP-2944530-B1,20130111
JP-2007107393-A,20051011
WO-2010138488-A1,20090529
WO-2011064565-A3,20091125
EP-0014963-A2,19790219
US-3383999-A,19670703
US-5594833-A,19920529
US-3233386-A,19630218
RU-2443987-C2,20060915
WO-2009145929-A2,20080108
CN-102978614-A,20121224
CN-105562160-A,20160224
US-8701310-B1,20090817
GB-2273845-A,19921222
JP-S53126302-A,19770411
JP-

2025-01-20 06:21:20 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:21:20 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:21:20 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:21:21 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-20 06:21:21 - snowflake.connector.connection - INFO - closed
2025-01-20 06:21:21 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:21:40 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:21:40 - root - INFO - ```sql
SELECT "publication_number", "priority_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
```
2025-01-20 06:21:40 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:21:40 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:21:40 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:21:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:21:42 - snowflake.connector.connection - INFO - closed
2025-01-20 06:21:42 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:22:49 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:22:49 - root - INFO - SQL:
SELECT "publication_number", "priority_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,priority_date
JP-1810118-C,0
JP-1203714-C,0
FR-1500580-A,19651105
ES-8501233-A1,19821125
CA-2165155-A1,19930614
FR-2409943-B1,19761104
GB-1086860-A,19650422
JP-S54117658-A,19780306
JP-H0710178-Y2,19880302
JP-3172057-B2,19950405
US-136580-A,0
US-272220-A,0
US-599187-A,0
CN-1062411-C,19930720
DE-1479218-U,0
EP-2512367-B1,20091216
ES-2312527-T3,20011206
FR-1000748-A,19491117
FR-1573809-A,19630531
JP-S5066757-U,19731018
JP-S5845249-Y2,19751212
US-2103405-A,19310429
GB-201114438-D0,20110822
JP-5707248-B2,20110622
JP-2016211567-A,20150506
KR-20040075216-A,20030220
CN-1954806-A,20051027
CN-201399214-Y,20090303
JP-1368881-C,0
JP-1444589-C,0
FR-1497898-A,19651230
DE-2707796-A1,19760224
DE-2962208-D1,19781002
FR-2233137-A1,19730615
GB-2224027-B,19881011
JP-S5911756-Y2,19790131
JP-2000218515-A,19990204
JP-S56169301-A,19800602
US-2002102047-A1,20000825
CN-1467804-A,20020712
EP-0988417-B1,19970603
JP-H04334685-A,19910509
JP-S6359143-U,19861007
JP-H0685910-B2,19851219
JP-H0350567-B2,19830510
JP-5108773-B2,20050912
CN-2768052-Y,20041102
CN-1940157-B,20050927
CN-202318915-U,20111123
CN-203200362-U,20130419
JP-897785-C,0
JP-1789132-C,0
JP-S62113530-U,19860109
CA-118661-S,20060707
FI-882364-A0,19880519
CA-810158-A,19660104
DE-2335240-A1,19730711
DE-7610943-U1,19760408
JP-H0673947-U,19930324
JP-S54153049-A,19780523
JP-S5716116-U,19800624
US-548167-A,0
CN-1055840-A,19900409
JP-S6020713-A,19830713
JP-S6234024-A,19850806
JP-H0995081-A,19951002
JP-H1088758-A,19960917
GB-189709494-A,18970414
JP-2001195445-A,19991129
JP-2010101160-A,20081021
CN-101746294-A,20081127
CN-104170353-A,20131227
CN-206056613-U,20160726
JP-1032657-C,0
JP-1654837-C,0
DK-146223-C,19710616
CA-564325-A,0
GB-0802422-D0,20080208
JP-S53139175-U,19770408
JP-H01150349-U,19880407
JP-2600796-Y2,19921015
JP-S591896-U,19820628
JP-S4922438-B1,19681202
US-419959-A,0
DE-69331528-D1,19921223
DE-69430885-T2,19930702
EP-1474362-B1,20020212
JP-2000346423-A,19990531
JP-2765752-B2,19900926
KR-900003183-Y1,19870430
JP-2003229053-A,20020131
JP-2007241524-A,20060307
JP-5129599-B2,20070508
KR-100547071-B1,20020426
KR-20070020426-A,20040223
KR-20130050682-A,20111108
CN-204556165-U,20150506
ES-66185-Y,19580519
CA-1331409-C,19851003
FI-891492-A0,19880330
GB-1348507-A,19700309
JP-S60179587-U,19840510
US-332138-A,0
CN-1112492-C,20000616
DE-566539-C,19280927
DE-845109-C,19500618
JP-S63125649-A,19860602
JP-S6423693-U,19870801
JP-S5243021-U,19750922
JP-S5566205-U,19781031
JP-H0825023-B2,19880630
JP-2003215980-A,20010918
JP-4255884-B2,20040608
KR-100295305-B1,19980216
CN-101547005-A,20080328
CN-101988676-A,20090806
CN-203259375-U,20130516
CN-205932945-U,20160822
DE-202006018912-U1,20061214
FR-2828332-A1,20000623
GB-1375879-A,19730427
JP-S53161674-U,19770523
US-2053075-A,19351119
CN-2484753-Y,20010531
CN-1212523-A,19970911
FI-20010786-A,20010417
JP-S6359144-U,19861004
JP-2799203-B2,19881129
JP-H08143121-A,19941117
US-1837725-A,19290917
US-2304134-A,19410527
US-1864623-A,19310103
JP-5991128-B2,20120929
JP-2016105749-A,20130405
RU-2191214-C2,20010109
RU-2008140707-A,20081015
CN-103265598-B,20130603
CN-203928708-U,20140627
CN-204557664-U,20150410
CN-206326242-U,20160701
CN-104559893-B,20150127
CN-106856628-A,20151209
US-6778773-B2,20010928
JP-H00985753-A,0
JP-1512007-C,0
NL-28211-C,0
CA-2184504-C,19950928
FR-877274-A,19400317
JP-S60218905-A,19840302
JP-H04326774-A,19910426
JP-S5125160-A,19740827
FR-1012104-A,19490609
JP-S5944363-A,19820805
JP-H081564-A,19940615
US-1233474-A,19160803
US-2002011230-A1,20000523
JP-2003169856-A,20011206
US-811638-A,19040305
KR-200338652-Y1,20031028
KR-20070041890-A,20051017
CN-1816294-A,20030705
CN-2858160-Y,20060210
CN-201276086-Y,20080820
CN-201816145-U,20100720
CN-102907994-A,20121109
JP-1573454-C,0
JP-1721868-C,0
JP-2100371-C,0
DK-358583-D0,19820805
ES-146285-Y,19690306
GB-478690-A,19360228
DE-2649618-B2,19761029
DE-3766112-D1,19861201
DE-8007402-U1,19800315
FR-390089-A,19080504
FR-638126-A,19260830
FR-2638622-B1,19881104
JP-H0584037-U,19920421
JP-S4739450-Y1,19670612
JP-H0642846-U,19921120
NL-296405-A,0
NL-7211943-A,19720901
EP-2781788-B1,20130322
JP-S5072414-U,19731109
JP-S5846920-U,19810925
JP-S5874811-U,19811118
JP-S5687776-U,19791211
US-D279853-S,0
KR-920008597-Y1,19880908
JP-2004313014-A,20030411
JP-6137070-B2,20140625
RU-2008132286-A,20080804
US-754320-A,19030502
CN-105823611-A,20160326
CN-106739164-A,20161228
CN-205558012-U,20160203
BE-512467-A,0
CA-2244766-A1,19970812
DE-1803332-A1,19681016
DE-2149141-A1,19711001
GB-2089320-A,19801209
JP-S62164685-U,19860407
JP-H066780-Y2,19890523
DE-69322442-T2,19920625
EP-1933436-B1,20061215
EP-0782478-B1,19940907
EP-0993180-B1,19981009
JP-S5128923-U,19740826
JP-S5153284-U,19741022
JP-S5376919-A,19761220
JP-3340813-B2,19930831
JP-2000192758-A,19981225
JP-H11193667-A,19971229
RU-17326-U1,20001209
KR-20110049427-A,20091105
CN-101531763-A,20090402
CN-201900010-U,20101217
CN-202142477-U,20110623
CN-202417422-U,20120104
CN-202807027-U,20120824
CA-27189-A,0
JP-S4874140-A,19711229
JP-2887866-B2,19970729
F

2025-01-20 06:22:49 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:22:49 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:22:49 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:22:50 - snowflake.connector.cursor - INFO - Number of results in first chunk: 17
2025-01-20 06:22:50 - snowflake.connector.connection - INFO - closed
2025-01-20 06:22:50 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:22:50 - root - INFO - SQL:
-- 16. List distinct country codes from PUBLICATIONS table
SELECT DISTINCT "country_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000
Results:
country_code
JP
FI
DK
WO
LU
NL
US
DE
KR
GB
EP
RU
ES
BE
CN
CA
FR

2025-01-20 06:22:50 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:22:50 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:22:50 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:22:52 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:22:52 - snowflake.connector.connection - INFO - closed
2025-01-20 06:22:52 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:22:53 - root - INFO - SQL:
-- 17. Get US patents filed in the same year as the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "country_code" = 'US'
LIMIT 1000
Results:
Too long, hard cut:
publication_number,filing_date
US-2009137794-A1,20081016
US-2905130-A,19581222
US-2017025400-A1,20150724
US-2006193473-A1,20050228
US-2002140639-A1,20010910
US-2012083569-A1,20100608
US-4462783-A,19830620
US-3676371-A,19700130
US-2731705-A,19510911
US-5080012-A,19900503
US-8579483-B2,20100202
US-5835537-A,19950330
US-4191985-A,19770916
US-2012210769-A1,20120220
US-2016029244-A1,20151003
US-4841512-A,19861217
US-2013001418-A1,20120625
US-2008188815-A1,20060808
US-2014016756-A1,20130620
US-2972422-A,19580102
US-2883000-A,19561015
US-5666219-A,19961031
US-3383801-A,19650215
US-6531828-B2,20010918
US-9711123-B2,20151106
US-2006003891-A1,20050531
US-2007170715-A1,20061031
US-7852320-B2,20081219
US-8892708-B2,20110711
US-5345127-A,19930714
US-2009262564-A1,20090625
US-5804103-A,19970416
US-5010999-A,19900323
US-3996155-A,19741111
US-3520692-A,19660628
US-4949650-A,19890731
US-5833297-A,19970116
US-2014020783-A1,20130305
US-4955005-A,19881005
US-2010204766-A1,20061222
US-6977960-B2,20010816
US-D275654-S,19811208
US-2007214784-A1,20070313
US-2016245255-A1,20151217
US-2010322375-A1,20090225
US-2006115531-A1,20051129
US-2013014847-A1,20120518
US-2015322915-A1,20130612
US-2008074320-A1,20070921
US-2014131971-A1,20131119
US-2005259540-A1,20050518
US-8075629-B2,20081218
US-2011146234-A1,20091223
US-2009271501-A1,20090522
US-2005236571-A1,20050218
US-2002063525-A1,20011129
US-2017055624-A1,20160818
US-7326834-B1,20060227
US-8087376-B2,20061026
US-9024395-B2,20130906
US-2015273101-A1,20130924
US-8552635-B2,20110131
US-8893867-B2,20101005
US-8350205-B2,20100526
US-8404573-B2,20120912
US-6296440-B1,19971110
US-2012085371-A1,20100322
US-7144888-B2,20030808
US-6537182-B2,20010920
US-2012114653-A1,20111107
US-2017161851-A1,20161208
US-2009165008-A1,20071219
US-2012059236-A1,20100908
US-2015223691-A1,20150210
US-2012153549-A1,20111215
US-7788007-B2,20060112
US-2009174897-A1,20081229
US-2015300979-A1,20131118
US-2015166938-A1,20130724
US-2015197695-A1,20150112
US-2003012574-A1,20020605
US-2006152571-A1,20060110
US-2017206908-A1,20160331
US-8909745-B2,20120428
US-2004163231-A1,20040218
US-2004257284-A1,20030623
US-2004015567-A1,20030716
US-2004043973-A1,20021213
US-8492417-B2,20121207
US-7805918-B2,20060411
US-2005109840-A1,20041021
US-2016134183-A1,20160114
US-2009303992-A1,20090605
US-2008088968-A1,20071206
US-2006180009-A1,20060214
US-2005150711-A1,20041007
US-2016159420-A1,20140714
US-2004196366-A1,20030403
US-2004000165-A1,20030626
US-2015181988-A1,20141113
US-2012244425-A1,20120326
US-8288418-B2,20110120
US-2013135381-A1,20121026
US-8851162-B2,20110809
US-7871593-B2,20071013
US-2012315865-A1,20120821
US-2007275821-A1,20070522
US-2013342886-A1,20111031
US-2003093672-A1,20020701
US-2005039624-A1,20040702
US-3880838-A,19730409
US-2007268568-A1,20070726
US-2003121643-A1,20021025
US-2008154227-A1,20071130
US-2014087701-A1,20130924
US-2007157844-A1,20040316
US-2012270933-A1,20120629
US-2005248004-A1,20040813
US-2007298812-A1,20060621
US-6568336-B2,19970718
US-7830431-B2,20090612
US-3278938-A,19630129
US-2017148459-A1,20161220
US-2017031621-A1,20131223
US-2015322068-A1,20150515
US-2528068-A,19450810
US-3100415-A,19600927
US-5297881-A,19921222
US-2700130-A,19520702
US-5364222-A,19930205
US-5931882-A,19970626
US-2002091722-A1,20011003
US-2015078195-A1,20141125
US-RE38474-E,20020827
US-4850108-A,19870917
US-7253893-B2,20040507
US-3668440-A,19701016
US-3415389-A,19660927
US-8608100-B2,20110301
US-3071902-A,19600926
US-3935452-A,19731114
US-2982970-A,19581027
US-8253816-B2,20070228
US-5470782-A,19941117
US-2004054071-A1,20030619
US-3520374-A,19680606
US-4866485-A,19880919
US-6840234-B2,20030922
US-7158811-B2,20040818
US-3137600-A,19600912
US-3233314-A,19620914
US-2014076010-A1,20120914
US-2016032557-A1,20140729
US-2016118083-A1,20151022
US-5057895-A,19900806
US-2012152168-A1,20120229
US-2008201476-A1,20080424
US-7111678-B2,20031030
US-6257546-B1,19970324
US-9661175-B2,20141121
US-7929994-B2,20050728
US-9715096-B2,20141215
US-8486037-B2,20080925
US-7377922-B2,20040415
US-2015304951-A1,20150702
US-2016176348-A1,20160226
US-2002127242-A1,20011026
US-2009284791-A1,20090511
US-2014076942-A1,20130917
US-2009252047-A1,20080402
US-2015154338-A1,20141203
US-2012037655-A1,20110804
US-2006106904-A1,20051109
US-2006243490-A1,20050428
US-2006048886-A1,20051007
US-2009220863-A1,20090115
US-2005064894-A1,20030923
US-2010270340-A1,20100519
US-3261491-A,19630930
US-2014192283-A1,20140305
US-2008017369-A1,20070606
US-D712524-S,20130909
US-2017211529-A1,20170120
US-2011097838-A1,20101230
US-2016144057-A1,20140627
US-2013078338-A1,20120319
US-2004191710-A1,20040312
US-2007009177-A1,20060123
US-2009045934-A1,20081016
US-2009039871-A1,20051129
US-2971968-A,19590129
US-2012214636-A1,20120126
US-2008091801-A1,20071030
US-2005097101-A1,20041202
US-2710983-A,19510531
US-7646560-B2,20080908
US-9760222-B2,20141210
US-2004186225-A1,20040318
US-2016232376-A1,20150205
US-2014367622-A1,20130128
US-2008219487-A1,20080304
US-2005245930-A1,20050519
US-2010298793-A1,2010

2025-01-20 06:22:53 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:22:53 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:22:53 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:22:54 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:22:54 - snowflake.connector.connection - INFO - closed
2025-01-20 06:22:54 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:22:55 - root - INFO - SQL:
-- 18. Get the application numbers and kinds from PUBLICATIONS table
SELECT "publication_number", "application_number", "application_kind"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000
Results:
Too long, hard cut:
publication_number,application_number,application_kind
JP-1810118-C,,
JP-1203714-C,,
FR-1500580-A,FR-82617-A,A
ES-8501233-A1,ES-527521-A,A
CA-2165155-A1,CA-2165155-A,A
FR-2409943-B1,FR-7735619-A,A
GB-1086860-A,GB-1772466-A,A
JP-S54117658-A,JP-2447378-A,A
JP-H0710178-Y2,JP-2769688-U,U
JP-3172057-B2,JP-8042795-A,A
US-136580-A,US-136580D-A,A
US-272220-A,US-272220D-A,A
US-599187-A,US-599187D-A,A
CN-1062411-C,CN-94192833-A,A
DE-1479218-U,DE-1479218D-U,U
EP-2512367-B1,EP-10796532-A,A
ES-2312527-T3,ES-02258408-T,T
FR-1000748-A,FR-1000748D-A,A
FR-1573809-A,FR-1573809D-A,A
JP-S5066757-U,JP-12157373-U,U
JP-S5845249-Y2,JP-16786675-U,U
US-2103405-A,US-53364931-A,A
GB-201114438-D0,GB-201114438-A,A
JP-5707248-B2,JP-2011138029-A,A
JP-2016211567-A,JP-2016092764-A,A
KR-20040075216-A,KR-20030010726-A,A
CN-1954806-A,CN-200510116937-A,A
CN-201399214-Y,CN-200920149802-U,U
JP-1368881-C,,
JP-1444589-C,,
FR-1497898-A,FR-81735-A,A
DE-2707796-A1,DE-2707796-A,A
DE-2962208-D1,DE-2962208-A,A
FR-2233137-A1,FR-7420889-A,A
GB-2224027-B,GB-8922854-A,A
JP-S5911756-Y2,JP-1115379-U,U
JP-2000218515-A,JP-2716799-A,A
JP-S56169301-A,JP-7267680-A,A
US-2002102047-A1,US-8301902-A,A
CN-1467804-A,CN-02141055-A,A
EP-0988417-B1,EP-98937437-A,A
JP-H04334685-A,JP-10443791-A,A
JP-S6359143-U,JP-15313886-U,U
JP-H0685910-B2,JP-28671085-A,A
JP-H0350567-B2,JP-50201484-A,A
JP-5108773-B2,JP-2008531156-A,A
CN-2768052-Y,CN-200420014188-U,U
CN-1940157-B,CN-200610139784-A,A
CN-202318915-U,CN-201120469608-U,U
CN-203200362-U,CN-201320200154-U,U
JP-897785-C,,
JP-1789132-C,,
JP-S62113530-U,JP-73886-U,U
CA-118661-S,CA-118661-F,F
FI-882364-A0,FI-882364-A,A
CA-810158-A,CA-810158D-A,A
DE-2335240-A1,DE-2335240-A,A
DE-7610943-U1,DE-7610943-U,U
JP-H0673947-U,JP-1372293-U,U
JP-S54153049-A,JP-6127078-A,A
JP-S5716116-U,JP-8757880-U,U
US-548167-A,US-548167D-A,A
CN-1055840-A,CN-91102212-A,A
JP-S6020713-A,JP-12906083-A,A
JP-S6234024-A,JP-17353585-A,A
JP-H0995081-A,JP-25540495-A,A
JP-H1088758-A,JP-26678396-A,A
GB-189709494-A,GB-189709494D-A,A
JP-2001195445-A,JP-2000361256-A,A
JP-2010101160-A,JP-2009241960-A,A
CN-101746294-A,CN-200910172035-A,A
CN-104170353-A,CN-201380010040-A,A
CN-206056613-U,CN-201620787602-U,U
JP-1032657-C,,
JP-1654837-C,,
DK-146223-C,DK-287072-A,A
CA-564325-A,CA-564325D-A,A
GB-0802422-D0,GB-0802422-A,A
JP-S53139175-U,JP-4408477-U,U
JP-H01150349-U,JP-4798988-U,U
JP-2600796-Y2,JP-7853992-U,U
JP-S591896-U,JP-9569382-U,U
JP-S4922438-B1,JP-9675069-A,A
US-419959-A,US-419959D-A,A
DE-69331528-D1,DE-69331528-A,A
DE-69430885-T2,DE-69430885-T,T
EP-1474362-B1,EP-03710986-A,A
JP-2000346423-A,JP-15189499-A,A
JP-2765752-B2,JP-25671390-A,A
KR-900003183-Y1,KR-870006567-U,U
JP-2003229053-A,JP-2002024308-A,A
JP-2007241524-A,JP-2006061091-A,A
JP-5129599-B2,JP-2008029567-A,A
KR-100547071-B1,KR-20030012654-A,A
KR-20070020426-A,KR-20067019046-A,A
KR-20130050682-A,KR-20110115885-A,A
CN-204556165-U,CN-201520287082-U,U
ES-66185-Y,ES-66185-U,U
CA-1331409-C,CA-615536-A,A
FI-891492-A0,FI-891492-A,A
GB-1348507-A,GB-2353671-A,A
JP-S60179587-U,JP-6847984-U,U
US-332138-A,US-332138D-A,A
CN-1112492-C,CN-00109228-A,A
DE-566539-C,DE-K0111346-D,D
DE-845109-C,DE-M0004351-A,A
JP-S63125649-A,JP-10792487-A,A
JP-S6423693-U,JP-11859587-U,U
JP-S5243021-U,JP-13038675-U,U
JP-S5566205-U,JP-15039478-U,U
JP-H0825023-B2,JP-16468688-A,A
JP-2003215980-A,JP-2002123731-A,A
JP-4255884-B2,JP-2004169594-A,A
KR-100295305-B1,KR-19990004994-A,A
CN-101547005-A,CN-200810087012-A,A
CN-101988676-A,CN-200910183723-A,A
CN-203259375-U,CN-201320266986-U,U
CN-205932945-U,CN-201620913537-U,U
DE-202006018912-U1,DE-202006018912-U,U
FR-2828332-A1,FR-0008230-A,A
GB-1375879-A,GB-1981272-A,A
JP-S53161674-U,JP-6515277-U,U
US-2053075-A,US-5060335-A,A
CN-2484753-Y,CN-01243278-U,U
CN-1212523-A,CN-98119235-A,A
FI-20010786-A,FI-20010786-A,A
JP-S6359144-U,JP-15273586-U,U
JP-2799203-B2,JP-30885989-A,A
JP-H08143121-A,JP-30953194-A,A
US-1837725-A,US-39316029-A,A
US-2304134-A,US-39547341-A,A
US-1864623-A,US-50638531-A,A
JP-5991128-B2,JP-2012218956-A,A
JP-2016105749-A,JP-2013079323-A,A
RU-2191214-C2,RU-2001100883-A,A
RU-2008140707-A,RU-2008140707-A,A
CN-103265598-B,CN-201310216029-A,A
CN-203928708-U,CN-201420346631-U,U
CN-204557664-U,CN-201520223336-U,U
CN-206326242-U,CN-201620675246-U,U
CN-104559893-B,CN-201510041133-A,A
CN-106856628-A,CN-201510908860-A,A
US-6778773-B2,US-25558902-A,A
JP-H00985753-A,,
JP-1512007-C,,
NL-28211-C,NL-28211D-A,A
CA-2184504-C,CA-2184504-A,A
FR-877274-A,FR-877274D-A,A
JP-S60218905-A,JP-3771885-A,A
JP-H04326774-A,JP-9756691-A,A
JP-S5125160-A,JP-9810174-A,A
FR-1012104-A,FR-1012104D-A,A
JP-S5944363-A,JP-14064983-A,A
JP-H081564-A,JP-15676594-A,A
US-1233474-A,US-11296116-A,A
US-2002011230-A1,US-86407401-A,A
JP-2003169856-A,JP-2001372990-A,A
US-811638-A,US-1904196675-A,A
KR-200338652-Y1,KR-20030033699-U,U
KR-20070041890-A,KR-20050097502-A,A
CN-1816294-A,CN-200480019257-A,A
CN-2858160-Y,CN-200620002194-U,U
CN-201276086-Y,CN-200820190384-U,U
CN-201816145-U,CN-201020262944-U,U
CN-102907994-A,CN-201210445005-A,A
JP-1573454-C,,
JP-1721

2025-01-20 06:22:55 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:22:55 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:22:55 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:22:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:22:56 - snowflake.connector.connection - INFO - closed
2025-01-20 06:22:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:22:56 - root - INFO - SQL:
-- 19. Retrieve assignee names from PUBLICATIONS table
SELECT t."publication_number", f.value:"name"::STRING AS "assignee_name"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."assignee") f
LIMIT 1000
Results:
Too long, hard cut:
publication_number,assignee_name
CN-102838799-A,
WO-2012130723-A1,
JP-2006270030-A,
JP-2006270030-A,
WO-9619275-A1,
WO-2010010272-A1,
WO-2012058031-A2,
WO-2014129770-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
RU-2086498-C1,
GB-2385865-A,
US-2905130-A,
EP-2283785-A1,
DE-19714248-C2,
DE-19714248-C2,
DE-19714248-C2,
RU-1794018-C,
DE-3633442-A1,
EP-3017067-A1,
US-2017025400-A1,
KR-101047941-B1,
JP-4490895-B2,
WO-8808294-A1,
WO-8906094-A1,
US-2006193473-A1,
DE-2928514-A1,
EP-1575518-A4,
EP-0437808-A2,
WO-2012116628-A3,
WO-2012116628-A3,
US-2002140639-A1,
US-2012083569-A1,
DE-867446-C,
JP-S6347116-A,
CN-103309819-B,
CN-103779427-A,
US-4462783-A,
CN-102711555-B,
EP-2480618-A4,
US-3676371-A,
DE-10155358-B4,
CN-104169443-B,
US-2731705-A,
JP-H02176029-A,
US-5080012-A,
CN-102786162-A,
WO-2007064532-A1,
DE-4335701-A1,
JP-H046096-A,
RU-2040212-C1,
DE-1024296-B,
EP-1902251-A1,
US-8579483-B2,
WO-2009123091-A1,
WO-2009123091-A1,
CN-102076011-A,
CN-102076011-A,
GB-2395784-A,
CN-1322548-C,
CN-102576003-B,
EP-2359860-A2,
GB-2369703-A,
US-5835537-A,
CN-104905272-A,
DE-102011101164-B4,
CN-102746310-A,
DE-102004020377-A1,
CN-102979190-A,
US-4191985-A,
DE-102005046585-A1,
CN-101357090-B,
KR-101130611-B1,
US-2012210769-A1,
US-2016029244-A1,
US-4841512-A,
CN-102658567-B,
DE-102004046253-B4,
DE-4304183-C1,
EP-2556787-A4,
JP-2011050363-A,
JP-2011050363-A,
JP-2011050363-A,
JP-2011050363-A,
JP-2008192385-A,
JP-2008192385-A,
EP-1671353-A2,
DE-19929530-A1,
CN-103762775-A,
CN-103710501-A,
US-2013001418-A1,
US-2013001418-A1,
US-2013001418-A1,
US-2013001418-A1,
US-2008188815-A1,
US-2014016756-A1,
US-2972422-A,
EP-2428615-A3,
US-2883000-A,
US-5666219-A,
NL-1021800-C2,
EP-2192433-A1,
CN-102269013-A,
CN-102944104-A,
CN-104121102-A,
CN-104137828-A,
CN-104137828-A,
GB-2499329-A,
FR-3031134-A1,
GB-2399871-B,
CN-103259552-B,
EP-2395367-A1,
US-3383801-A,
EP-0914044-A4,
US-6531828-B2,
US-6531828-B2,
US-9711123-B2,
US-2006003891-A1,
US-2006003891-A1,
US-2006003891-A1,
US-2007170715-A1,
US-2007170715-A1,
JP-S5932053-A,
KR-101479141-B1,
JP-2002246895-A,
JP-2002246895-A,
FR-2968080-A1,
EP-0179301-A3,
CN-102365863-A,
JP-2009156921-A,
JP-2009156921-A,
US-7852320-B2,
EP-1815917-A3,
US-8892708-B2,
US-5345127-A,
US-2009262564-A1,
US-2009262564-A1,
US-5804103-A,
EP-2081258-A1,
CN-101440480-B,
CN-101214922-B,
US-5010999-A,
US-3996155-A,
US-3520692-A,
GB-2500156-A,
GB-2500156-A,
US-4949650-A,
US-5833297-A,
US-2014020783-A1,
EP-1314100-A2,
EP-1912846-A1,
BE-1006021-A3,
EP-1861637-A1,
EP-1998540-A2,
EP-0788505-A1,
RU-2524343-C1,
CN-102769664-A,
CN-102769664-A,
CN-102769664-A,
CN-102769664-A,
CN-102769664-A,
US-4955005-A,
DE-102012004356-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
DE-4207534-A1,
GB-2408053-B,
US-6977960-B2,
US-D275654-S,
CN-101529370-B,
CN-101365856-B,
US-2007214784-A1,
US-2016245255-A1,
US-2010322375-A1,
US-2006115531-A1,
US-2013014847-A1,
US-2015322915-A1,
US-2008074320-A1,
US-2014131971-A1,
US-2005259540-A1,
CN-103722553-B,
CN-105109013-A,
EP-1323060-A1,
CN-101945213-A,
US-8075629-B2,
GB-2343891-B,
EP-1292822-A1,
JP-2012223219-A,
JP-2012223219-A,
JP-H0516834-B2,
US-2011146234-A1,
EP-1998639-A1,
EP-0951604-A1,
US-2009271501-A1,
US-2005236571-A1,
US-2002063525-A1,
US-2002063525-A1,
US-2002063525-A1,
US-2017055624-A1,
DE-102015224801-A1,
US-7326834-B1,
US-8087376-B2,
WO-2008141469-A3,
WO-2008141469-A3,
WO-2008141469-A3,
WO-2008141469-A3,
US-9024395-B2,
EP-1622323-B1,
JP-2008511638-A,
WO-2006090231-A3,
WO-2006090231-A3,
WO-2006090231-A3,
US-2015273101-A1,
US-8552635-B2,
US-8893867-B2,
US-8350205-B2,
JP-2007281053-A,
JP-2007281053-A,
WO-9535440-A2,
WO-9535440-A2,
US-8404573-B2,
US-6296440-B1,
JP-4651629-B2,
KR-101363562-B1,
WO-2016183124-A1,
WO-2016181009-A1,
WO-2016181009-A1,
WO-2016145709-A1,
US-2012085371-A1,
JP-4553106-B2,
JP-2008201932-A,
JP-2008201932-A,
JP-4549690-B2,
WO-2017006705-A1,
WO-2017006705-A1,
WO-2012001037-A1,
WO-9511639-A1,
WO-2014072684-A1,
US-7144888-B2,
WO-2008090062-A1,
EP-2476305-B1,
KR-101411537-B1,
JP-2012131555-A,
JP-2012131555-A,
JP-2009538872-A,
WO-0243418-A1,
WO-8908771-A1,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-0078302-A1,
US-6537182-B2,
JP-4717092-B2,
JP-2014080155-A,
JP-2014080155-A,
WO-2006128642-A1,
WO-2007090428-A1,
WO-2015181512-A1,
US-2012114653-A1,
US-2017161851-A1,
US-2009165008-A1,
US-2012059236-A1,
US-2015223691-A1,
US-2012153549-A1,
US-7788007-B2,
WO-2012173306-A1,
WO-2012173306-A1,
WO-2004019791-A3,
WO-2008080772-A3,
WO-2008080772-A3,
WO-2008080772-A3,
WO-2008080772-A3,
US-2009174897-A1,
US-2015300979-A1,
WO-2013043225-A1,
US-2015166938-A1,
US-2015197695-A1,
US-2003012574-A1,
US-2006152571-A1,
CN-206284331-U,
DE-102004026783-A1,
DE-202010015962-U1,
US-2017206908-A1,
EP-0893647-A2,
US-8909745-B2,
US-2004163231-A1,

2025-01-20 06:22:56 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:22:56 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:22:56 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:22:58 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-20 06:22:58 - snowflake.connector.connection - INFO - closed
2025-01-20 06:22:58 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:22:58 - root - INFO - SQL:
-- 20. Get patents with their IPC codes from PUBLICATIONS table
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000
Results:
Too long, hard cut:
publication_number,ipc_code
US-3234486-A,H03C3/14
US-9534267-B2,H05B6/22
US-9534267-B2,C21D1/10
US-9534267-B2,H05B6/36
US-9534267-B2,H05B6/10
US-9534267-B2,C21D1/42
US-9534267-B2,C21D9/40
US-9358971-B2,B60W10/107
US-9358971-B2,B60W30/18
US-9358971-B2,B60W10/06
US-9358971-B2,B60W20/00
US-9358971-B2,B60W10/119
US-9358971-B2,B60W10/02
US-9358971-B2,B60W10/08
US-9358971-B2,B60K6/543
US-9358971-B2,B60K6/48
WO-2009076318-A1,H04W48/00
CN-101879666-A,B23K9/18
CN-101879666-A,B23K31/02
CN-101879666-A,B23K9/16
CN-101879666-A,B23K9/235
US-3153574-A,C05B7/00
DE-952418-C,B43K8/16
US-4462662-A,G03G15/043
US-4462662-A,G02B6/08
US-4462662-A,G02B6/04
US-4462662-A,G02B3/00
US-4462662-A,G03G15/04
US-4462662-A,G02B27/18
CN-101513621-B,H05B3/32
CN-101513621-B,B01L7/00
KR-100591579-B1,B01D35/00
KR-100591579-B1,F25D11/00
CN-101536726-B,A23L33/185
CN-101536726-B,A23J1/12
CN-101536726-B,A23C11/10
US-4833990-A,B41J2/32
US-4833990-A,B41C1/10
US-4833990-A,B41N1/00
US-4833990-A,B41F7/02
US-6034918-A,G06F11/00
US-6034918-A,G11C11/409
US-6034918-A,G11C11/407
US-6034918-A,G11C11/401
US-6034918-A,G06F12/00
US-6034918-A,G06F1/10
US-6034918-A,G11C29/00
US-6034918-A,G06F12/06
US-6034918-A,G11C11/4096
US-6034918-A,G11C5/06
US-6034918-A,G11C5/00
US-6034918-A,G06F13/376
US-6034918-A,G11C8/00
US-6034918-A,G11C11/4076
US-6034918-A,G06F12/02
US-6034918-A,G06F13/16
US-6034918-A,G11C7/10
US-6034918-A,G11C7/22
US-6034918-A,G06F11/10
CN-103294215-A,G06F3/02
CN-100450473-C,A61K9/107
CN-100450473-C,A61K47/18
CN-100450473-C,A61K31/05
CN-100450473-C,A61P23/00
CN-100450473-C,H01L21/328
CN-100450473-C,H01L23/60
JP-2013023995-A,E05B77/36
JP-2013023995-A,E05B83/30
JP-2013023995-A,E05C9/04
JP-2013023995-A,B60R7/06
JP-2013023995-A,E05C21/00
EP-0128549-A1,G08B19/00
EP-0128549-A1,G08B29/10
EP-0128549-A1,G08B25/14
DE-102004061871-A1,B24D7/16
DE-102004061871-A1,B24D5/16
US-4920600-A,B08B9/04
US-4920600-A,B08B9/057
DE-19963871-B4,B62D6/00
DE-19963871-B4,B62D3/12
DE-19963871-B4,B62D5/06
DE-19963871-B4,B62D5/04
DE-19963871-B4,B62D7/18
US-9750609-B2,A61F5/41
US-9750609-B2,A61F2/26
US-4432330-A,F02M25/07
US-4432330-A,F02D21/08
US-3140798-A,G07F11/64
FR-2390374-A1,B67D7/54
FR-2390374-A1,B67D7/04
JP-H0321460-U,E02D29/02
DE-2913972-A1,H02K3/42
DE-2913972-A1,H02K9/19
DE-2913972-A1,H02K1/20
EP-0151290-A1,C08G12/04
EP-0151290-A1,C07C301/00
EP-0151290-A1,C14C3/18
EP-0151290-A1,C07C67/00
EP-0151290-A1,C07C309/46
EP-0151290-A1,C14C3/26
EP-0151290-A1,C08G12/40
EP-0151290-A1,C07C309/45
EP-0151290-A1,C07C309/24
EP-0151290-A1,C08G12/34
US-6117929-A,C09K3/00
US-6117929-A,C10L3/06
CN-103363681-A,F24J2/46
CN-103363681-A,F24J2/04
US-2634696-A,H03H3/02
JP-2011062872-A,C09D11/00
JP-2011062872-A,C09D11/328
JP-2011062872-A,C09D11/322
JP-2011062872-A,B41J2/01
JP-2011062872-A,B41M5/00
CN-105329632-A,B65G35/00
US-8098574-B2,G01R31/08
US-2584812-A,F16B21/08
US-7857729-B2,A63B71/00
JP-H02164326-A,A47L9/19
JP-H02164326-A,A47L9/28
CN-105182801-A,G05B17/02
EP-1328257-A2,A61K9/26
EP-1328257-A2,A61K9/28
EP-1328257-A2,A61K9/00
EP-1328257-A2,A61K6/00
EP-1328257-A2,A61Q11/00
EP-1328257-A2,A61K9/16
EP-1328257-A2,A61K9/14
EP-1328257-A2,A61K8/02
EP-1328257-A2,A61K9/51
CN-103425156-A,G05D27/02
RU-1840441-C,H01J23/00
DE-1285677-B,B22C1/18
US-8080145-B2,G01N27/447
US-4229223-A,C04B28/14
JP-S6384599-A,D05B69/00
JP-S6384599-A,D05B47/04
JP-S6384599-A,D05B47/02
CN-102361616-A,A61F13/15
CN-102361616-A,A61F13/496
CN-102917236-B,H04N13/02
CN-102917236-B,G03B35/20
CN-102917236-B,H04N5/225
EP-1549212-A4,G06K9/00
EP-1549212-A4,G06F17/00
EP-1549212-A4,A61B5/113
EP-1549212-A4,A61B5/00
EP-1549212-A4,A61B5/0205
US-2005265068-A1,G11C11/405
US-2005265068-A1,G11C11/4097
US-2005265068-A1,H01L27/108
US-2005265068-A1,H01L21/8242
US-2005265068-A1,G11C11/24
US-2005265068-A1,H01L27/02
US-2005129328-A1,G06T11/00
US-2005129328-A1,G06T5/00
US-2005129328-A1,G06K9/62
US-2005129328-A1,G06T5/20
US-2005129328-A1,G06F3/12
US-2007200493-A1,H01J1/62
US-2007200493-A1,H01J63/04
US-2007200493-A1,H01L33/10
US-2007200493-A1,H01L33/20
US-2007200493-A1,H01L33/42
US-2007200493-A1,H01L33/40
EP-3159356-A1,C07K17/00
EP-3159356-A1,C07K14/47
EP-3159356-A1,C07K16/00
EP-3159356-A1,C12P21/08
EP-3159356-A1,C07K17/14
CN-103548124-B,H01L21/318
CN-103548124-B,H01L21/205
US-7050911-B1,G01N33/58
US-7050911-B1,G01N33/566
US-7050911-B1,G01N33/574
US-7050911-B1,G06F19/00
US-7050911-B1,G01N33/53
US-7050911-B1,C12Q1/68
US-7050911-B1,C12N15/09
JP-2011163194-A,F01M1/16
JP-2011163194-A,F01M1/08
JP-2011163194-A,F04C2/344
JP-2011163194-A,F04C14/22
JP-2011163194-A,F01P3/08
JP-2011163194-A,F01M1/02
EP-0110246-A1,E01B31/17
US-4699092-A,F02B3/06
US-4699092-A,F02F1/42
US-4699092-A,F02F1/24
US-4699092-A,F02B1/04
US-4699092-A,F02F1/40
US-4699092-A,F02F1/36
US-4699092-A,F02B75/12
DE-102017100965-B3,C22B3/00
JP-2007177271-A,C22C38/14
JP-2007177271-A,C22C38/38
JP-2007177271-A,C22C38/00
JP-2007177271-A,C21D9/46
US-2750823-A,B21D7/06
CN-105358803-A,F02B19/00
CN-105358803-A,F02B43/04
CN-105358803-A,F02B77/11
CN-103090029-A,F16K1/44
DE-102013003683-A1,B60R16/02
DE-102013003683-A1,B60W30/06

2025-01-20 06:22:58 - root - INFO - itercount: 0
2025-01-20 06:22:58 - root - INFO - Database Name: PATENTS_GOOGLE
Schema Name: PATENTS_GOOGLE
DDL describes table information.
,0
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

,1
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,2
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""description_localized"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""citation"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,3
table_name,ABS_AND_EMB
description,
DDL,"create or replace TABLE ABS_AND_EMB (
	""publication_number"" VARCHAR(16777216),
	""title"" VARCHAR(16777216),
	""title_translated"" BOOLEAN,
	""abstract"" VARCHAR(16777216),
	""abstract_translated"" BOOLEAN,
	""cpc"" VARIANT,
	""cpc_low"" VARIANT,
	""cpc_inventive_low"" VARIANT,
	""top_terms"" VARIANT,
	""similar"" VARIANT,
	""url"" VARCHAR(16777216),
	""country"" VARCHAR(16777216),
	""publication_description"" VARCHAR(16777216),
	""cited_by"" VARIANT,
	""embedding_v1"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS_GOOGLE': {'PATENTS_GOOGLE': ['ABS_AND_EMB', 'CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
Consider which tables and columns are relevant to the task.

**Relevant Tables and Columns:**

1. **Table:** `PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS`
   - **"publication_number"**: To identify the target patent and other patents.
     - *Potential usage*: Find the target patent (`US-9741766-B2`) and retrieve other patents.
   - **"filing_date"**: The date when the patent was filed.
     - *Potential usage*: Filter patents filed in the same year as the target patent.
   - **"country_code"**: To filter patents by country if needed.
   - **"title_localized"**: Contains the title of the patent in a nested VARIANT format.
     - *Potential usage*: Extract titles for additional context.
   - **"abstract_localized"**: Contains the abstract in a nested VARIANT format.
     - *Potential usage*: For text analysis or understanding patent content.

2. **Table:** `PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB`
   - **"publication_number"**: To link with the `PUBLICATIONS` table.
     - *Potential usage*: Join to get embeddings for patents.
   - **"embedding_v1"**: Contains embeddings used for calculating similarity.
     - *Potential usage*: Compute similarity between patents.
   - **"title"**: Title of the patent.
     - *Potential usage*: For display or additional filtering.
   - **"abstract"**: Abstract of the patent.
     - *Potential usage*: For text analysis or comparison.

**Conditions that may be used:**

- **Filter by filing year**: Use `EXTRACT(YEAR FROM "filing_date")` to get patents filed in the same year.
- **Join conditions**: Join `PUBLICATIONS` and `ABS_AND_EMB` tables on `"publication_number"`.
- **Exclude the target patent**: Ensure the target patent is not included in the results when searching for similar patents.
- **Flatten nested columns**: Use `LATERAL FLATTEN` to extract data from VARIANT columns like `"title_localized"` and `"abstract_localized"`.

---

**SQL Queries:**

```sql
-- 1. Retrieve the filing date of the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "publication_number" = 'US-9741766-B2'
LIMIT 1000;
```

```sql
-- 2. List distinct filing dates to understand the date format
SELECT DISTINCT "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 3. List distinct publication numbers from PUBLICATIONS table
SELECT DISTINCT "publication_number"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 4. Retrieve embeddings for the target patent from ABS_AND_EMB table
SELECT "publication_number", "embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
WHERE "publication_number" = 'US-9741766-B2'
LIMIT 1000;
```

```sql
-- 5. List distinct publication numbers from ABS_AND_EMB table
SELECT DISTINCT "publication_number"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000;
```

```sql
-- 6. Get patents filed in the same year as the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE EXTRACT(YEAR FROM TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD')) = (
    SELECT EXTRACT(YEAR FROM TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD'))
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
)
LIMIT 1000;
```

```sql
-- 7. Get embeddings for patents filed in the same year as the target patent
SELECT a."publication_number", a."embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
  ON a."publication_number" = p."publication_number"
WHERE EXTRACT(YEAR FROM TO_DATE(p."filing_date"::VARCHAR, 'YYYYMMDD')) = (
    SELECT EXTRACT(YEAR FROM TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD'))
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
)
LIMIT 1000;
```

```sql
-- 8. Explore the structure of the "embedding_v1" column
SELECT "publication_number", "embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000;
```

```sql
-- 9. Retrieve titles from ABS_AND_EMB table
SELECT "publication_number", "title"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000;
```

```sql
-- 10. Flatten and retrieve CPC codes from the "cpc" VARIANT column
SELECT t."publication_number", f.value::VARIANT::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
LIMIT 1000;
```

```sql
-- 11. Get the abstract text from PUBLICATIONS table using LATERAL FLATTEN
SELECT t."publication_number", f.value::VARIANT:"text"::STRING AS "abstract_text"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."abstract_localized") f
LIMIT 1000;
```

```sql
-- 12. List distinct CPC codes from ABS_AND_EMB table
SELECT DISTINCT f.value::VARIANT::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
LIMIT 1000;
```

```sql
-- 13. Retrieve inventors from PUBLICATIONS table
SELECT t."publication_number", f.value::VARIANT:"name"::STRING AS "inventor_name"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."inventor") f
LIMIT 1000;
```

```sql
-- 14. Get priority dates of patents
SELECT "publication_number", "priority_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 15. Retrieve titles from PUBLICATIONS table using LATERAL FLATTEN
SELECT t."publication_number", f.value::VARIANT:"text"::STRING AS "title_text"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."title_localized") f
LIMIT 1000;
```

```sql
-- 16. List distinct country codes from PUBLICATIONS table
SELECT DISTINCT "country_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 17. Get US patents filed in the same year as the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "country_code" = 'US'
  AND EXTRACT(YEAR FROM TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD')) = (
      SELECT EXTRACT(YEAR FROM TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD'))
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
  )
LIMIT 1000;
```

```sql
-- 18. Get the application numbers and kinds from PUBLICATIONS table
SELECT "publication_number", "application_number", "application_kind"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 19. Retrieve assignee names from PUBLICATIONS table
SELECT t."publication_number", f.value::VARIANT:"name"::STRING AS "assignee_name"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."assignee") f
LIMIT 1000;
```

```sql
-- 20. Get patents with their IPC codes from PUBLICATIONS table
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```

These queries aim to explore the data relevant to the task by:

- Retrieving filing dates to understand the format and extract the year.
- Getting embeddings and other details from the `ABS_AND_EMB` table.
- Exploring nested JSON structures using `LATERAL FLATTEN` to access data within VARIANT columns.
- Understanding technology classifications through CPC and IPC codes.
- Extracting titles, abstracts, inventors, and assignees for additional context.

This exploration helps in understanding how to approach the task of finding the top five patents similar to `US-9741766-B2` filed in the same year.Query:
-- 1. Retrieve the filing date of the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "publication_number" = 'US-9741766-B2'
LIMIT 1000;
Answer:
publication_number,filing_date
US-9741766-B2,20160511
Query:
-- 2. List distinct filing dates to understand the date format
SELECT DISTINCT "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
Answer:
Too long, hard cut:
filing_date
20000526
20090902
20050907
19010211
20140305
19541018
19790803
19770511
19490826
19750821
19840921
20160628
20010523
19010708
20120622
19960405
20150722
19520115
20040426
20021226
20110830
20131002
20010917
19910805
19971120
19960108
19780516
19940623
20160203
19890623
19851031
19961031
20120703
19860812
20140908
19490720
20031028
20130426
19751118
19871223
20000608
19760920
19860630
19970905
19831118
20080610
20110130
20131112
20001212
19900613
20031001
20101217
20111213
20120316
20090618
20120319
19960524
20040624
20121019
20061019
20120618
19960411
20120406
19730528
19221114
20160711
19680708
19450827
20170103
19801217
19890131
19920708
20170515
20131231
20040928
20111031
20150528
19870519
19900707
20010630
20090710
19960429
20090116
20020402
20011029
19791122
19840207
19551006
20150613
20080430
19980218
19771229
20100816
20090123
19980608
20060911
20000814
20000706
20030522
19730804
19760127
19940226
20041012
19730518
20070425
19860814
20000627
19790419
19890316
19810806
19880321
19100421
19810622
19900228
19800701
19711026
19621017
20070507
20100121
19951101
19841115
19910409
19701030
19950313
20110922
19840601
19910823
20030421
19571223
20080704
20010420
19990730
19731001
19950921
20080306
20080326
19840114
20020313
20061226
20050318
19720217
20060113
19920221
19901024
19681115
20051116
20040915
20151203
20141116
19931112
19950706
19860929
19770711
20040415
20031007
20100719
20010103
19730329
19961128
19690313
19970818
19800331
19680731
19790122
19680502
19341003
19971226
19640820
19330225
19761122
19830321
19751117
19990520
19930222
19960201
19980825
19840430
19550720
20070902
19510206
19591209
19720623
20020228
20160412
19880526
19890608
19801112
19720804
19311205
19840319
19420109
19830413
19400727
19730322
19710819
19860411
19750508
19711221
19231113
19260225
19910314
19510806
19870921
19710830
19550412
19710628
19880129
19971003
19620428
19770901
19570318
19870202
20020303
19870206
20000708
19940113
19900222
19990126
19750630
19450202
19540629
19110811
19810227
19730502
20050702
20090101
19960618
19750805
19571211
19511221
19640612
19941004
19970401
19910403
19680123
19880208
19780524
19780608
19920417
19861206
19880401
19900122
19260823
19710323
19750820
19941225
19830622
19981128
19750115
19540810
19780629
19910301
19920515
19871103
19431026
19360530
20020206
19920507
19860521
19840702
19590714
19580327
19590420
19720317
19300901
19251016
19521021
19650928
19920711
19711230
19250601
19801104
19750123
19680113
19451107
19620510
19491008
19790116
19530724
19731103
18970405
19410310
19050703
19210629
19780904
19791201
19640930
19540319
19531218
19500920
19710705
19060718
20121111
19230707
19270623
19620824
19671214
19691229
19810418
19950321
19091220
19550801
19560510
19650503
19431012
18980822
19940112
19721026
19360721
19900821
19660221
20120916
19600201
20120930
19970102
19880207
19120327
19421130
19710605
19811002
19970218
19080808
19650115
19670111
20001112
19961102
19710826
19661031
19380713
19690908
19670911
19730117
19831109
19560211
19171128
19230210
20011215
19010610
19180508
19810419
19020128
19190325
19700318
19500407
19220430
19051031
19140908
19170425
19250926
19150430
19740313
20040812
19960322
19790705
19880924
20121224
20121122
20080331
20011108
20110504
20110503
19850202
20050523
19921102
20110826
20091023
19980407
20000705
19910911
20120606
20100527
19960718
19870218
20100716
20161027
20061109
20080122
20160901
20101028
20010622
20120621
19930714
20070920
20000505
19901218
19980507
19760611
20031016
20070122
19951215
20061027
20160613
20140910
20080807
19960930
20030220
20121205
20121011
19930817
20090617
19890926
19950512
20091021
20130404
20070503
19460116
19380516
19891003
19841017
20001213
19641101
19830919
20020204
20011004
20160612
20080516
19370811
19930430
19910913
19420916
20011129
19751002
20010918
20020610
19760910
19890519
20150609
20090826
19860120
19770122
20100818
19950502
19970306
19980206
19950315
19710601
20120718
20080821
19950301
19830510
19790216
19910122
20030723
20110701
20120405
19900308
19540610
19650907
20080318
19830930
20060602
19681223
19361230
19840903
19810302
19761008
19991109
19930906
19820215
20031127
19651005
19260322
19990111
20170228
20120727
19540205
19880719
19820713
19900614
19930830
19890421
19980720
20080121
19771222
19750131
20110303
19660301
19891109
20060310
20040211
20140403
19861009
19881227
19840109
19660629
19750303
19670116
19880714
19700119
19540824
19961214
20040913
19690424
19790731
19980131
20050521
19871013
19910516
20140102
19651112
19860412
20011025
20080915
20070825
19921027
20070206
19530722
19580324
20140728
20121117
20130517
19810610
19860514
20161215
19821218
19870709
19801114
19940927
19831129
19670626
19690121
19491101
19640804
20110913
19640406
19690404
19550414
20030607
20151116
20020314
20100327
19621210
20100215
19980826
19971021
19700310
19800722
20000322
19640626
19921214
19860806
20021002
19750310
19930513
19510831
19650604
20040826
19950209
19970721
19660603
19930220
19380527
19870212
19730425
19
Query:
-- 3. List distinct publication numbers from PUBLICATIONS table
SELECT DISTINCT "publication_number"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number
JP-5053684-B2
JP-S5684106-A
KR-20160059796-A
CN-202092979-U
CA-2006967-A1
FR-2130213-B1
FR-2868116-B1
GB-339456-A
CN-105335590-A
NL-284445-A
DE-1553730-B2
CA-2667102-C
JP-2010275935-A
RU-2267236-C2
JP-4662004-B2
JP-H0357480-Y2
KR-100969318-B1
KR-100849922-B1
DE-10123875-B4
JP-2011066261-A
US-2004165077-A1
US-3249349-A
US-2004011690-A1
EP-0189388-A2
US-9630754-B2
CN-101812618-B
US-2011195666-A1
US-2010096432-A1
GB-9503212-D0
JP-H07279784-A
KR-20170051931-A
CN-106682300-A
CN-205388666-U
CN-101156053-A
CN-101504685-A
CN-202388867-U
CA-1036681-A1
NL-7205701-A
CN-201015298-Y
RU-2004127910-A
US-924209-A
DE-580257-C
CN-102822600-A
KR-20020051544-A
EP-1187505-B1
KR-20040007916-A
JP-H07260431-A
DE-1653265-C3
CN-101566251-A
US-1329943-A
US-2005091687-A1
JP-H0738853-U
KR-960003907-Y1
FR-835817-A
ES-486398-D0
JP-4093017-B2
JP-1313752-C
US-2017255023-A1
JP-S59141929-U
JP-929704-C
JP-S52156774-U
DE-60128510-D1
JP-2000194696-A
FR-2276505-A1
JP-5388616-B2
JP-2015209314-A
CA-2566168-A1
CN-105194826-A
CN-205693099-U
JP-2003282245-A
JP-3875139-B2
CN-2389351-Y
ES-469999-A1
GB-0718937-D0
CN-101586922-A
FR-1328025-A
JP-2006000192-A
DE-845656-C
DE-69124571-D1
EP-1063011-B1
JP-S4866518-A
EP-0973641-B2
EP-1986906-B1
JP-H09280686-A
CA-2519820-A1
JP-H0943829-A
CN-1360554-A
CA-879174-A
JP-2004224947-A
JP-5864707-B2
US-6369213-B1
CN-2825382-Y
CA-2751513-A1
CN-205399250-U
CA-659854-A
JP-H0429352-A
CN-103338004-A
US-3493475-A
JP-H037330-B2
DE-1121417-B
FR-2850537-A1
US-2016112458-A1
US-3890908-A
US-7404735-B2
WO-2014010966-A1
DE-19941460-A1
CN-103741202-A
JP-2013188488-A
GB-2466165-A
CN-103221151-A
US-3860335-A
US-2010185758-A1
US-2005249213-A1
JP-H01120108-U
EP-0615811-A3
US-D324653-S
WO-2006110114-A1
US-5105768-A
JP-H04501950-A
CN-101117326-B
US-4217994-A
EP-0355602-A3
WO-2011117274-A1
US-2006280471-A1
CN-102435788-A
US-8701310-B1
EP-0552404-A1
JP-2007527314-A
EP-2362744-A1
US-2013008848-A1
US-2006113993-A1
EP-1254018-A1
US-3082849-A
EP-1700729-A1
US-2014200747-A1
CN-106197969-A
EP-2490605-A1
US-6048415-A
CN-102737224-A
US-5258689-A
DE-3413421-A1
WO-2008156383-A1
JP-S5043774-A
DE-10349448-B4
WO-03103696-A1
WO-0054153-A3
WO-0178466-A1
US-6022949-A
KR-100956317-B1
US-2007229004-A1
JP-H05237953-A
EP-1043858-B1
FR-1340609-A
DK-273690-A
US-2192891-A
ES-171300-Y
KR-20170078596-A
JP-S4929692-Y1
KR-20000050701-A
JP-S4852312-U
JP-2532499-B2
JP-2001520620-A
DE-602004031872-D1
US-7885444-B2
EP-2215338-B1
KR-870001774-Y1
JP-4259528-B2
DE-60109966-D1
KR-20090012973-A
JP-2833240-B2
EP-2873178-A1
US-1718229-A
JP-S5296812-U
DE-1307240-U
US-8400024-B2
US-7030821-B2
KR-20070001386-A
KR-890001809-B1
CN-204094089-U
US-7818867-B1
US-2003236749-A1
US-3672684-A
EP-1865519-A1
GB-2305324-B
KR-100904513-B1
EP-0314218-A1
JP-2016035691-A
US-2011019427-A1
US-2008115021-A1
JP-2014529474-A
CN-103687275-A
US-4875403-A
US-3250251-A
EP-1180394-A1
US-2009023113-A1
DE-4323983-C1
US-2681667-A
US-8255845-B2
EP-0602732-A3
JP-2800455-B2
US-9582584-B2
DE-102009033748-B4
JP-2010536821-A
EP-0519822-A1
JP-S6232075-A
EP-2119530-A1
CN-103965578-A
US-2986294-A
US-5071350-A
DE-1216508-B
DE-3347195-A1
WO-9940937-A2
WO-03075714-A1
US-2011294722-A1
US-2010053828-A1
EP-0384405-A3
CN-104692477-A
US-9313030-B2
US-2015209677-A1
US-2012320253-A1
US-2001024301-A1
DE-2712582-A1
US-3417621-A
EP-1542233-A1
CN-104410598-A
US-2005259588-A1
RU-2198919-C1
EP-0933106-A2
US-4495225-A
JP-H0378086-B2
CN-102674963-A
CN-103232390-B
JP-S61164450-A
CN-103969947-A
FR-3005035-A1
EP-0759589-A2
CN-100586267-C
WO-2005107018-A1
US-2009268032-A1
US-2013275517-A1
JP-S631363-U
WO-2014117094-A2
WO-2017045079-A1
US-8925068-B2
US-2011196299-A1
EP-1443046-A1
US-2004101305-A1
US-3879287-A
KR-890000405-B1
WO-0100405-A3
WO-2007025193-A1
US-6100478-A
JP-2010275653-A
US-7872544-B2
CN-102567190-A
DE-1206252-B
CN-100572615-C
RU-2476276-C2
JP-2015525258-A
DE-19710252-A1
US-2009162255-A1
WO-2004046687-A2
JP-S5381718-U
JP-WO2013128568-A1
US-4662552-A
US-4009782-A
JP-H0246961-A
RU-2499633-C1
EP-1923371-A1
JP-S5847087-U
CN-104846818-A
US-2005106948-A1
WO-2005119380-A2
WO-2009070095-A1
GB-2116938-A
US-4839945-A
FR-2873725-A1
CN-100534900-C
EP-1183873-A1
CN-1965694-B
DE-19511997-C1
JP-S6233554-A
US-5384556-A
DE-2932194-A1
US-8957970-B1
DE-3319063-C1
CN-102234769-B
CN-104752381-A
FR-2714034-A1
CN-101817624-A
CN-101592546-B
JP-H02143271-U
EP-2563254-B1
JP-3081098-B2
DE-1944057-U
JP-H04336828-A
KR-20120134763-A
US-2011058668-A1
JP-S5415166-A
EP-0188265-B1
US-1908094-A
CN-2170941-Y
ES-231700-A1
CN-85101252-B
JP-S643829-A
CN-86208952-U
DE-102014006671-A1
DE-2257393-B2
JP-3413113-B2
CN-205738201-U
ES-485757-A1
FR-63581-E
DE-662163-C
JP-S5022099-Y2
CA-2906009-A1
CA-2747673-C
KR-100192981-B1
DE-1759007-U
JP-S5396406-A
JP-1280240-C
US-2010230149-A1
GB-2211581-B
US-4335750-A
RU-2086441-C1
GB-2244286-A
KR-101291265-B1
EP-1620713-A2
DE-2167255-C3
CN-104090410-B
CN-104582314-A
JP-H03258170-A
WO-2004073656-A2
KR-100994631-B1
US-2015185943-A1
JP-2015518891-A
CN-104191744-A
US-2010250187-A1
US-7825940-B1
CN-103173652-A
US-7260779
Query:
-- 4. Retrieve embeddings for the target patent from ABS_AND_EMB table
SELECT "publication_number", "embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
WHERE "publication_number" = 'US-9741766-B2'
LIMIT 1000;
Answer:
publication_number,embedding_v1
US-9741766-B2,"[
  -9.759014000000001e-02,
  -7.865134600000000e-02,
  -1.022462700000000e-01,
  -9.834030000000001e-02,
  -2.579060200000000e-01,
  -8.247189000000001e-02,
  1.374225900000000e-02,
  -1.229494800000000e-01,
  8.081952500000000e-02,
  2.691578000000000e-02,
  -1.114439740000000e-01,
  1.340977100000000e-01,
  7.433381000000000e-02,
  5.153231300000000e-03,
  -1.075460760000000e-01,
  -1.806273000000000e-02,
  1.831943100000000e-01,
  -2.954358000000000e-02,
  -6.046254600000000e-02,
  7.859522000000000e-05,
  2.566466300000000e-01,
  -2.432912800000000e-02,
  -1.067616100000000e-01,
  1.014580600000000e-01,
  -1.380856800000000e-01,
  -7.149687400000000e-02,
  2.085472300000000e-01,
  -1.329061700000000e-01,
  4.087418700000000e-02,
  3.374565800000000e-02,
  -7.300706999999999e-02,
  -5.706553500000000e-02,
  1.701403400000000e-02,
  -4.457178300000000e-02,
  -8.327014000000001e-02,
  -1.801684000000000e-01,
  5.113800200000000e-02,
  -3.076108700000000e-01,
  1.580761500000000e-01,
  -3.533404300000000e-02,
  4.311743400000000e-02,
  -1.017805560000000e-01,
  2.070724500000000e-01,
  -8.408691000000000e-02,
  -3.405414800000000e-01,
  4.591350600000000e-02,
  -9.560194599999999e-02,
  1.438113600000000e-01,
  9.557541000000000e-02,
  -3.235852300000000e-02,
  -1.889847800000000e-02,
  2.546579800000000e-01,
  -7.303727400000000e-02,
  1.090229450000000e-01,
  -3.175191000000000e-02,
  5.433388400000000e-02,
  1.566456700000000e-01,
  7.496597600000000e-02,
  -2.029408200000000e-01,
  5.405708800000000e-02,
  6.993917400000001e-02,
  2.129010400000000e-01,
  6.955723700000000e-03,
  3.396455000000000e-02
]"
Query:
-- 5. List distinct publication numbers from ABS_AND_EMB table
SELECT DISTINCT "publication_number"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number
US-5380093-A
US-7321997-B2
US-5709364-A
US-5234220-A
GB-2065897-A
JP-2004331024-A
FR-2728459-A1
US-4084473-A
US-2007142784-A1
US-8080972-B2
US-7562162-B2
US-1859352-A
US-4987146-A
US-7515147-B2
US-6069028-A
DE-3731079-A1
WO-2010046108-A1
US-6094878-A
US-7204695-B1
US-4255347-A
US-2836628-A
US-2002191011-A1
US-2953814-A
US-6123147-A
US-5121838-A
US-6337325-B1
JP-2001185371-A
US-5739341-A
US-5000131-A
US-4658947-A
US-5344206-A
US-2004005320-A1
US-2007077907-A1
US-5877704-A
US-5217114-A
US-5334149-A
US-5371652-A
US-6077083-A
US-6556608-B1
US-2014092740-A1
US-7391423-B1
US-5663195-A
US-3421681-A
US-8321393-B2
US-2003200674-A1
JP-2000221821-A
US-7473818-B2
US-4124805-A
US-7157704-B2
US-5342403-A
WO-2005002626-A2
US-4546881-A
US-6671421-B1
JP-H09312942-A
US-2762648-A
US-2005125217-A1
US-4636440-A
US-4208956-A
US-2014009561-A1
WO-9522922-A1
US-5016191-A
US-4387880-A
US-5459477-A
US-6120939-A
US-2004063833-A1
US-3884356-A
US-2013042056-A1
WO-9413258-A1
US-2004197350-A1
US-7270947-B2
US-7295399-B2
US-7676869-B2
US-7464853-B2
US-8806576-B1
WO-9962902-A1
DE-10139821-A1
DE-29902790-U1
JP-H01150501-A
CN-101097225-A
CN-104043471-A
DE-19756489-A1
JP-H09512386-A
JP-2003193711-A
JP-2006278905-A
JP-2011188084-A
US-2004202305-A1
US-2009007121-A1
US-2010175821-A1
WO-2009034760-A1
KR-20040098279-A
US-2001015098-A1
US-2006030578-A1
US-2010266354-A1
US-2013140818-A1
US-2014235629-A1
US-2008046024-A1
US-2010139858-A1
US-2045098-A
US-2166003-A
US-2800961-A
US-2807705-A
US-4487919-A
US-5246025-A
US-5352186-A
US-5852412-A
DE-2252080-A1
DE-3048572-A1
EP-0580206-A1
EP-2333826-A1
FR-2257346-A1
JP-H0381903-A
US-7539899-B1
US-8111315-B2
WO-0244991-A1
CN-101676430-A
JP-H10125721-A
JP-H11350123-A
JP-2012125449-A
US-2003087916-A1
US-2007140670-A1
US-2008184919-A1
US-2010178173-A1
US-2010222111-A1
DE-2651037-A1
JP-H09157258-A
JP-2004183196-A
US-2004089490-A1
KR-20060022437-A
US-2003144461-A1
EP-2133548-A1
JP-2004068494-A
JP-H05231035-A
KR-20040057408-A
CN-203887370-U
CN-205833023-U
CN-204158328-U
CN-205330882-U
CN-202244198-U
CN-204376441-U
CN-204416977-U
CN-205619516-U
CN-206184465-U
CN-205962062-U
CN-203900903-U
CN-202816725-U
CN-206164780-U
CN-202800484-U
CN-203227333-U
CN-206320890-U
CN-204323957-U
CN-204719087-U
CN-205456717-U
CN-205113105-U
CN-203839792-U
CN-205211122-U
CN-205412468-U
CN-203948988-U
CN-206031980-U
CN-203633264-U
CN-203628021-U
CN-206271194-U
CN-203800675-U
CN-203948604-U
CN-205677215-U
CN-203947499-U
CN-204398437-U
CN-203895636-U
CN-205689248-U
CN-203519338-U
CN-202343449-U
CN-201809807-U
CN-204555762-U
CN-205760522-U
CN-204875580-U
CN-204383207-U
CN-204124996-U
CN-204585318-U
CN-206133642-U
CN-202981229-U
CN-205914843-U
CN-202729563-U
CN-204079515-U
CN-205442322-U
CN-202579989-U
CN-205541858-U
CN-203584299-U
CN-205760650-U
CN-203167337-U
CN-204537337-U
CN-202733264-U
CN-206202011-U
CN-202358091-U
CN-202354422-U
US-2012213034-A1
US-2007023547-A1
JP-2006080251-A
US-2274428-A
US-2012127107-A1
US-2010022276-A1
DE-19845030-A1
US-6312747-B1
US-6318753-B1
US-5802653-A
US-3584779-A
US-5385163-A
US-5935910-A
KR-100964296-B1
US-9104529-B1
US-3393743-A
US-3450891-A
US-2005167495-A1
EP-1652916-A1
US-122299-A
US-2003221424-A1
US-6201785-B1
US-6698044-B2
US-2004170439-A1
US-2005246095-A1
US-2010066124-A1
US-2012082152-A1
US-2006224578-A1
US-6951454-B2
US-5108196-A
US-2322370-A
US-5220450-A
US-5186169-A
CN-102169017-A
US-2004061853-A1
US-2002091482-A1
US-2010060571-A1
US-2011199045-A1
US-5475469-A
US-2006118236-A1
US-6326315-B1
US-5878907-A
US-6202186-B1
US-3514887-A
US-6429674-B1
JP-2008060375-A
US-6662189-B2
US-5706331-A
US-2872397-A
US-6436738-B1
US-6281936-B1
US-3433155-A
US-2006112577-A1
US-8599914-B1
US-5054084-A
US-2008125161-A1
EP-0176989-A1
US-6685909-B2
EP-1293481-A3
EP-0300867-A3
EP-0927859-A3
EP-0335033-A3
EP-0130834-A3
EP-1659333-A3
EP-2001260-A3
EP-0642115-A3
EP-0085579-A3
EP-0281708-A3
EP-2375261-A3
EP-2450737-A3
DE-2250504-B2
DE-2540959-B2
DE-1580466-B2
DE-2854372-B2
NL-94855-C
NL-109401-C
NL-84601-C
DE-2001890-B2
DE-2135425-B2
DE-2138565-B2
NL-62075-C
NL-2358-C
ES-2190699-B1
ES-2384247-B1
NL-285019-A
JP-S5727418-B1
JP-S5141457-B1
EP-1784026-A8
GB-2306338-A8
ES-2021396-B3
JP-5966752-B2
JP-3034711-B2
JP-3696631-B2
JP-2625433-B2
JP-5337848-B2
JP-3274257-B2
JP-5572759-B2
JP-5992503-B2
JP-5680653-B2
JP-4555049-B2
JP-5009987-B2
JP-2780966-B2
JP-4180341-B2
JP-4388764-B2
JP-3153901-B2
JP-5671328-B2
NL-242272-A
JP-2790143-B2
DE-102015216238-A1
DE-102016002976-A1
DE-102015100882-A1
DE-102016103068-A1
DE-102016109168-A1
DE-102015101250-A1
DE-102015109168-A1
DE-102015213941-A1
DE-202004007427-U1
DE-202004016862-U1
DE-502004005425-D1
DE-602007013025-D1
JP-WO2002095026-A1
JP-WO2008050584-A1
JP-WO2011070725-A1
JP-WO2014155903-A1
JP-WO2015022979-A1
DE-602004004466-T2
DE-602005003376-D1
DE-602005025541-D1
JP-WO2003061917-A1
JP-WO2004066992-A1
JP-WO2012137383-A1
JP-WO2013094136-A1
JP-WO2014128785-A1
DE-260155-C
DE-340029-C
DE-384106-C
DE-434915-C
DE-619385-C
DE-935373-C
DE-968590-C
FR-534847-A
GB-567824-A
US-105247-
Query:
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
  AND EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) = (
      SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD'))
      FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
      WHERE "publication_number" = 'US-9741766-B2'
        AND TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
  )
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,filing_date
CN-106066309-A,20160713
CN-206309097-U,20161215
CN-106038555-A,20160613
GB-201610065-D0,20160609
RU-166745-U1,20160414
CN-106268128-A,20160812
CN-205984005-U,20160317
CN-106937673-A,20160103
CN-205931587-U,20160819
CN-206164381-U,20160801
CN-106347212-A,20160930
CN-205863132-U,20160621
CN-106745078-A,20161213
CN-205950875-U,20160612
CN-105722181-A,20160412
CN-106614099-A,20160914
CN-205676126-U,20160509
CN-106076100-A,20160808
CN-106198009-A,20160629
US-2016119008-A1,20160108
DE-102016200689-A1,20160120
JP-WO2016121806-A1,20160127
CN-106014397-A,20160513
CN-206403357-U,20161025
CN-206114527-U,20161028
CN-105477038-A,20160107
JP-2016136440-A,20160428
CN-206440856-U,20161129
CN-105937980-A,20160120
JP-2017120883-A,20161004
JP-1573204-S,20160829
CN-105694707-A,20160315
CN-205508967-U,20160223
JP-6074526-B2,20160302
CN-105678459-A,20160107
CN-206125632-U,20161102
JP-2016196509-A,20160819
CN-105928104-A,20160422
US-2017009903-A1,20160922
JP-1583033-S,20161130
CN-205339410-U,20160111
US-2016265749-A1,20160303
CN-106242331-A,20160812
CN-106776695-A,20161111
RU-163176-U1,20160120
CN-205466233-U,20160114
JP-3204839-U,20160407
CN-206006480-U,20160503
CN-105759368-A,20160506
CN-106725455-A,20161222
WO-2017026619-A1,20160328
WO-2016164635-A1,20160407
WO-2017068757-A1,20161003
CN-206282781-U,20161225
CN-105966453-A,20160213
CN-206404683-U,20161230
CN-105621498-A,20160314
US-2016359504-A1,20160819
CN-105945215-A,20160706
WO-2017103600-A1,20161215
WO-2017077547-A1,20161010
CN-105629976-A,20160222
KR-101659948-B1,20160725
CN-105965946-A,20160712
WO-2017026086-A1,20160630
JP-WO2017033980-A1,20160824
CN-205679208-U,20160517
CN-106406478-A,20161102
CN-106477041-A,20161108
US-2016289898-A1,20160614
US-2017111043-A1,20161018
CN-105662108-A,20160120
CN-106052959-A,20160722
WO-2017035325-A1,20160825
CN-205574882-U,20160422
CN-106995550-A,20160126
CN-205921406-U,20160622
CN-106771950-A,20161221
CN-205810080-U,20160720
US-2017016759-A1,20160714
CN-105693054-A,20160419
US-2016229907-A1,20160426
CN-206182741-U,20160716
CN-206069431-U,20160826
US-2016250980-A1,20160225
KR-101672828-B1,20160614
WO-2017088973-A8,20161122
US-2017133510-A1,20160202
CN-105864492-A,20160531
US-2016287303-A1,20160615
CN-106345543-A,20160913
CN-205811599-U,20160629
US-2017174842-A1,20161220
US-2016374997-A1,20160629
CN-106057302-A,20160804
CN-106301520-B,20160727
US-2016211560-A1,20160110
CN-106139012-A,20160729
WO-2017085174-A1,20161117
KR-101682095-B1,20160217
RU-170452-U1,20160805
WO-2017082357-A1,20161110
CN-206302632-U,20161226
WO-2017028612-A1,20160612
WO-2017036958-A2,20160826
JP-6133469-B1,20160419
WO-2016198599-A1,20160610
CN-106003324-A,20160727
CN-106353550-A,20160819
WO-2017092999-A1,20161110
WO-2016194359-A1,20160530
CN-105599885-A,20160126
CN-106071468-A,20160621
CN-205963344-U,20160527
CN-205720324-U,20160627
US-2017100036-A1,20161018
CN-205563516-U,20160314
US-2016204160-A1,20160324
US-2017059066-A1,20160707
US-2016315886-A1,20160630
US-2017025261-A1,20161006
CN-105547016-A,20160120
CN-105715030-A,20160311
CN-206054980-U,20160829
CN-106056996-A,20160823
US-2017057965-A1,20160825
CN-106068530-A,20160418
CN-106108357-A,20160627
CN-106248852-A,20160829
EP-3070608-A1,20160316
US-2016159761-A1,20160212
CN-105755279-A,20160519
US-9746745-B1,20161222
CN-105822320-A,20160429
RU-2628036-C1,20160629
GB-201603525-D0,20160227
CN-106093342-A,20160606
KR-20170046584-A,20161017
CN-205823296-U,20160520
CN-205528631-U,20160119
CN-205364355-U,20160126
CN-205491387-U,20160309
GB-201609490-D0,20160527
CN-205748757-U,20160708
CN-105873051-A,20160328
CN-106776676-A,20161101
CN-106530834-A,20161229
CN-205494439-U,20160226
CN-106494384-A,20160825
US-2017223854-A1,20160610
US-2016354168-A1,20160812
CN-205705342-U,20160613
CN-106105838-A,20160818
CN-206373195-U,20161227
CN-205268876-U,20160118
CN-206103432-U,20160811
CN-206148947-U,20160927
CN-105856525-A,20160506
CN-106129587-A,20160627
CN-106072157-A,20160829
US-2017220600-A1,20160129
WO-2017070515-A2,20161021
CN-105628189-A,20160108
CN-106747400-A,20161122
CN-105733032-A,20160226
CN-105499495-A,20160127
US-2016261092-A1,20160304
CN-106103294-A,20160301
CN-105727508-A,20160509
RU-2618446-C1,20160111
CN-105539456-A,20160203
WO-2017065533-A1,20161013
JP-6077729-B1,20160318
CN-205570050-U,20160428
WO-2016193158-A1,20160527
CN-105972961-A,20160520
CN-205866701-U,20160513
US-2017029628-A1,20160727
DE-102016202827-A1,20160224
CN-105542031-A,20160222
JP-2016105643-A,20160204
CN-105728384-A,20160509
US-2016296677-A1,20160617
EP-3159048-A1,20160916
US-2017134659-A1,20161025
US-2017098695-A1,20161219
CN-106910129-A,20160802
US-2016267437-A1,20160311
US-2017143209-A1,20160816
WO-2017020987-A1,20160709
US-2017168216-A1,20160129
WO-2016178310-A1,20160425
US-2016137319-A1,20160120
US-2016191291-A1,20160309
CN-106654818-A,20161222
CN-205471997-U,20160317
WO-2016190038-A1,20160427
WO-2016112379-A1,20160111
US-2017222122-A1,20161228
CN-205566594-U,20160428
US-2017073554-A1,20161123
CN-105924910-A,201606
Query:
-- 7. Get embeddings for patents filed in the same year as the target patent
SELECT a."publication_number", a."embedding_v1"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
  ON a."publication_number" = p."publication_number"
WHERE TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD') IS NOT NULL
  AND EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD')) = (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD'))
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
      AND TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD') IS NOT NULL
)
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,embedding_v1
CN-206166390-U,"[
  2.783860000000000e-02,
  -6.847068000000001e-02,
  -1.822087200000000e-02,
  -3.155387000000000e-02,
  -1.064077100000000e-01,
  -1.088386250000000e-01,
  -1.773156000000000e-01,
  -6.060636400000000e-02,
  2.458079000000000e-02,
  -7.578052000000000e-02,
  1.729183200000000e-01,
  2.786969000000000e-02,
  5.551506800000000e-03,
  7.606974000000000e-02,
  2.020715500000000e-02,
  5.859082200000000e-02,
  1.082017940000000e-01,
  -2.347547400000000e-01,
  2.530104500000000e-01,
  -8.551794000000000e-02,
  -5.708286500000000e-02,
  2.872908100000000e-02,
  -1.079269900000000e-02,
  -2.005267700000000e-01,
  1.034077850000000e-01,
  -1.175547700000000e-01,
  2.704122700000000e-01,
  3.141842800000000e-02,
  1.095237200000000e-01,
  2.896008200000000e-01,
  1.339348700000000e-01,
  -1.731936800000000e-02,
  1.080098800000000e-01,
  -2.946951000000000e-01,
  -6.411640000000000e-02,
  -7.476520000000000e-02,
  7.407082600000001e-02,
  -1.208772800000000e-01,
  -4.005047700000000e-02,
  1.927714800000000e-02,
  3.725099000000000e-02,
  -6.864776000000000e-02,
  1.296070200000000e-01,
  -8.981895400000001e-02,
  -4.668733500000000e-02,
  1.393658200000000e-01,
  -2.366324000000000e-02,
  -2.045739300000000e-01,
  -1.685978500000000e-01,
  -1.578705800000000e-01,
  -6.425313000000001e-02,
  -1.007401600000000e-01,
  5.829919000000000e-02,
  1.489527800000000e-01,
  -7.281902400000000e-04,
  -5.282613600000000e-02,
  -9.225973500000000e-02,
  -1.310196800000000e-01,
  -1.861268500000000e-02,
  2.233866600000000e-01,
  1.098151500000000e-01,
  2.342035300000000e-01,
  -3.024087500000000e-02,
  -1.671675600000000e-01
]"
CN-205559749-U,"[
  4.842376700000000e-02,
  -2.034320200000000e-01,
  -2.643399700000000e-02,
  -6.981953000000000e-02,
  2.645985200000000e-02,
  -1.793049000000000e-01,
  -2.840243500000000e-02,
  -4.113100000000000e-02,
  6.243877000000000e-02,
  -6.953316000000000e-02,
  1.021673700000000e-01,
  2.032557400000000e-01,
  -1.017643700000000e-02,
  1.016320100000000e-01,
  -1.732044200000000e-01,
  -2.078061300000000e-01,
  1.776803300000000e-01,
  -2.209762900000000e-02,
  3.667266700000000e-02,
  2.539002300000000e-01,
  -5.066376600000000e-02,
  -5.538710600000000e-02,
  -1.103008600000000e-01,
  1.177488640000000e-01,
  1.248021950000000e-01,
  7.876951000000000e-02,
  7.404661000000000e-02,
  -5.373472700000000e-02,
  -3.923545000000000e-03,
  4.099496000000000e-02,
  -8.829143000000000e-02,
  9.065985000000000e-02,
  1.366953400000000e-01,
  -3.544953000000000e-02,
  2.821575100000000e-02,
  -1.851515300000000e-01,
  2.452229700000000e-01,
  8.179937500000000e-03,
  -4.224382000000000e-02,
  6.686021400000000e-02,
  5.173291300000000e-02,
  -2.204456300000000e-01,
  1.274993300000000e-01,
  8.946069000000000e-02,
  1.209640600000000e-01,
  -1.571615600000000e-01,
  2.201634500000000e-01,
  -7.046582999999999e-02,
  -1.052291600000000e-01,
  -1.971801700000000e-01,
  -5.022048600000000e-02,
  5.190891400000000e-02,
  -5.673921500000000e-02,
  1.692137400000000e-01,
  3.021078700000000e-02,
  -1.691497900000000e-01,
  -2.318896700000000e-01,
  -8.476975000000000e-02,
  6.091247000000000e-02,
  1.449414200000000e-02,
  2.812695000000000e-01,
  9.742687000000000e-02,
  4.286533200000000e-02,
  1.794647100000000e-01
]"
CN-205928954-U,"[
  1.130703240000000e-01,
  -1.516648000000000e-01,
  -2.773194600000000e-02,
  1.549991700000000e-01,
  9.757696999999999e-03,
  -8.140552000000000e-02,
  -1.399522600000000e-01,
  -1.169788700000000e-01,
  2.793080000000000e-01,
  -8.295292999999999e-02,
  2.337677200000000e-01,
  2.096483900000000e-01,
  1.097899000000000e-01,
  2.027890100000000e-01,
  -2.088990000000000e-02,
  1.302050300000000e-02,
  -7.585975000000000e-02,
  -1.682953400000000e-01,
  7.008541400000000e-02,
  1.678367300000000e-01,
  3.689548700000000e-02,
  -4.467711200000000e-02,
  -3.456801000000000e-02,
  -2.488905800000000e-01,
  8.990200600000001e-02,
  -1.404455700000000e-04,
  1.948496000000000e-01,
  -2.084457500000000e-02,
  -1.129415900000000e-01,
  -1.674204800000000e-01,
  7.228248600000001e-02,
  2.409721500000000e-01,
  1.813394400000000e-01,
  -5.125587800000000e-02,
  5.722643400000000e-02,
  -7.052282000000000e-02,
  3.221886000000000e-02,
  -7.969176999999999e-03,
  -5.107947000000000e-03,
  1.232980600000000e-01,
  7.952382000000000e-02,
  -1.195780260000000e-01,
  1.343993300000000e-02,
  -3.071695600000000e-02,
  7.972843000000000e-02,
  -1.044229200000000e-01,
  1.831993300000000e-01,
  -8.097552000000000e-02,
  -1.577951000000000e-01,
  1.312211900000000e-03,
  -6.569205000000000e-02,
  -1.537935000000000e-01,
  -9.363817000000001e-02,
  5.043820300000000e-02,
  1.192339660000000e-01,
  -8.188371000000000e-02,
  -8.689188000000000e-02,
  -5.431799700000000e-03,
  3.475199600000000e-02,
  2.491553600000000e-01,
  -1.924442800000000e-01,
  1.686322800000000e-01,
  -1.017433850000000e-01,
  8.319882000000001e-02
]"
CN-205861
Query:
-- 8. Explore the structure of the "embedding_v1" column
SELECT t."publication_number", f.value::FLOAT AS "embedding_value"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."embedding_v1") f
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,embedding_value
US-2951957-A,0.08362336
US-2951957-A,-0.14288281
US-2951957-A,-0.005209156
US-2951957-A,-0.06813269
US-2951957-A,-0.052784704
US-2951957-A,-0.14358786
US-2951957-A,0.05047881
US-2951957-A,0.00068617193
US-2951957-A,0.22249499
US-2951957-A,-0.08987959
US-2951957-A,-0.040846705
US-2951957-A,-0.012821704
US-2951957-A,-0.16030748
US-2951957-A,-0.10314158
US-2951957-A,0.14102703
US-2951957-A,-0.08313097
US-2951957-A,0.23868057
US-2951957-A,0.07057567
US-2951957-A,-0.022906547
US-2951957-A,0.09825958
US-2951957-A,0.003188707
US-2951957-A,-0.026476331
US-2951957-A,-0.10920039
US-2951957-A,-0.05279829
US-2951957-A,-0.025695
US-2951957-A,-0.05484348
US-2951957-A,0.29314142
US-2951957-A,-0.05625863
US-2951957-A,0.076713175
US-2951957-A,-0.02101696
US-2951957-A,-0.096489035
US-2951957-A,0.028147738
US-2951957-A,0.11967304
US-2951957-A,-0.018097157
US-2951957-A,0.05101946
US-2951957-A,-0.12600356
US-2951957-A,-0.045997363
US-2951957-A,-0.109936714
US-2951957-A,0.22535981
US-2951957-A,0.18405192
US-2951957-A,-0.22932222
US-2951957-A,0.028640855
US-2951957-A,0.017074298
US-2951957-A,0.1232229
US-2951957-A,0.16223328
US-2951957-A,0.15436037
US-2951957-A,-0.046630308
US-2951957-A,0.18249018
US-2951957-A,0.0907574
US-2951957-A,-0.32173648
US-2951957-A,-0.053687517
US-2951957-A,-0.006377889
US-2951957-A,-0.1489741
US-2951957-A,0.19356139
US-2951957-A,-0.007129235
US-2951957-A,0.06445281
US-2951957-A,-0.24899958
US-2951957-A,-0.022719473
US-2951957-A,-0.06134887
US-2951957-A,0.1986401
US-2951957-A,0.03393093
US-2951957-A,0.10782621
US-2951957-A,-0.17615893
US-2951957-A,0.08991186
US-4897035-A,0.03940709
US-4897035-A,-0.025972782
US-4897035-A,-0.06800645
US-4897035-A,-0.2881745
US-4897035-A,0.04827634
US-4897035-A,-0.0006236814
US-4897035-A,-0.02521992
US-4897035-A,-0.015990876
US-4897035-A,0.042166118
US-4897035-A,-0.038210414
US-4897035-A,0.17309272
US-4897035-A,-0.037988916
US-4897035-A,0.1830829
US-4897035-A,0.07517589
US-4897035-A,0.008099699
US-4897035-A,0.11497171
US-4897035-A,0.17222258
US-4897035-A,-0.01944074
US-4897035-A,-0.1152504
US-4897035-A,-0.16219944
US-4897035-A,-0.1620336
US-4897035-A,-0.10143009
US-4897035-A,-0.09175859
US-4897035-A,0.03969524
US-4897035-A,-0.27613625
US-4897035-A,-0.13339803
US-4897035-A,-0.016683964
US-4897035-A,0.19577272
US-4897035-A,0.012391028
US-4897035-A,-0.011441005
US-4897035-A,0.11314693
US-4897035-A,-0.13215013
US-4897035-A,-0.04336641
US-4897035-A,-0.13111776
US-4897035-A,-0.16197276
US-4897035-A,-0.1946237
US-4897035-A,0.12977155
US-4897035-A,-0.07682512
US-4897035-A,0.008311365
US-4897035-A,0.0275573
US-4897035-A,-0.011203701
US-4897035-A,-0.091507636
US-4897035-A,0.14131442
US-4897035-A,-0.1402106
US-4897035-A,0.13959305
US-4897035-A,0.039882
US-4897035-A,0.069827765
US-4897035-A,-0.024445223
US-4897035-A,0.17711237
US-4897035-A,-0.10979153
US-4897035-A,-0.097192064
US-4897035-A,-0.029278582
US-4897035-A,0.14820623
US-4897035-A,0.113294326
US-4897035-A,-0.24643192
US-4897035-A,-0.103451066
US-4897035-A,-0.027691502
US-4897035-A,-0.1443465
US-4897035-A,-0.14292102
US-4897035-A,0.030290479
US-4897035-A,-0.23455702
US-4897035-A,0.18434632
US-4897035-A,-0.2501799
US-4897035-A,0.06695028
US-5832509-A,0.08716943
US-5832509-A,-0.067956224
US-5832509-A,-0.14475442
US-5832509-A,-0.042151436
US-5832509-A,0.035623375
US-5832509-A,-0.044342704
US-5832509-A,0.091654785
US-5832509-A,-0.01708218
US-5832509-A,0.35064253
US-5832509-A,0.036334615
US-5832509-A,0.0839191
US-5832509-A,0.10311119
US-5832509-A,-0.033711407
US-5832509-A,0.023217667
US-5832509-A,0.002394382
US-5832509-A,-0.09655346
US-5832509-A,-0.04717555
US-5832509-A,0.13497208
US-5832509-A,-0.017899333
US-5832509-A,0.12470932
US-5832509-A,0.04784599
US-5832509-A,0.010013408
US-5832509-A,-0.0049288725
US-5832509-A,-0.073382765
US-5832509-A,-0.05507919
US-5832509-A,0.10267057
US-5832509-A,0.13938211
US-5832509-A,0.12761036
US-5832509-A,0.09779023
US-5832509-A,-0.079364866
US-5832509-A,-0.08535474
US-5832509-A,0.082796484
US-5832509-A,-0.12615137
US-5832509-A,0.0070459163
US-5832509-A,-0.13572317
US-5832509-A,-0.2007939
US-5832509-A,0.032537866
US-5832509-A,-0.026642995
US-5832509-A,0.26535386
US-5832509-A,0.048310827
US-5832509-A,-0.08429014
US-5832509-A,-0.05002477
US-5832509-A,0.20300326
US-5832509-A,0.09217891
US-5832509-A,0.008634042
US-5832509-A,0.09044094
US-5832509-A,0.093753755
US-5832509-A,-0.03200432
US-5832509-A,0.016109731
US-5832509-A,0.005450559
US-5832509-A,-0.3384401
US-5832509-A,0.21498272
US-5832509-A,0.25937685
US-5832509-A,0.02543867
US-5832509-A,-0.112953976
US-5832509-A,0.010788555
US-5832509-A,0.24717589
US-5832509-A,0.020023292
US-5832509-A,-0.15049458
US-5832509-A,0.10582966
US-5832509-A,-0.013403315
US-5832509-A,0.18706751
US-5832509-A,-0.23139796
US-5832509-A,0.15575904
US-4560189-A,0.0022930705
US-4560189-A,-0.1739548
US-4560189-A,-0.05074116
US-4560189-A,-0.029727025
US-4560189-A,0.030799398
US-4560189-A,-0.019139342
US-4560189-A,0.1379257
US-4560189-A,0.05388572
US-45
Query:
-- 9. Retrieve titles from ABS_AND_EMB table
SELECT "publication_number", "title"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,title
CA-27-A,Improvement on spinning wheel
ES-81-Y,Improvements heels for footwear.
DE-303-C,
ES-866-Y,Improvements gravestones tombs and funerary niches.
FI-150-A,"The monitor method for preparing dubbelugnar for the preparation af tjra, lysolja, terpentin mm.  ur furustubbar Science Notter"
FI-250-A,Sjelflggningsapparat to the skrdemaskiner
FR-336-E,Improvements in the processing of cotton and cotton goods to make them nonflammable
NL-284-C,
NL-947-C,
BE-107-T1,Bouches fire.
CA-1911-A,A ralway track clearer
CA-4005-A,Leather scouring machine
CA-4106-A,Automatic car-coupling
CA-4698-A,Ladies&#39; work table
CA-4801-A,Washing machine
CA-5943-A,Improvement on bed bottoms
CA-6183-A,Improvements in wood planing machines
CA-6207-A,Improvements in lamps
CA-6390-A,Reversible plough
CA-6969-A,Machine for making spirally formed tubes
CA-8931-S,Bottle
CA-9897-A,Improvements on fare registers
DE-3129-C,
DE-3301-C,
DE-3884-C,
DE-3983-C,
DE-5976-C,
DK-2807-C,Process for the preparation of soluble salts of barium.
DK-3080-C,Devices in trays for packing eggs.
DK-3107-C,The production method for Smedejrns Finned with continuous helical rib.
DK-3184-C,Water Pitcher.
DK-3510-C,Device at the apparatus for the production of acetylene.
DK-5867-C,Automatic oiler Snkker and Snkkehjul in centrifuges.
DK-5921-C,Ankerbevikling with open coils for generators or motors with one-way Power.
DK-6491-A,Cable mounting of the guard device for a telecommunications cable
DK-7210-C,"Alloy of nickel, aluminum, copper and iron."
DK-8069-C,"Receiver means for rotating steam, gas or combustion products and the like that is also useful as a gas compressor."
DK-8466-C,Method and apparatus for extracting sulfur and Cyanides in the purification of from Belysningsgas.
DK-9281-C,Method for Preparation of an image bearer of photosensitive papers.
DK-9359-C,Device at Telephone exchange.
ES-1062-U,Truck for transport of concrete and mortar tilting download and auto-return to the loading position.
ES-1498-U,Razor.
ES-1524-Y,Device cuvette for containing papers.
ES-1872-U,Packing box for rolls of raw rubber.
ES-2542-Y,Purse fastening system.
ES-2819-Y,"Burning stove liquids, essentially diesel fuel."
ES-2960-U,Tong for sewing straps.
ES-3045-U,Sliding adjuster for clothing
ES-4483-Y,Improved sealing tap water.
ES-4723-Y,Pocket electric lamp.
ES-4858-U,A simplified shaving machine
ES-5089-Y,Breastplate of interposition between the foot and the shoe.
ES-5219-Y,Cigarette paper sheet.
ES-5716-U,A protective cardboard disc to facilitate changes retaining therein a stamp
ES-5975-Y,Bottle or container with inner compartments that allow contain different kinds of liquids.
ES-6454-U,Fonmularios game combined with carbon paper for use in typewriters.
ES-6552-Y,protection against low temperatures shirt.
ES-6928-Y,Clamping device straps to the handles of wristwatches.
ES-6962-Y,Provided cork extraction medium.
ES-7086-Y,Device in gas carbide drive motors.
ES-7407-Y,Folding bike reduced rate.
ES-7489-Y,Cover or wrapper to protect the crowns of rayon.
ES-7516-U,Plywood floors for shoemaking.
ES-7538-U,"Simile, girdle, bra and panty."
ES-764-H3,Machine to raise water called fast ferris wheel
ES-8269-Y,Shuttering elements or molded or reinforced concrete floors lighten parts.
FI-1825-A,The process of at verkstllande Evaporation at high the temperaturer Science To this was apparat
FI-291-U1,Utloppsfoerbindning in a substitutionsluftinslaeppningsventil
FI-3021-A,Frbttring  formmaskiner for cementrr med-regulating device for formldans of skakningrrelse
FI-4211-A,Four-stroke internal combustion engine ignition device
FI-4543-A,Invertlampa for conveyance brnnmne
FI-8034-A,The way to handle sulfitijtelipe
FI-8619-A,Manner for the preparation of trdar of Varje finhet ur rviskos
FI-8985-A,Frgasare for frbrnningskraftmaskiner with a rotatably i frgasarkroppen stryporgan
FI-902-U1,Sparkstoetting
FR-1186-E,New Bunsen burner of the kind to recovery and two concentric flames
FR-1382-E,An automatic switch
FR-1550-M,"pharmaceutical product based on total capsicum extract, polyvinylpyrrolidone and ergotamine tartrate."
FR-2064-E,Incandescent lamp with alcohol
FR-2510-M,New medicament for the treatment of staphylococcal infections and the like.
FR-2578-M,"A pharmaceutical composition for the treatment of all anemia, asthenia and convalescence states."
FR-2635-E,Improvement in the keyboard musical instruments
FR-3293-M,Drug acting on the central nervous system and having in particular anti-anxiety and tranquilizing properties was based on new sulfonamides.
FR-5174-E,A mobile machine for mixing and at the same time heat the asphalt and similar materials
FR-5770-E,Free wheel
FR-7085-M,
FR-7747-E,Doler machine and sand the skin for the glove
FR-8053-M,
FR-8143-M,
NL-3613-C,
NL-4187-C,
NL-5034-C,
NL-9752-C,
NL-9761-C,
RU-815-U1,Transport and sorting conveyor
US-1260-A,Improvement in nott s stove
US-1844-A,John kirkman
US-3704-A,Tongtjing and grooving 
Query:
-- 10. Flatten and retrieve CPC codes from the "cpc" VARIANT column
SELECT t."publication_number", f.value:"code"::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"code" IS NOT NULL
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,cpc_code
CN-204408667-U,Y02B20/345
CN-204408667-U,H05B33/0809
CN-204408667-U,H05B33/083
CN-204408667-U,H05B33/0812
CN-204408667-U,H05B33/0845
CN-205561565-U,Y02P10/265
CN-205330882-U,Y02E10/722
CN-205330882-U,Y02E10/723
CN-205330882-U,Y02E10/725
CN-205330882-U,Y02E10/721
CN-202949022-U,Y02E60/12
CN-201601128-U,H01L2224/05554
CN-201601128-U,H01L2924/19104
CN-201601128-U,H01L2224/48145
CN-201601128-U,H01L2224/49175
CN-201601128-U,H01L2224/48091
CN-201601128-U,H01L2224/16225
CN-204230875-U,G01K3/005
CN-204230875-U,H02H5/042
CN-201758129-U,Y02B10/12
US-5560978-A,Y10T428/3154
US-5560978-A,Y10T428/31544
US-5560978-A,Y10T428/31725
US-5560978-A,Y10T428/31721
US-5560978-A,Y10T428/24355
US-5560978-A,C09D179/08
US-5560978-A,C08K7/06
US-5560978-A,Y10T428/256
US-5590131-A,H04L12/2801
US-5590131-A,H04J3/1682
US-5596790-A,Y10T24/1484
US-5596790-A,Y10T24/148
US-5596790-A,Y10T24/1457
US-5596790-A,Y10T24/1482
US-5596790-A,F16L33/03
US-5614871-A,H03K3/017
US-5614871-A,H03K3/012
US-5614871-A,H03K3/0315
US-5635026-A,D21C3/26
US-5635026-A,D21C3/02
US-5635026-A,D21C3/266
US-5760063-A,C07C323/28
US-5760063-A,C07C327/58
US-5760063-A,C07D213/61
US-5760063-A,C07C323/48
US-5760063-A,C07C311/08
US-5760063-A,C07D213/77
US-5760063-A,C07C317/34
US-5760063-A,C07C255/66
US-5760063-A,A61L2/16
US-5760063-A,C07C317/36
US-5779492-A,H01R12/58
US-5779492-A,H01R13/03
US-5779492-A,H01R3/08
US-5779492-A,H01R12/523
US-5989959-A,H01L27/11526
US-5989959-A,H01L27/11541
US-5989959-A,H01L27/115
US-5989959-A,H01L27/11536
US-5992708-A,B65D83/201
US-5992708-A,B65D83/303
US-6069408-A,H01L2924/181
US-6069408-A,H01L2224/48465
US-6069408-A,Y10T29/49169
US-6069408-A,H01L2224/49171
US-6069408-A,H01L2224/49109
US-6069408-A,H01L2224/48247
US-6069408-A,H01L2224/48227
US-6069408-A,H01L2224/73265
US-6069408-A,H01L21/568
US-6069408-A,H01L23/3107
US-6069408-A,H01L21/565
US-6069408-A,H01L2924/18165
US-6120059-A,B62D21/02
US-6120059-A,B62D21/11
US-6120059-A,Y10T29/49622
EP-0311460-A2,Y10S320/19
EP-0311460-A2,Y10S320/13
EP-0311460-A2,Y02E70/40
EP-0311460-A2,Y02B40/90
EP-0311460-A2,H02J7/0085
EP-0339841-B1,B29C64/00
EP-0339841-B1,Y10S430/128
EP-0339841-B1,G03F7/0037
EP-0339841-B1,G03F7/031
EP-0339841-B1,A61K6/0052
EP-0339841-B1,G03F7/002
EP-0339841-B1,G03F7/027
EP-0339841-B1,G03F7/029
EP-0339841-B1,A61K6/083
EP-0339841-B1,A61C13/0013
EP-0339841-B1,C08F2/50
EP-0339841-B1,A61C19/003
EP-0339841-B1,A61K6/0023
EP-0357003-A2,A61F2230/0021
EP-0357003-A2,A61F2/88
EP-0357003-A2,A61F2230/0008
EP-0357003-A2,A61F2230/0019
EP-0526862-B1,A61K9/5036
EP-0526862-B1,A61K9/1652
EP-0526862-B1,A61K9/5047
EP-0526862-B1,A61K9/1635
EP-0526862-B1,A61K9/5026
EP-0526862-B1,A61K9/286
EP-0526862-B1,A61K9/1611
EP-0526862-B1,A61K9/205
EP-0526862-B1,A61K9/2009
EP-0579132-A1,C08L83/04
EP-0579132-A1,A61K6/10
EP-0579132-A1,C08K5/17
EP-0579132-A1,A61K6/0023
EP-0579132-A1,C08G77/045
EP-0579132-A1,A61L27/18
EP-0579132-A1,A61K6/0017
EP-0579132-A1,C08G77/20
EP-0579132-A1,C08G77/12
EP-0586101-A1,Y10S260/38
EP-0586101-A1,C09D11/322
EP-0761795-A2,C09J191/06
EP-0761795-A2,C09J167/00
EP-2696530-A2,H04W72/0446
EP-2696530-A2,H04L5/001
EP-2696530-A2,H04L27/0006
EP-2696530-A2,H04W24/10
EP-2696530-A2,H04W16/14
EP-2696530-A2,H04W48/02
JP-S5521128-A,H01L2924/181
JP-S5521128-A,H01L2224/05554
JP-S5521128-A,H01L24/45
JP-S5521128-A,H01L2924/13091
JP-S5521128-A,H01L24/49
JP-S5521128-A,H01L24/48
JP-S5521128-A,H01L2924/01039
JP-S5521128-A,H01L2924/01014
JP-S5521128-A,H01L2224/49171
JP-S5521128-A,H01L2924/01322
JP-S5521128-A,H01L2224/48091
JP-S5521128-A,H01L23/3107
JP-S5521128-A,H01L23/49541
JP-S5521128-A,H01L23/49548
JP-S5521128-A,H01L2924/01079
JP-S5521128-A,H01L2224/45144
JP-S5839939-A,Y10S505/844
JP-S5839939-A,G01R33/422
JP-S5839939-A,G01R33/34046
JP-S5839939-A,A61B5/055
US-6212688-B1,A41D19/0041
US-6430703-B1,G06F11/1469
US-6570200-B1,H01L21/28114
US-6570200-B1,H01L29/66651
US-6570200-B1,H01L29/0692
US-6570200-B1,H01L29/1037
US-6570200-B1,H01L21/28061
US-6570200-B1,H01L29/7834
US-6588039-B1,H02G1/005
US-6588039-B1,B25B7/14
US-6588039-B1,B25B7/02
US-6588039-B1,H02G1/1214
US-6588039-B1,H02G1/1295
US-6741505-B2,G11C2207/2281
US-6741505-B2,G11C11/4094
US-6741505-B2,G11C7/12
US-6741505-B2,G11C11/4099
US-6741505-B2,G11C7/14
US-6829858-B2,F41C27/06
US-6917585-B1,Y02B60/31
US-6917585-B1,H04L47/27
US-6917585-B1,H04L47/193
US-6917585-B1,H04L47/283
US-6917585-B1,H04L47/263
US-6917585-B1,H04L47/10
US-6917585-B1,H04L47/32
US-6917585-B1,H04L47/30
US-6952935-B2,F25C5/002
US-6952935-B2,F25C1/147
US-6952935-B2,F25C5/18
US-7000739-B2,B62L1/06
US-7000739-B2,B60T11/046
US-7103939-B2,B60N3/026
US-7103939-B2,Y10T16/458
US-7103939-B2,B60N3/023
US-7335128-B2,F16C19/386
US-7335128-B2,F03D15/00
US-7335128-B2,F03D1/00
US-7335128-B2,F16H2001/289
US-7335128-B2,F05B2260/40311
US-7335128-B2,Y02E10/726
US-7428342-B2,H04N19/80
US-7428342-B2,G10L19/0017
US-7428342-B2,H04N19/63
US-7428342-B2,H04N19/60
US-7428342-B2,H04N19/86
US-7428342-B2,H04N19/122
US-7428342-B2,H04N19/119
US-7428342-B2,H04N19/61
US-7428342-B2,G06F17/147
US-7428342-B2,G10L19/0
Query:
-- 11. Get the abstract text from PUBLICATIONS table using LATERAL FLATTEN
SELECT t."publication_number", f.value:"text"::STRING AS "abstract_text"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."abstract_localized") f
WHERE f.value:"text" IS NOT NULL
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,abstract_text
CN-104260754-A,A/DA/D
CN-104260754-A,"The invention discloses a track height irregularity prediction system and method based on axle box vibration acceleration. The track height irregularity prediction system comprises an axle box vibration acceleration sensor, a rotation pulse tacho-generator, a simulation preprocessing circuit, an A/D (analog/digital) conversion circuit, an embedded system, a wireless network router and an upper computer. The axle box vibration acceleration sensor is arranged on an axle box disposed on a running part of a train. The rotation pulse tacho-generator is arranged in an end cover of a train axle. Axle box vibration signals collected by the axle box vibration acceleration sensor and train speed signals collected by the rotation pulse tacho-generator are subject to low-pass filtering processing through the simulation preprocessing circuit, analog signals are converted to digital signals through the A/D conversion circuit, the digital signals are sent to the upper computer by the embedded system through the wireless network router to be processed, and the upper computer measures the track height irregularity result through the vibration signals. The track height irregularity prediction system and method have the advantages of low cost and good implementation."
US-3939506-A,"A ventilator for toilets is disclosed which includes an exhaust conduit connected to the upper portion of a toilet water tank for withdrawing odors from the toilet bowl through the overflow pipe in the water tank and flush water distribution outlets in the toilet bowl. A fan located in the attic and resiliently suspended therein to reduce noise resulting from fan vibrations draws odor laden air from the top of the water tank and discharges the odor laden air into the attic. A special control circuit for the attic fan is connected to the bathroom light switch which requires the light switch to be turned on, off, and back on again within a predetermined time interval before the attic fan will be turned on. A pressure sensing switch is provided which cuts the fan off when the pressure in the toilet tank reaches a predetermined low level after the tank is flushed. One preferred connection of the exhaust line to the interior of the water tank makes use of the hollow rim of toilet tank cover. Another connection of the exhaust line to the interior of the water tank makes use of a gap in the seal between the water tank and its cover and a special gasket surrounding the exhaust pipe entry point and fitted between a bathroom wall and a toilet water tank and cover which are positioned adjacent the wall. Modifications of the invention include special nozzles at the entrance end of the exhaust to connect with the water tank and a decorative exhaust pipe serving the dual function of a towel rack."
KR-101486666-B1,"                  ,      ;          ;       ;                  ."
KR-101017597-B1,"              (GIS)     (USLE)    (TRB) -           , 
          ,           . 
                         (, , , , ,  ) ,                       ,                   ,             ."
KR-101017597-B1,"PURPOSE: A method for writing a sediment information map, a sediment information map, and a system for providing property information by each grid are provided to easily obtain information about an earth and sand outflow route and an earth and sand outflow amount. CONSTITUTION: A soil erosion amount is calculated by a USLE(Universal Soil Loss Equation). The soil erosion amount is accumulated along with a flow direction by a ground surface flow tracking method. An area which contributes to earth and sand outflow of each grid point is calculated. The earth and sand outflow amount of all grid points is calculated by applying a basin area-quicksand delivery rate relation of a TRB(Transportation Research Board). The earth and sand outflow amount by a grid point is expressed in a topographical map in a visual information type."
JP
Query:
-- 12. List distinct CPC codes from ABS_AND_EMB table
SELECT DISTINCT f.value:"code"::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"code" IS NOT NULL
LIMIT 1000
Answer:
Too long, hard cut:
cpc_code
A61K6/0052
H01R12/523
B65D83/201
Y02B40/90
A41D19/0041
B25B7/14
B41J2002/14435
H02G1/1295
C10M105/38
H04L43/0811
B41J2002/14419
A61B1/00158
H01M8/0228
H01L2924/14
H01L45/143
H04L47/2433
B44D3/14
G06F2201/88
Y10S514/938
G01N21/8806
G09G2310/0251
E02F9/2217
B60W40/12
E04B1/0007
C23C18/24
H01J61/16
H04N19/96
A61K9/0014
A63B21/153
Y10S209/909
G05B2219/2642
H01R24/76
H05K3/0041
A23L3/015
H01L21/0254
B60W2710/18
G06F17/30557
C08F10/10
A61B2018/00738
A61B46/13
F16C2326/02
B65D71/36
B65D2571/00728
A61L27/50
B60B19/14
B29C47/0085
B65B43/265
F24D3/14
G01N21/19
B01D53/268
G06K9/00127
C30B25/10
G01N21/73
F02C7/275
A61F2/95
G05D1/0225
H04N19/85
C09J163/00
Y02B20/46
A21B3/132
H04M1/72552
H01H85/202
E04F15/02044
E04F15/02
C08L2201/50
E21B43/103
B21D39/04
H02H3/243
A61M5/5013
A61L9/122
A61F2250/0069
C08K5/31
Y10T428/12611
G06Q30/0278
A61M1/32
A61K31/42
C23C18/1216
G02B5/3008
E04F2201/025
G02B5/32
Y02P70/405
Y10T428/12542
F05D2260/85
C10M2209/104
G05D23/1931
A61B1/00181
B21C47/267
G06F8/665
F16H48/40
B60R1/10
H01R39/36
B60W30/18072
B65D47/08
H01L33/486
F16D2500/3026
F25D21/14
F05D2260/83
B60R13/025
H04B1/18
F41A17/28
H04K2203/12
H01L43/10
B01J20/28064
F25D2321/141
H04W76/00
H01M10/635
F01N2610/10
B23Q17/00
F04C2/344
B60B27/0042
F16L5/12
B65H2301/41732
H05K2203/0195
H04M3/42314
C30B25/18
C09D5/00
F02C1/05
C07K2317/76
B01J20/284
G06F9/44505
H04L67/10
F15B2211/50518
H03M1/001
A61B34/75
F02D2250/36
B82Y40/00
C08F34/02
A61C7/002
C12N2533/92
G02B27/0172
G01N15/1459
H01F7/1844
F41B5/105
C04B2235/6567
G01D11/245
A61K47/10
Y04S20/32
E05F15/443
B65G57/04
C07C2/864
F01B11/00
D04H1/587
Y10T83/242
Y02W30/521
Y10S241/37
H05B2206/024
Y10T16/540345
H04L41/0816
C09K2211/1092
A61Q19/008
A61B17/12109
A61K31/4172
Y10T83/145
C12M41/00
A63C9/002
Y10T24/45393
B29C2795/007
A63B2055/602
B62B2207/00
F25B9/006
A61F2002/3023
B29C47/124
G06F1/02
F01K15/02
G01J5/08
Y10T83/0453
H04L45/02
G01B7/02
H02K7/14
Y10S428/926
G01B3/006
G06F1/1626
G01C17/38
H01S5/028
G06F1/1647
B60L2240/507
Y02E60/76
A61K31/4706
Y10T16/5445
A01D69/06
H01S5/02248
G07C2209/65
G06F21/31
Y10T428/12799
F02C7/055
C07D513/04
F02D2041/201
G06T2207/30024
F16H61/6625
E01C5/12
E04F11/064
H04N1/195
D06M11/42
G01B11/14
H01L2924/01029
B60W2710/083
G01S19/37
G09B5/02
B65D2519/00412
H02M7/103
B01D2253/108
Y10S148/909
Y02T10/705
C10J2300/0916
Y10T29/49153
B65D2519/00363
C23C2/02
G09G3/3614
E21B49/00
C09K9/02
H01J9/142
B60L3/0069
C02F2201/46195
B65D2275/02
B41F33/0009
B27B27/02
E21B44/00
B01F15/0462
C11D3/28
G11B33/0461
H01F27/25
H01Q1/1271
H02J50/20
G02B6/4452
H04N1/6011
F16C2360/42
B42D2033/08
B42D25/415
B62M9/1242
A61N2005/0636
B81B2201/042
B60L2240/545
H04B7/086
A61K31/195
A61K8/368
F02K3/072
F02B77/02
H04N21/4113
H04W64/00
A61K8/922
H01J37/073
B01J31/181
F21K5/02
C10M2209/1055
H04M17/026
A23C17/00
B42D5/00
B65G19/24
G03C8/16
B23B39/28
C10M2201/105
C03B23/114
C09J123/20
F01L2760/002
B01J2/06
B32B27/32
B05B12/1436
B30B9/121
Y02W30/646
B08B9/0813
G01K7/42
B67D3/0029
B01D2255/20723
H04N3/233
F16M11/041
C10M2205/022
H04N7/1693
C08J2323/12
H04N9/28
C08G4/00
B65D5/46088
B29C2045/2748
H01B13/26
C07C45/34
B29B9/00
C08J2300/102
G06Q10/047
F16C23/084
A63F2300/1068
H01L2224/45124
H04W72/082
C12N1/18
A61F2002/3472
C07C323/44
H01M4/62
A62D2101/22
C08G18/3821
C07D519/00
Y10T408/906
A61F13/2008
F02B61/02
E03D9/032
G02F2201/465
G01J3/504
G01J3/0291
H01L21/187
A61L2300/436
Y10T428/1393
A61K9/0048
Y10T74/20438
B60J10/75
Y02T90/32
B65G21/14
H04W36/0016
C07D213/80
F02C7/266
H01Q15/0086
H04N7/1675
H01L51/0074
B32B27/308
C02F2209/15
G11B20/18
B29C47/8895
B60G2300/122
C04B2111/40
H04L2209/80
A23K20/111
B32B2457/20
H01L23/293
B01J20/267
H01L24/40
H01R43/02
A63B23/0227
G02F1/13306
C04B35/6261
H03K3/84
H04K3/94
F25B2700/21152
C23C18/1275
C23C14/12
B29K2027/16
B01D2253/1085
B01D2253/306
A63B2225/50
A63B2024/0068
A61H2201/1635
B67D1/0431
C08F2/10
C09J7/02
B22D41/56
C23C4/06
G02C7/06
H04L63/0853
A61K49/1866
B32B2307/51
H04W72/1289
G01K1/08
F16K17/00
A47L15/23
F01N2550/05
H04W52/54
F02C7/32
D04B15/10
C10M161/00
B32B37/12
B22D41/54
B03B5/626
B33Y50/00
A61K31/282
H04B1/0053
H01P1/20336
H01F41/301
G01N21/15
H04N2201/3278
H04N5/772
B62D63/062
B01J23/38
A61N1/368
G03G7/006
A63B2210/50
A63B67/002
C10G31/00
G08B13/1427
H01J2237/221
G09G2310/062
C03C17/006
B01J20/3236
F26B21/12
H01H2221/07
G03B15/03
A61N1/0484
Y10T403/52
A61K47/59
C12N2740/16122
G01N2291/02845
F02C7/16
C30B25/14
C08G18/2825
G01F1/684
G03G15/5041
B29C44/56
F15B21/087
G03G15/0194
G02B6/29361
Y02P90/10
C11D3/0078
F16J1/12
A47C27/085
C07D307/79
C07C275/62
D06P1/6556
B66B5/044
D06M13/46
H02N2/163
F16H2200/0047
D06P5/04
H04N5/92
C08G77/50
H01G4/33
C07D295/13
B65H21/00
B62K5/01
Y10T428/24405
G06F17/30368
H05K1/0213
C10J2300/093
B60W10/10
Y10T477/65
G06F17/274
B23Q17/0909
Y10T408/14
D02J1/08
H01L2224/85181
G11B5/86
B60N2/5825
Y10T307/685
B21D41/02
B24B27/0061
A61B5/161
C04B38/064
B08B9/0553
B60Q2300/112
G05D23/08
H04N1/32702
H04N1/0405
H05K2201/0989
H01L29/7392
G01N2035/1018
C07F15/0093
C03C3/097
H01L23/047
F25D21/006
F25D2700/14
Y10T409/105724
H04L49/101
H04M1/72
Query:
SELECT DISTINCT f.value::STRING AS "cpc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t,
     LATERAL FLATTEN(input => t."cpc") f
WHERE f.value IS NOT NULL
LIMIT 1000;
Answer:
Too long, hard cut:
cpc_code
"{""code"":""C07C311/08"",""first"":false,""inventive"":true,""tree"":[""C07C311/08"",""C07C311/02"",""C07C311/01"",""C07C311/00"",""C07C"",""C07"",""C""]}"
"{""code"":""C07D213/77"",""first"":false,""inventive"":true,""tree"":[""C07D213/77"",""C07D213/76"",""C07D213/72"",""C07D213/60"",""C07D213/04"",""C07D213/02"",""C07D213/00"",""C07D"",""C07"",""C""]}"
"{""code"":""Y10T29/49622"",""first"":false,""inventive"":false,""tree"":[""Y10T29/49622"",""Y10T29/49616"",""Y10T29/49"",""Y10T29/00"",""Y10T"",""Y10"",""Y""]}"
"{""code"":""G03F7/0037"",""first"":false,""inventive"":true,""tree"":[""G03F7/0037"",""G03F7/00"",""G03F"",""G03"",""G""]}"
"{""code"":""H01L2224/45144"",""first"":false,""inventive"":false,""tree"":[""H01L2224/45144"",""H01L2224/45138"",""H01L2224/451"",""H01L2224/45099"",""H01L2224/45001"",""H01L2224/45"",""H01L2224/44"",""H01L2224/42"",""H01L2224/01"",""H01L2224/00"",""H01L"",""H01"",""H""]}"
"{""code"":""H01L29/1037"",""first"":false,""inventive"":true,""tree"":[""H01L29/1037"",""H01L29/1033"",""H01L29/1029"",""H01L29/1025"",""H01L29/10"",""H01L29/06"",""H01L29/02"",""H01L29/00"",""H01L"",""H01"",""H""]}"
"{""code"":""H04L43/0811"",""first"":false,""inventive"":true,""tree"":[""H04L43/0811"",""H04L43/0805"",""H04L43/08"",""H04L43/00"",""H04L"",""H04"",""H""]}"
"{""code"":""B41J2/17566"",""first"":false,""inventive"":true,""tree"":[""B41J2/17566"",""B41J2/175"",""B41J2/17"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""B41J2/17513"",""first"":false,""inventive"":true,""tree"":[""B41J2/17513"",""B41J2/17503"",""B41J2/175"",""B41J2/17"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""B29C2035/0822"",""first"":false,""inventive"":false,""tree"":[""B29C2035/0822"",""B29C35/0805"",""B29C35/08"",""B29C35/02"",""B29C35/00"",""B29C"",""B29"",""B""]}"
"{""code"":""G06F9/505"",""first"":false,""inventive"":true,""tree"":[""G06F9/505"",""G06F9/5027"",""G06F9/5005"",""G06F9/50"",""G06F9/46"",""G06F9/06"",""G06F9/00"",""G06F"",""G06"",""G""]}"
"{""code"":""G06F11/3414"",""first"":false,""inventive"":true,""tree"":[""G06F11/3414"",""G06F11/3409"",""G06F11/34"",""G06F11/30"",""G06F11/00"",""G06F"",""G06"",""G""]}"
"{""code"":""B41J2/16526"",""first"":false,""inventive"":true,""tree"":[""B41J2/16526"",""B41J2/1652"",""B41J2/16517"",""B41J2/165"",""B41J2/135"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""G11C11/405"",""first"":true,""inventive"":true,""tree"":[""G11C11/405"",""G11C11/403"",""G11C11/401"",""G11C11/40"",""G11C11/34"",""G11C11/21"",""G11C11/00"",""G11C"",""G11"",""G""]}"
"{""code"":""F24J2/5245"",""first"":false,""inventive"":true,""tree"":[""F24J2/5245"",""F24J2/5243"",""F24J2/5201"",""F24J2/52"",""F24J2/46"",""F24J2/00"",""F24J"",""F24"",""F""]}"
"{""code"":""H01L2924/30107"",""first"":false,""inventive"":false,""tree"":[""H01L2924/30107"",""H01L2924/301"",""H01L2924/30"",""H01L2924/00"",""H01L"",""H01"",""H""]}"
"{""code"":""B60W10/08"",""first"":false,""inventive"":true,""tree"":[""B60W10/08"",""B60W10/04"",""B60W10/00"",""B60W"",""B60"",""B""]}"
"{""code"":""F02D29/02"",""first"":false,""inventive"":false,""tree"":[""F02D29/02"",""F02D29/00"",""F02D"",""F02"",""F""]}"
"{""code"":""B60W2550/12"",""first"":false,""inventive"":false,""tree"":[""B60W2550/12"",""B60W2550/00"",""B60W"",""B60"",""B""]}"
"{""code"":""G02B6/0053"",""first"":true,""inventive"":true,""tree"":[""G02B6/0053"",""G02B6/005"",""G02B6/0033"",""G02B6/0011"",""G02B6/0001"",""G02B6/00"",""G02B"",""G02"",""G""]}"
"{""code"":""H01L35/16"",""first"":true,""inventive"":true,""tree"":[""H01L35/16"",""H01L35/14"",""H01L35/12"",""H01L35/00"",""H01L"",""H01"",""H""]}"
"{""code"":""Y10S260/19"",""first"":false,""inventive"":false,""tree"":[""Y10S260/19"",""Y10S260/15"",""Y10S260/00"",""Y10S"",""Y10"",""Y""]}"
"{""code"":""Y10T29/4911"",""first"":false,""inventive"":false,""tree"":[""Y10T29/4911"",""Y10T29/49108"",""Y10T29/49002"",""Y10T29/49"",""Y10T29/00"",""Y10T"",""Y10"",""Y""]}"
"{""code"":""B41J2/17506"",""first"":false,""inventive"":true,""tree"":[""B41J2/17506"",""B41J2/17503"",""B41J2/175"",""B41J2/17"",""B41J2/01"",""B41J2/005"",""B41J2/00"",""B41J"",""B41"",""B""]}"
"{""code"":""H05K3/3447"",""first"":false,""inventive"":false,""tree"":[""H05K3/3447"",""H05K3/34"",""H05K3/32"",""H05K3/30"",""H05K3/00"",""H05K"",""H05"",""H""]}"
"{""code"":""G01C21/3484"",""first"":false,""inventive"":false,""tree"":[""G01C21/3484"",""G01C21/3453"",""G01C21/34"",""G01C21/26"",""G01C21/00"",""G01C"",""G01"",""G""]}"
"{""code"":""B65H27/00"",""first"":true,""inventive"":true,""tree"":[""B65H27/00"",""B65H"",""B65"",""B""]}"
"{""code"":""E04B7/20"",""first"":false,""inventive"":true,""tree"":[""E04B7/20"",""E04B7/00"",""E04B"",""E04"",""E""]}"
"{""code"":""H03F3/45179"",""first"":true,""inventive"":true,""tree"":[""H03F3/45179"",""H03F3/45076"",""H03F3/45071"",""H03F3/45"",""H03F3/00"",""H03F"",""H03"",""H""]}"
"{""code"":""Y10S977/722"",""f
Query:
-- 14. Get priority dates of patents
SELECT "publication_number", "priority_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "priority_date" IS NOT NULL
  AND TRY_TO_DATE(TO_VARCHAR("priority_date"), 'YYYYMMDD') IS NOT NULL
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,priority_date
CN-105216244-A,20151106
US-2571835-A,19450323
US-3009706-A,19580312
EP-1998157-A3,20070530
US-4306624-A,19770729
DE-102004039074-B4,20040812
CN-105044338-A,20150626
US-6057931-A,19930712
KR-101327477-B1,20130716
CN-102222734-B,20110707
CN-104828080-A,20141218
DE-4290124-B4,19910110
CN-102289146-A,20110914
CN-102958228-A,20110824
CN-104527358-A,20141215
US-6215672-B1,19970401
JP-H039225-A,19890606
CN-102832667-A,20120829
FR-2423210-A1,19780417
DE-19724924-A1,19970612
FR-2926418-A1,20080116
EP-0403464-A1,19890614
CN-103242708-A,20130523
US-8817671-B2,20101224
JP-S52141936-A,19760426
US-3400629-A,19640403
US-7198698-B1,20010502
JP-2011080987-A,20090930
RU-2505185-C1,20130402
RU-2591466-C2,20110412
CN-105551179-A,20151217
US-5664492-A,19930610
CN-101043956-B,20041020
US-4413017-A,19810611
CN-101022693-B,20060213
US-6062941-A,19990204
WO-2004058094-A1,20021230
JP-H0410577-A,19900427
JP-H0416106-A,19900502
US-4443740-A,19820409
CN-103426983-B,20130828
CN-104620293-A,20120913
WO-2009032191-A1,20070831
US-6882533-B2,20010222
EP-0408228-A2,19890711
JP-2597013-B2,19880915
US-D444852-S,19970304
US-8363726-B2,20070807
US-9627067-B2,20120831
US-8772304-B2,20101101
JP-2009069336-A,20070912
WO-2011089388-A3,20100120
WO-2006013442-A1,20040727
US-7545425-B2,20000803
US-8879320-B2,20111130
JP-2012068061-A,20100921
WO-2004108673-A2,20030609
KR-101522075-B1,20110617
US-2015191688-A1,20120822
US-8798724-B2,20071030
EP-2954958-A1,20140611
JP-2005080838-A,20030908
WO-2016167569-A1,20150417
US-2012063843-A1,20051118
US-8285445-B2,20090422
JP-2014104584-A,20121122
JP-2010031255-A,20080626
KR-101108972-B1,20091112
WO-2015045508-A1,20130925
WO-2005022603-A2,20030902
JP-2014159527-A,20130220
WO-0018678-A1,19980929
WO-2015119595-A1,20140204
WO-2004074770-A1,20030220
WO-2011082126-A1,20091231
WO-2006079990-A1,20050128
WO-2013133407-A1,20120308
US-8281614-B2,20061017
JP-WO2009044716-A1,20071001
JP-2007223963-A,20060224
WO-2014129029-A1,20130225
US-2013340500-A1,20120621
DE-102011051169-A1,20100623
US-8120996-B2,20060404
DE-102015108641-A1,20140716
US-2007158180-A1,20040607
US-2011052422-A1,20080617
US-2014246901-A1,20111007
US-2010047016-A1,20050429
US-7604427-B2,20060718
WO-2013051287-A1,20111005
KR-101609453-B1,20130531
EP-1408649-B1,20010718
EP-2749045-A1,20110826
WO-2013029109-A1,20110831
US-2003030925-A1,20010716
US-2003074312-A1,20011016
US-2014155267-A1,20080523
US-2008270073-A1,20020304
US-6611791-B1,19990527
JP-2009150252-A,20071219
US-2008221008-A1,20061006
CN-202310498-U,20111102
CN-103198610-A,20130305
CN-203600189-U,20131119
CN-203753033-U,20140313
CN-204041598-U,20140904
CN-106141765-A,20160826
CN-205475669-U,20160108
US-2012080365-A1,20100405
EP-2363565-A2,20100226
US-6839968-B2,20020509
US-2005244700-A1,20040503
US-2011114417-A1,20080710
JP-S629085-B2,19790705
DE-19852914-C1,19981117
EP-2095582-A2,20061031
JP-H0392388-U,19891229
JP-S6396105-U,19861211
KR-100599576-B1,20040917
US-5079435-A,19881220
US-2016154045-A1,20141202
US-2009255684-A1,20080410
KR-101171513-B1,20100507
JP-2012189914-A,20110314
EP-1698266-A1,20031226
EP-1004852-A3,19981119
EP-1004867-A2,19981123
JP-S5288620-A,19760113
DE-10004687-C2,20000203
GB-2251279-A,19901225
JP-S574045-A,19800510
DE-19934287-A1,19990721
JP-H0244518-U,19880924
CN-204119614-U,20140929
CN-105547181-A,20151209
KR-100609834-B1,20050422
KR-101768266-B1,20110302
US-2015283903-A1,20140403
DE-1151721-B,19610321
EP-1756966-A1,20040604
EP-0690831-A1,19930322
US-2011015318-A1,20080327
US-2002153222-A1,20010421
US-2013147798-A1,20111208
JP-2008539613-A,20050418
US-2012277443-A1,20110429
US-6517181-B2,19990920
US-2010161879-A1,20081218
US-2009187859-A1,20080123
US-2005117817-A1,20030113
US-2010231522-A1,20050223
JP-S5351961-Y2,19730511
RU-1413842-C,19850812
JP-S5389380-U,19761222
DE-4317170-A1,19930522
EP-1523125-A3,19970709
EP-1862519-A1,20060602
JP-H01272116-A,19880425
JP-2014103306-A,20121121
US-2015054349-A1,20120217
US-2007253358-A1,20051222
DE-4206696-C2,19920304
WO-2013120913-A1,20120215
US-2012011460-A1,20100712
US-2015165540-A1,20131212
DE-3428161-C1,19840731
RU-2048583-C1,19931124
WO-2011050318-A2,20091022
EP-0394374-A1,19880405
DE-2239556-A1,19720811
CN-100557495-C,20060418
US-2004130438-A1,20021008
US-2014267383-A1,20130314
JP-H01234176-A,19890130
JP-S6147793-B2,19790718
EP-1980018-A2,20060131
JP-S5630236-B2,19781117
US-2012307905-A1,20091118
US-2003065859-A1,20010427
US-2003222758-A1,20020124
JP-4849586-B2,20000605
JP-2009123177-A,20071111
WO-0212593-A3,20000804
WO-0190390-A1,20000526
GB-2288885-B,19920417
JP-H0734293-U,19931204
US-9005374-B2,20100331
EP-0240905-A2,19860408
JP-H02164431-A,19881216
EP-2944530-B1,20130111
JP-2007107393-A,20051011
WO-2010138488-A1,20090529
WO-2011064565-A3,20091125
EP-0014963-A2,19790219
US-3383999-A,19670703
US-5594833-A,19920529
US-3233386-A,19630218
RU-2443987-C2,20060915
WO-2009145929-A2,20080108
CN-102978614-A,20121224
CN-105562160-A,20160224
US-8701310-B1,20090817
GB-2273845-A,19921222
JP-S53126302-A,19770411
JP-
Query:
SELECT "publication_number", "priority_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,priority_date
JP-1810118-C,0
JP-1203714-C,0
FR-1500580-A,19651105
ES-8501233-A1,19821125
CA-2165155-A1,19930614
FR-2409943-B1,19761104
GB-1086860-A,19650422
JP-S54117658-A,19780306
JP-H0710178-Y2,19880302
JP-3172057-B2,19950405
US-136580-A,0
US-272220-A,0
US-599187-A,0
CN-1062411-C,19930720
DE-1479218-U,0
EP-2512367-B1,20091216
ES-2312527-T3,20011206
FR-1000748-A,19491117
FR-1573809-A,19630531
JP-S5066757-U,19731018
JP-S5845249-Y2,19751212
US-2103405-A,19310429
GB-201114438-D0,20110822
JP-5707248-B2,20110622
JP-2016211567-A,20150506
KR-20040075216-A,20030220
CN-1954806-A,20051027
CN-201399214-Y,20090303
JP-1368881-C,0
JP-1444589-C,0
FR-1497898-A,19651230
DE-2707796-A1,19760224
DE-2962208-D1,19781002
FR-2233137-A1,19730615
GB-2224027-B,19881011
JP-S5911756-Y2,19790131
JP-2000218515-A,19990204
JP-S56169301-A,19800602
US-2002102047-A1,20000825
CN-1467804-A,20020712
EP-0988417-B1,19970603
JP-H04334685-A,19910509
JP-S6359143-U,19861007
JP-H0685910-B2,19851219
JP-H0350567-B2,19830510
JP-5108773-B2,20050912
CN-2768052-Y,20041102
CN-1940157-B,20050927
CN-202318915-U,20111123
CN-203200362-U,20130419
JP-897785-C,0
JP-1789132-C,0
JP-S62113530-U,19860109
CA-118661-S,20060707
FI-882364-A0,19880519
CA-810158-A,19660104
DE-2335240-A1,19730711
DE-7610943-U1,19760408
JP-H0673947-U,19930324
JP-S54153049-A,19780523
JP-S5716116-U,19800624
US-548167-A,0
CN-1055840-A,19900409
JP-S6020713-A,19830713
JP-S6234024-A,19850806
JP-H0995081-A,19951002
JP-H1088758-A,19960917
GB-189709494-A,18970414
JP-2001195445-A,19991129
JP-2010101160-A,20081021
CN-101746294-A,20081127
CN-104170353-A,20131227
CN-206056613-U,20160726
JP-1032657-C,0
JP-1654837-C,0
DK-146223-C,19710616
CA-564325-A,0
GB-0802422-D0,20080208
JP-S53139175-U,19770408
JP-H01150349-U,19880407
JP-2600796-Y2,19921015
JP-S591896-U,19820628
JP-S4922438-B1,19681202
US-419959-A,0
DE-69331528-D1,19921223
DE-69430885-T2,19930702
EP-1474362-B1,20020212
JP-2000346423-A,19990531
JP-2765752-B2,19900926
KR-900003183-Y1,19870430
JP-2003229053-A,20020131
JP-2007241524-A,20060307
JP-5129599-B2,20070508
KR-100547071-B1,20020426
KR-20070020426-A,20040223
KR-20130050682-A,20111108
CN-204556165-U,20150506
ES-66185-Y,19580519
CA-1331409-C,19851003
FI-891492-A0,19880330
GB-1348507-A,19700309
JP-S60179587-U,19840510
US-332138-A,0
CN-1112492-C,20000616
DE-566539-C,19280927
DE-845109-C,19500618
JP-S63125649-A,19860602
JP-S6423693-U,19870801
JP-S5243021-U,19750922
JP-S5566205-U,19781031
JP-H0825023-B2,19880630
JP-2003215980-A,20010918
JP-4255884-B2,20040608
KR-100295305-B1,19980216
CN-101547005-A,20080328
CN-101988676-A,20090806
CN-203259375-U,20130516
CN-205932945-U,20160822
DE-202006018912-U1,20061214
FR-2828332-A1,20000623
GB-1375879-A,19730427
JP-S53161674-U,19770523
US-2053075-A,19351119
CN-2484753-Y,20010531
CN-1212523-A,19970911
FI-20010786-A,20010417
JP-S6359144-U,19861004
JP-2799203-B2,19881129
JP-H08143121-A,19941117
US-1837725-A,19290917
US-2304134-A,19410527
US-1864623-A,19310103
JP-5991128-B2,20120929
JP-2016105749-A,20130405
RU-2191214-C2,20010109
RU-2008140707-A,20081015
CN-103265598-B,20130603
CN-203928708-U,20140627
CN-204557664-U,20150410
CN-206326242-U,20160701
CN-104559893-B,20150127
CN-106856628-A,20151209
US-6778773-B2,20010928
JP-H00985753-A,0
JP-1512007-C,0
NL-28211-C,0
CA-2184504-C,19950928
FR-877274-A,19400317
JP-S60218905-A,19840302
JP-H04326774-A,19910426
JP-S5125160-A,19740827
FR-1012104-A,19490609
JP-S5944363-A,19820805
JP-H081564-A,19940615
US-1233474-A,19160803
US-2002011230-A1,20000523
JP-2003169856-A,20011206
US-811638-A,19040305
KR-200338652-Y1,20031028
KR-20070041890-A,20051017
CN-1816294-A,20030705
CN-2858160-Y,20060210
CN-201276086-Y,20080820
CN-201816145-U,20100720
CN-102907994-A,20121109
JP-1573454-C,0
JP-1721868-C,0
JP-2100371-C,0
DK-358583-D0,19820805
ES-146285-Y,19690306
GB-478690-A,19360228
DE-2649618-B2,19761029
DE-3766112-D1,19861201
DE-8007402-U1,19800315
FR-390089-A,19080504
FR-638126-A,19260830
FR-2638622-B1,19881104
JP-H0584037-U,19920421
JP-S4739450-Y1,19670612
JP-H0642846-U,19921120
NL-296405-A,0
NL-7211943-A,19720901
EP-2781788-B1,20130322
JP-S5072414-U,19731109
JP-S5846920-U,19810925
JP-S5874811-U,19811118
JP-S5687776-U,19791211
US-D279853-S,0
KR-920008597-Y1,19880908
JP-2004313014-A,20030411
JP-6137070-B2,20140625
RU-2008132286-A,20080804
US-754320-A,19030502
CN-105823611-A,20160326
CN-106739164-A,20161228
CN-205558012-U,20160203
BE-512467-A,0
CA-2244766-A1,19970812
DE-1803332-A1,19681016
DE-2149141-A1,19711001
GB-2089320-A,19801209
JP-S62164685-U,19860407
JP-H066780-Y2,19890523
DE-69322442-T2,19920625
EP-1933436-B1,20061215
EP-0782478-B1,19940907
EP-0993180-B1,19981009
JP-S5128923-U,19740826
JP-S5153284-U,19741022
JP-S5376919-A,19761220
JP-3340813-B2,19930831
JP-2000192758-A,19981225
JP-H11193667-A,19971229
RU-17326-U1,20001209
KR-20110049427-A,20091105
CN-101531763-A,20090402
CN-201900010-U,20101217
CN-202142477-U,20110623
CN-202417422-U,20120104
CN-202807027-U,20120824
CA-27189-A,0
JP-S4874140-A,19711229
JP-2887866-B2,19970729
F
Query:
-- 16. List distinct country codes from PUBLICATIONS table
SELECT DISTINCT "country_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000
Answer:
country_code
JP
FI
DK
WO
LU
NL
US
DE
KR
GB
EP
RU
ES
BE
CN
CA
FR
Query:
-- 17. Get US patents filed in the same year as the target patent
SELECT "publication_number", "filing_date"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
WHERE "country_code" = 'US'
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,filing_date
US-2009137794-A1,20081016
US-2905130-A,19581222
US-2017025400-A1,20150724
US-2006193473-A1,20050228
US-2002140639-A1,20010910
US-2012083569-A1,20100608
US-4462783-A,19830620
US-3676371-A,19700130
US-2731705-A,19510911
US-5080012-A,19900503
US-8579483-B2,20100202
US-5835537-A,19950330
US-4191985-A,19770916
US-2012210769-A1,20120220
US-2016029244-A1,20151003
US-4841512-A,19861217
US-2013001418-A1,20120625
US-2008188815-A1,20060808
US-2014016756-A1,20130620
US-2972422-A,19580102
US-2883000-A,19561015
US-5666219-A,19961031
US-3383801-A,19650215
US-6531828-B2,20010918
US-9711123-B2,20151106
US-2006003891-A1,20050531
US-2007170715-A1,20061031
US-7852320-B2,20081219
US-8892708-B2,20110711
US-5345127-A,19930714
US-2009262564-A1,20090625
US-5804103-A,19970416
US-5010999-A,19900323
US-3996155-A,19741111
US-3520692-A,19660628
US-4949650-A,19890731
US-5833297-A,19970116
US-2014020783-A1,20130305
US-4955005-A,19881005
US-2010204766-A1,20061222
US-6977960-B2,20010816
US-D275654-S,19811208
US-2007214784-A1,20070313
US-2016245255-A1,20151217
US-2010322375-A1,20090225
US-2006115531-A1,20051129
US-2013014847-A1,20120518
US-2015322915-A1,20130612
US-2008074320-A1,20070921
US-2014131971-A1,20131119
US-2005259540-A1,20050518
US-8075629-B2,20081218
US-2011146234-A1,20091223
US-2009271501-A1,20090522
US-2005236571-A1,20050218
US-2002063525-A1,20011129
US-2017055624-A1,20160818
US-7326834-B1,20060227
US-8087376-B2,20061026
US-9024395-B2,20130906
US-2015273101-A1,20130924
US-8552635-B2,20110131
US-8893867-B2,20101005
US-8350205-B2,20100526
US-8404573-B2,20120912
US-6296440-B1,19971110
US-2012085371-A1,20100322
US-7144888-B2,20030808
US-6537182-B2,20010920
US-2012114653-A1,20111107
US-2017161851-A1,20161208
US-2009165008-A1,20071219
US-2012059236-A1,20100908
US-2015223691-A1,20150210
US-2012153549-A1,20111215
US-7788007-B2,20060112
US-2009174897-A1,20081229
US-2015300979-A1,20131118
US-2015166938-A1,20130724
US-2015197695-A1,20150112
US-2003012574-A1,20020605
US-2006152571-A1,20060110
US-2017206908-A1,20160331
US-8909745-B2,20120428
US-2004163231-A1,20040218
US-2004257284-A1,20030623
US-2004015567-A1,20030716
US-2004043973-A1,20021213
US-8492417-B2,20121207
US-7805918-B2,20060411
US-2005109840-A1,20041021
US-2016134183-A1,20160114
US-2009303992-A1,20090605
US-2008088968-A1,20071206
US-2006180009-A1,20060214
US-2005150711-A1,20041007
US-2016159420-A1,20140714
US-2004196366-A1,20030403
US-2004000165-A1,20030626
US-2015181988-A1,20141113
US-2012244425-A1,20120326
US-8288418-B2,20110120
US-2013135381-A1,20121026
US-8851162-B2,20110809
US-7871593-B2,20071013
US-2012315865-A1,20120821
US-2007275821-A1,20070522
US-2013342886-A1,20111031
US-2003093672-A1,20020701
US-2005039624-A1,20040702
US-3880838-A,19730409
US-2007268568-A1,20070726
US-2003121643-A1,20021025
US-2008154227-A1,20071130
US-2014087701-A1,20130924
US-2007157844-A1,20040316
US-2012270933-A1,20120629
US-2005248004-A1,20040813
US-2007298812-A1,20060621
US-6568336-B2,19970718
US-7830431-B2,20090612
US-3278938-A,19630129
US-2017148459-A1,20161220
US-2017031621-A1,20131223
US-2015322068-A1,20150515
US-2528068-A,19450810
US-3100415-A,19600927
US-5297881-A,19921222
US-2700130-A,19520702
US-5364222-A,19930205
US-5931882-A,19970626
US-2002091722-A1,20011003
US-2015078195-A1,20141125
US-RE38474-E,20020827
US-4850108-A,19870917
US-7253893-B2,20040507
US-3668440-A,19701016
US-3415389-A,19660927
US-8608100-B2,20110301
US-3071902-A,19600926
US-3935452-A,19731114
US-2982970-A,19581027
US-8253816-B2,20070228
US-5470782-A,19941117
US-2004054071-A1,20030619
US-3520374-A,19680606
US-4866485-A,19880919
US-6840234-B2,20030922
US-7158811-B2,20040818
US-3137600-A,19600912
US-3233314-A,19620914
US-2014076010-A1,20120914
US-2016032557-A1,20140729
US-2016118083-A1,20151022
US-5057895-A,19900806
US-2012152168-A1,20120229
US-2008201476-A1,20080424
US-7111678-B2,20031030
US-6257546-B1,19970324
US-9661175-B2,20141121
US-7929994-B2,20050728
US-9715096-B2,20141215
US-8486037-B2,20080925
US-7377922-B2,20040415
US-2015304951-A1,20150702
US-2016176348-A1,20160226
US-2002127242-A1,20011026
US-2009284791-A1,20090511
US-2014076942-A1,20130917
US-2009252047-A1,20080402
US-2015154338-A1,20141203
US-2012037655-A1,20110804
US-2006106904-A1,20051109
US-2006243490-A1,20050428
US-2006048886-A1,20051007
US-2009220863-A1,20090115
US-2005064894-A1,20030923
US-2010270340-A1,20100519
US-3261491-A,19630930
US-2014192283-A1,20140305
US-2008017369-A1,20070606
US-D712524-S,20130909
US-2017211529-A1,20170120
US-2011097838-A1,20101230
US-2016144057-A1,20140627
US-2013078338-A1,20120319
US-2004191710-A1,20040312
US-2007009177-A1,20060123
US-2009045934-A1,20081016
US-2009039871-A1,20051129
US-2971968-A,19590129
US-2012214636-A1,20120126
US-2008091801-A1,20071030
US-2005097101-A1,20041202
US-2710983-A,19510531
US-7646560-B2,20080908
US-9760222-B2,20141210
US-2004186225-A1,20040318
US-2016232376-A1,20150205
US-2014367622-A1,20130128
US-2008219487-A1,20080304
US-2005245930-A1,20050519
US-2010298793-A1,2010
Query:
-- 18. Get the application numbers and kinds from PUBLICATIONS table
SELECT "publication_number", "application_number", "application_kind"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,application_number,application_kind
JP-1810118-C,,
JP-1203714-C,,
FR-1500580-A,FR-82617-A,A
ES-8501233-A1,ES-527521-A,A
CA-2165155-A1,CA-2165155-A,A
FR-2409943-B1,FR-7735619-A,A
GB-1086860-A,GB-1772466-A,A
JP-S54117658-A,JP-2447378-A,A
JP-H0710178-Y2,JP-2769688-U,U
JP-3172057-B2,JP-8042795-A,A
US-136580-A,US-136580D-A,A
US-272220-A,US-272220D-A,A
US-599187-A,US-599187D-A,A
CN-1062411-C,CN-94192833-A,A
DE-1479218-U,DE-1479218D-U,U
EP-2512367-B1,EP-10796532-A,A
ES-2312527-T3,ES-02258408-T,T
FR-1000748-A,FR-1000748D-A,A
FR-1573809-A,FR-1573809D-A,A
JP-S5066757-U,JP-12157373-U,U
JP-S5845249-Y2,JP-16786675-U,U
US-2103405-A,US-53364931-A,A
GB-201114438-D0,GB-201114438-A,A
JP-5707248-B2,JP-2011138029-A,A
JP-2016211567-A,JP-2016092764-A,A
KR-20040075216-A,KR-20030010726-A,A
CN-1954806-A,CN-200510116937-A,A
CN-201399214-Y,CN-200920149802-U,U
JP-1368881-C,,
JP-1444589-C,,
FR-1497898-A,FR-81735-A,A
DE-2707796-A1,DE-2707796-A,A
DE-2962208-D1,DE-2962208-A,A
FR-2233137-A1,FR-7420889-A,A
GB-2224027-B,GB-8922854-A,A
JP-S5911756-Y2,JP-1115379-U,U
JP-2000218515-A,JP-2716799-A,A
JP-S56169301-A,JP-7267680-A,A
US-2002102047-A1,US-8301902-A,A
CN-1467804-A,CN-02141055-A,A
EP-0988417-B1,EP-98937437-A,A
JP-H04334685-A,JP-10443791-A,A
JP-S6359143-U,JP-15313886-U,U
JP-H0685910-B2,JP-28671085-A,A
JP-H0350567-B2,JP-50201484-A,A
JP-5108773-B2,JP-2008531156-A,A
CN-2768052-Y,CN-200420014188-U,U
CN-1940157-B,CN-200610139784-A,A
CN-202318915-U,CN-201120469608-U,U
CN-203200362-U,CN-201320200154-U,U
JP-897785-C,,
JP-1789132-C,,
JP-S62113530-U,JP-73886-U,U
CA-118661-S,CA-118661-F,F
FI-882364-A0,FI-882364-A,A
CA-810158-A,CA-810158D-A,A
DE-2335240-A1,DE-2335240-A,A
DE-7610943-U1,DE-7610943-U,U
JP-H0673947-U,JP-1372293-U,U
JP-S54153049-A,JP-6127078-A,A
JP-S5716116-U,JP-8757880-U,U
US-548167-A,US-548167D-A,A
CN-1055840-A,CN-91102212-A,A
JP-S6020713-A,JP-12906083-A,A
JP-S6234024-A,JP-17353585-A,A
JP-H0995081-A,JP-25540495-A,A
JP-H1088758-A,JP-26678396-A,A
GB-189709494-A,GB-189709494D-A,A
JP-2001195445-A,JP-2000361256-A,A
JP-2010101160-A,JP-2009241960-A,A
CN-101746294-A,CN-200910172035-A,A
CN-104170353-A,CN-201380010040-A,A
CN-206056613-U,CN-201620787602-U,U
JP-1032657-C,,
JP-1654837-C,,
DK-146223-C,DK-287072-A,A
CA-564325-A,CA-564325D-A,A
GB-0802422-D0,GB-0802422-A,A
JP-S53139175-U,JP-4408477-U,U
JP-H01150349-U,JP-4798988-U,U
JP-2600796-Y2,JP-7853992-U,U
JP-S591896-U,JP-9569382-U,U
JP-S4922438-B1,JP-9675069-A,A
US-419959-A,US-419959D-A,A
DE-69331528-D1,DE-69331528-A,A
DE-69430885-T2,DE-69430885-T,T
EP-1474362-B1,EP-03710986-A,A
JP-2000346423-A,JP-15189499-A,A
JP-2765752-B2,JP-25671390-A,A
KR-900003183-Y1,KR-870006567-U,U
JP-2003229053-A,JP-2002024308-A,A
JP-2007241524-A,JP-2006061091-A,A
JP-5129599-B2,JP-2008029567-A,A
KR-100547071-B1,KR-20030012654-A,A
KR-20070020426-A,KR-20067019046-A,A
KR-20130050682-A,KR-20110115885-A,A
CN-204556165-U,CN-201520287082-U,U
ES-66185-Y,ES-66185-U,U
CA-1331409-C,CA-615536-A,A
FI-891492-A0,FI-891492-A,A
GB-1348507-A,GB-2353671-A,A
JP-S60179587-U,JP-6847984-U,U
US-332138-A,US-332138D-A,A
CN-1112492-C,CN-00109228-A,A
DE-566539-C,DE-K0111346-D,D
DE-845109-C,DE-M0004351-A,A
JP-S63125649-A,JP-10792487-A,A
JP-S6423693-U,JP-11859587-U,U
JP-S5243021-U,JP-13038675-U,U
JP-S5566205-U,JP-15039478-U,U
JP-H0825023-B2,JP-16468688-A,A
JP-2003215980-A,JP-2002123731-A,A
JP-4255884-B2,JP-2004169594-A,A
KR-100295305-B1,KR-19990004994-A,A
CN-101547005-A,CN-200810087012-A,A
CN-101988676-A,CN-200910183723-A,A
CN-203259375-U,CN-201320266986-U,U
CN-205932945-U,CN-201620913537-U,U
DE-202006018912-U1,DE-202006018912-U,U
FR-2828332-A1,FR-0008230-A,A
GB-1375879-A,GB-1981272-A,A
JP-S53161674-U,JP-6515277-U,U
US-2053075-A,US-5060335-A,A
CN-2484753-Y,CN-01243278-U,U
CN-1212523-A,CN-98119235-A,A
FI-20010786-A,FI-20010786-A,A
JP-S6359144-U,JP-15273586-U,U
JP-2799203-B2,JP-30885989-A,A
JP-H08143121-A,JP-30953194-A,A
US-1837725-A,US-39316029-A,A
US-2304134-A,US-39547341-A,A
US-1864623-A,US-50638531-A,A
JP-5991128-B2,JP-2012218956-A,A
JP-2016105749-A,JP-2013079323-A,A
RU-2191214-C2,RU-2001100883-A,A
RU-2008140707-A,RU-2008140707-A,A
CN-103265598-B,CN-201310216029-A,A
CN-203928708-U,CN-201420346631-U,U
CN-204557664-U,CN-201520223336-U,U
CN-206326242-U,CN-201620675246-U,U
CN-104559893-B,CN-201510041133-A,A
CN-106856628-A,CN-201510908860-A,A
US-6778773-B2,US-25558902-A,A
JP-H00985753-A,,
JP-1512007-C,,
NL-28211-C,NL-28211D-A,A
CA-2184504-C,CA-2184504-A,A
FR-877274-A,FR-877274D-A,A
JP-S60218905-A,JP-3771885-A,A
JP-H04326774-A,JP-9756691-A,A
JP-S5125160-A,JP-9810174-A,A
FR-1012104-A,FR-1012104D-A,A
JP-S5944363-A,JP-14064983-A,A
JP-H081564-A,JP-15676594-A,A
US-1233474-A,US-11296116-A,A
US-2002011230-A1,US-86407401-A,A
JP-2003169856-A,JP-2001372990-A,A
US-811638-A,US-1904196675-A,A
KR-200338652-Y1,KR-20030033699-U,U
KR-20070041890-A,KR-20050097502-A,A
CN-1816294-A,CN-200480019257-A,A
CN-2858160-Y,CN-200620002194-U,U
CN-201276086-Y,CN-200820190384-U,U
CN-201816145-U,CN-201020262944-U,U
CN-102907994-A,CN-201210445005-A,A
JP-1573454-C,,
JP-1721
Query:
-- 19. Retrieve assignee names from PUBLICATIONS table
SELECT t."publication_number", f.value:"name"::STRING AS "assignee_name"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."assignee") f
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,assignee_name
CN-102838799-A,
WO-2012130723-A1,
JP-2006270030-A,
JP-2006270030-A,
WO-9619275-A1,
WO-2010010272-A1,
WO-2012058031-A2,
WO-2014129770-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
US-2009137794-A1,
RU-2086498-C1,
GB-2385865-A,
US-2905130-A,
EP-2283785-A1,
DE-19714248-C2,
DE-19714248-C2,
DE-19714248-C2,
RU-1794018-C,
DE-3633442-A1,
EP-3017067-A1,
US-2017025400-A1,
KR-101047941-B1,
JP-4490895-B2,
WO-8808294-A1,
WO-8906094-A1,
US-2006193473-A1,
DE-2928514-A1,
EP-1575518-A4,
EP-0437808-A2,
WO-2012116628-A3,
WO-2012116628-A3,
US-2002140639-A1,
US-2012083569-A1,
DE-867446-C,
JP-S6347116-A,
CN-103309819-B,
CN-103779427-A,
US-4462783-A,
CN-102711555-B,
EP-2480618-A4,
US-3676371-A,
DE-10155358-B4,
CN-104169443-B,
US-2731705-A,
JP-H02176029-A,
US-5080012-A,
CN-102786162-A,
WO-2007064532-A1,
DE-4335701-A1,
JP-H046096-A,
RU-2040212-C1,
DE-1024296-B,
EP-1902251-A1,
US-8579483-B2,
WO-2009123091-A1,
WO-2009123091-A1,
CN-102076011-A,
CN-102076011-A,
GB-2395784-A,
CN-1322548-C,
CN-102576003-B,
EP-2359860-A2,
GB-2369703-A,
US-5835537-A,
CN-104905272-A,
DE-102011101164-B4,
CN-102746310-A,
DE-102004020377-A1,
CN-102979190-A,
US-4191985-A,
DE-102005046585-A1,
CN-101357090-B,
KR-101130611-B1,
US-2012210769-A1,
US-2016029244-A1,
US-4841512-A,
CN-102658567-B,
DE-102004046253-B4,
DE-4304183-C1,
EP-2556787-A4,
JP-2011050363-A,
JP-2011050363-A,
JP-2011050363-A,
JP-2011050363-A,
JP-2008192385-A,
JP-2008192385-A,
EP-1671353-A2,
DE-19929530-A1,
CN-103762775-A,
CN-103710501-A,
US-2013001418-A1,
US-2013001418-A1,
US-2013001418-A1,
US-2013001418-A1,
US-2008188815-A1,
US-2014016756-A1,
US-2972422-A,
EP-2428615-A3,
US-2883000-A,
US-5666219-A,
NL-1021800-C2,
EP-2192433-A1,
CN-102269013-A,
CN-102944104-A,
CN-104121102-A,
CN-104137828-A,
CN-104137828-A,
GB-2499329-A,
FR-3031134-A1,
GB-2399871-B,
CN-103259552-B,
EP-2395367-A1,
US-3383801-A,
EP-0914044-A4,
US-6531828-B2,
US-6531828-B2,
US-9711123-B2,
US-2006003891-A1,
US-2006003891-A1,
US-2006003891-A1,
US-2007170715-A1,
US-2007170715-A1,
JP-S5932053-A,
KR-101479141-B1,
JP-2002246895-A,
JP-2002246895-A,
FR-2968080-A1,
EP-0179301-A3,
CN-102365863-A,
JP-2009156921-A,
JP-2009156921-A,
US-7852320-B2,
EP-1815917-A3,
US-8892708-B2,
US-5345127-A,
US-2009262564-A1,
US-2009262564-A1,
US-5804103-A,
EP-2081258-A1,
CN-101440480-B,
CN-101214922-B,
US-5010999-A,
US-3996155-A,
US-3520692-A,
GB-2500156-A,
GB-2500156-A,
US-4949650-A,
US-5833297-A,
US-2014020783-A1,
EP-1314100-A2,
EP-1912846-A1,
BE-1006021-A3,
EP-1861637-A1,
EP-1998540-A2,
EP-0788505-A1,
RU-2524343-C1,
CN-102769664-A,
CN-102769664-A,
CN-102769664-A,
CN-102769664-A,
CN-102769664-A,
US-4955005-A,
DE-102012004356-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
US-2010204766-A1,
DE-4207534-A1,
GB-2408053-B,
US-6977960-B2,
US-D275654-S,
CN-101529370-B,
CN-101365856-B,
US-2007214784-A1,
US-2016245255-A1,
US-2010322375-A1,
US-2006115531-A1,
US-2013014847-A1,
US-2015322915-A1,
US-2008074320-A1,
US-2014131971-A1,
US-2005259540-A1,
CN-103722553-B,
CN-105109013-A,
EP-1323060-A1,
CN-101945213-A,
US-8075629-B2,
GB-2343891-B,
EP-1292822-A1,
JP-2012223219-A,
JP-2012223219-A,
JP-H0516834-B2,
US-2011146234-A1,
EP-1998639-A1,
EP-0951604-A1,
US-2009271501-A1,
US-2005236571-A1,
US-2002063525-A1,
US-2002063525-A1,
US-2002063525-A1,
US-2017055624-A1,
DE-102015224801-A1,
US-7326834-B1,
US-8087376-B2,
WO-2008141469-A3,
WO-2008141469-A3,
WO-2008141469-A3,
WO-2008141469-A3,
US-9024395-B2,
EP-1622323-B1,
JP-2008511638-A,
WO-2006090231-A3,
WO-2006090231-A3,
WO-2006090231-A3,
US-2015273101-A1,
US-8552635-B2,
US-8893867-B2,
US-8350205-B2,
JP-2007281053-A,
JP-2007281053-A,
WO-9535440-A2,
WO-9535440-A2,
US-8404573-B2,
US-6296440-B1,
JP-4651629-B2,
KR-101363562-B1,
WO-2016183124-A1,
WO-2016181009-A1,
WO-2016181009-A1,
WO-2016145709-A1,
US-2012085371-A1,
JP-4553106-B2,
JP-2008201932-A,
JP-2008201932-A,
JP-4549690-B2,
WO-2017006705-A1,
WO-2017006705-A1,
WO-2012001037-A1,
WO-9511639-A1,
WO-2014072684-A1,
US-7144888-B2,
WO-2008090062-A1,
EP-2476305-B1,
KR-101411537-B1,
JP-2012131555-A,
JP-2012131555-A,
JP-2009538872-A,
WO-0243418-A1,
WO-8908771-A1,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-2006136929-A3,
WO-0078302-A1,
US-6537182-B2,
JP-4717092-B2,
JP-2014080155-A,
JP-2014080155-A,
WO-2006128642-A1,
WO-2007090428-A1,
WO-2015181512-A1,
US-2012114653-A1,
US-2017161851-A1,
US-2009165008-A1,
US-2012059236-A1,
US-2015223691-A1,
US-2012153549-A1,
US-7788007-B2,
WO-2012173306-A1,
WO-2012173306-A1,
WO-2004019791-A3,
WO-2008080772-A3,
WO-2008080772-A3,
WO-2008080772-A3,
WO-2008080772-A3,
US-2009174897-A1,
US-2015300979-A1,
WO-2013043225-A1,
US-2015166938-A1,
US-2015197695-A1,
US-2003012574-A1,
US-2006152571-A1,
CN-206284331-U,
DE-102004026783-A1,
DE-202010015962-U1,
US-2017206908-A1,
EP-0893647-A2,
US-8909745-B2,
US-2004163231-A1,
Query:
-- 20. Get patents with their IPC codes from PUBLICATIONS table
SELECT t."publication_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000
Answer:
Too long, hard cut:
publication_number,ipc_code
US-3234486-A,H03C3/14
US-9534267-B2,H05B6/22
US-9534267-B2,C21D1/10
US-9534267-B2,H05B6/36
US-9534267-B2,H05B6/10
US-9534267-B2,C21D1/42
US-9534267-B2,C21D9/40
US-9358971-B2,B60W10/107
US-9358971-B2,B60W30/18
US-9358971-B2,B60W10/06
US-9358971-B2,B60W20/00
US-9358971-B2,B60W10/119
US-9358971-B2,B60W10/02
US-9358971-B2,B60W10/08
US-9358971-B2,B60K6/543
US-9358971-B2,B60K6/48
WO-2009076318-A1,H04W48/00
CN-101879666-A,B23K9/18
CN-101879666-A,B23K31/02
CN-101879666-A,B23K9/16
CN-101879666-A,B23K9/235
US-3153574-A,C05B7/00
DE-952418-C,B43K8/16
US-4462662-A,G03G15/043
US-4462662-A,G02B6/08
US-4462662-A,G02B6/04
US-4462662-A,G02B3/00
US-4462662-A,G03G15/04
US-4462662-A,G02B27/18
CN-101513621-B,H05B3/32
CN-101513621-B,B01L7/00
KR-100591579-B1,B01D35/00
KR-100591579-B1,F25D11/00
CN-101536726-B,A23L33/185
CN-101536726-B,A23J1/12
CN-101536726-B,A23C11/10
US-4833990-A,B41J2/32
US-4833990-A,B41C1/10
US-4833990-A,B41N1/00
US-4833990-A,B41F7/02
US-6034918-A,G06F11/00
US-6034918-A,G11C11/409
US-6034918-A,G11C11/407
US-6034918-A,G11C11/401
US-6034918-A,G06F12/00
US-6034918-A,G06F1/10
US-6034918-A,G11C29/00
US-6034918-A,G06F12/06
US-6034918-A,G11C11/4096
US-6034918-A,G11C5/06
US-6034918-A,G11C5/00
US-6034918-A,G06F13/376
US-6034918-A,G11C8/00
US-6034918-A,G11C11/4076
US-6034918-A,G06F12/02
US-6034918-A,G06F13/16
US-6034918-A,G11C7/10
US-6034918-A,G11C7/22
US-6034918-A,G06F11/10
CN-103294215-A,G06F3/02
CN-100450473-C,A61K9/107
CN-100450473-C,A61K47/18
CN-100450473-C,A61K31/05
CN-100450473-C,A61P23/00
CN-100450473-C,H01L21/328
CN-100450473-C,H01L23/60
JP-2013023995-A,E05B77/36
JP-2013023995-A,E05B83/30
JP-2013023995-A,E05C9/04
JP-2013023995-A,B60R7/06
JP-2013023995-A,E05C21/00
EP-0128549-A1,G08B19/00
EP-0128549-A1,G08B29/10
EP-0128549-A1,G08B25/14
DE-102004061871-A1,B24D7/16
DE-102004061871-A1,B24D5/16
US-4920600-A,B08B9/04
US-4920600-A,B08B9/057
DE-19963871-B4,B62D6/00
DE-19963871-B4,B62D3/12
DE-19963871-B4,B62D5/06
DE-19963871-B4,B62D5/04
DE-19963871-B4,B62D7/18
US-9750609-B2,A61F5/41
US-9750609-B2,A61F2/26
US-4432330-A,F02M25/07
US-4432330-A,F02D21/08
US-3140798-A,G07F11/64
FR-2390374-A1,B67D7/54
FR-2390374-A1,B67D7/04
JP-H0321460-U,E02D29/02
DE-2913972-A1,H02K3/42
DE-2913972-A1,H02K9/19
DE-2913972-A1,H02K1/20
EP-0151290-A1,C08G12/04
EP-0151290-A1,C07C301/00
EP-0151290-A1,C14C3/18
EP-0151290-A1,C07C67/00
EP-0151290-A1,C07C309/46
EP-0151290-A1,C14C3/26
EP-0151290-A1,C08G12/40
EP-0151290-A1,C07C309/45
EP-0151290-A1,C07C309/24
EP-0151290-A1,C08G12/34
US-6117929-A,C09K3/00
US-6117929-A,C10L3/06
CN-103363681-A,F24J2/46
CN-103363681-A,F24J2/04
US-2634696-A,H03H3/02
JP-2011062872-A,C09D11/00
JP-2011062872-A,C09D11/328
JP-2011062872-A,C09D11/322
JP-2011062872-A,B41J2/01
JP-2011062872-A,B41M5/00
CN-105329632-A,B65G35/00
US-8098574-B2,G01R31/08
US-2584812-A,F16B21/08
US-7857729-B2,A63B71/00
JP-H02164326-A,A47L9/19
JP-H02164326-A,A47L9/28
CN-105182801-A,G05B17/02
EP-1328257-A2,A61K9/26
EP-1328257-A2,A61K9/28
EP-1328257-A2,A61K9/00
EP-1328257-A2,A61K6/00
EP-1328257-A2,A61Q11/00
EP-1328257-A2,A61K9/16
EP-1328257-A2,A61K9/14
EP-1328257-A2,A61K8/02
EP-1328257-A2,A61K9/51
CN-103425156-A,G05D27/02
RU-1840441-C,H01J23/00
DE-1285677-B,B22C1/18
US-8080145-B2,G01N27/447
US-4229223-A,C04B28/14
JP-S6384599-A,D05B69/00
JP-S6384599-A,D05B47/04
JP-S6384599-A,D05B47/02
CN-102361616-A,A61F13/15
CN-102361616-A,A61F13/496
CN-102917236-B,H04N13/02
CN-102917236-B,G03B35/20
CN-102917236-B,H04N5/225
EP-1549212-A4,G06K9/00
EP-1549212-A4,G06F17/00
EP-1549212-A4,A61B5/113
EP-1549212-A4,A61B5/00
EP-1549212-A4,A61B5/0205
US-2005265068-A1,G11C11/405
US-2005265068-A1,G11C11/4097
US-2005265068-A1,H01L27/108
US-2005265068-A1,H01L21/8242
US-2005265068-A1,G11C11/24
US-2005265068-A1,H01L27/02
US-2005129328-A1,G06T11/00
US-2005129328-A1,G06T5/00
US-2005129328-A1,G06K9/62
US-2005129328-A1,G06T5/20
US-2005129328-A1,G06F3/12
US-2007200493-A1,H01J1/62
US-2007200493-A1,H01J63/04
US-2007200493-A1,H01L33/10
US-2007200493-A1,H01L33/20
US-2007200493-A1,H01L33/42
US-2007200493-A1,H01L33/40
EP-3159356-A1,C07K17/00
EP-3159356-A1,C07K14/47
EP-3159356-A1,C07K16/00
EP-3159356-A1,C12P21/08
EP-3159356-A1,C07K17/14
CN-103548124-B,H01L21/318
CN-103548124-B,H01L21/205
US-7050911-B1,G01N33/58
US-7050911-B1,G01N33/566
US-7050911-B1,G01N33/574
US-7050911-B1,G06F19/00
US-7050911-B1,G01N33/53
US-7050911-B1,C12Q1/68
US-7050911-B1,C12N15/09
JP-2011163194-A,F01M1/16
JP-2011163194-A,F01M1/08
JP-2011163194-A,F04C2/344
JP-2011163194-A,F04C14/22
JP-2011163194-A,F01P3/08
JP-2011163194-A,F01M1/02
EP-0110246-A1,E01B31/17
US-4699092-A,F02B3/06
US-4699092-A,F02F1/42
US-4699092-A,F02F1/24
US-4699092-A,F02B1/04
US-4699092-A,F02F1/40
US-4699092-A,F02F1/36
US-4699092-A,F02B75/12
DE-102017100965-B3,C22B3/00
JP-2007177271-A,C22C38/14
JP-2007177271-A,C22C38/38
JP-2007177271-A,C22C38/00
JP-2007177271-A,C21D9/46
US-2750823-A,B21D7/06
CN-105358803-A,F02B19/00
CN-105358803-A,F02B43/04
CN-105358803-A,F02B77/11
CN-103090029-A,F16K1/44
DE-102013003683-A1,B60R16/02
DE-102013003683-A1,B60W30/06
End Exploring Related Columns
Task: Identify the top five patents filed in the same year as `US-9741766-B2` that are most similar to it based on technological similarities. Please provide the publication numbers.

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: ```sql
SELECT "COLUMN_NAME" FROM DATABASE.SCHEMA.TABLE WHERE ... ``` (Adjust "DATABASE", "SCHEMA", and "TABLE" to match actual names, ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
publication_number
publication_number1:str
publication_number2:str
publication_number3:str
publication_number4:str
publication_number5:str
```

We identified the top five patents filed in the same year as `US-9741766-B2` by calculating the similarity scores based on their technological embeddings. The publication numbers listed are the most similar patents according to the computed similarity measures..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS_GOOGLE': {'PATENTS_GOOGLE': ['ABS_AND_EMB', 'CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book"
However, if the string is not decided, you may use fuzzy query and ignore upper or lower case. e.g. Get articles that mention "education".
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.

2025-01-20 06:23:47 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:23:47 - root - INFO - ```sql
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patents_with_embeddings AS (
    SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
    , LATERAL FLATTEN(input => a."embedding_v1") f
)
SELECT pwe."publication_number"
FROM patents_with_embeddings pwe
JOIN target_embedding te ON pwe.idx = te.idx
GROUP BY pwe."publication_number"
ORDER BY SUM(pwe.val * te.val) DESC NULLS LAST
LIMIT 5
```
2025-01-20 06:23:47 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:23:47 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:23:47 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:23:49 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 06:23:49 - snowflake.connector.connection - INFO - closed
2025-01-20 06:23:50 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:23:50 - root - INFO - itercount: 1
2025-01-20 06:23:50 - root - INFO - 0
2025-01-20 06:23:50 - root - INFO - results: 
publication_number
DE-202016106918-U1


2025-01-20 06:23:50 - root - INFO - Please check the answer again by reviewing Identify the top five patents filed in the same year as `US-9741766-B2` that are most similar to it based on technological similarities. Please provide the publication numbers., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
publication_number
publication_number1:str
publication_number2:str
publication_number3:str
publication_number4:str
publication_number5:str
```

We identified the top five patents filed in the same year as `US-9741766-B2` by calculating the similarity scores based on their technological embeddings. The publication numbers listed are the most similar patents according to the computed similarity measures. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
publication_number
DE-202016106918-U1
Current sql:
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patents_with_embeddings AS (
    SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
    , LATERAL FLATTEN(input => a."embedding_v1") f
)
SELECT pwe."publication_number"
FROM patents_with_embeddings pwe
JOIN target_embedding te ON pwe.idx = te.idx
GROUP BY pwe."publication_number"
ORDER BY SUM(pwe.val * te.val) DESC NULLS LAST
LIMIT 5
2025-01-20 06:24:22 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:24:22 - root - INFO - ```sql
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patent_similarity AS (
    SELECT pwe."publication_number", SUM(pwe.val * te.val) AS similarity_score
    FROM (
        SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
        FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
        INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
        , LATERAL FLATTEN(input => a."embedding_v1") f
    ) pwe
    JOIN target_embedding te ON pwe.idx = te.idx
    GROUP BY pwe."publication_number"
)
SELECT "publication_number"
FROM patent_similarity
ORDER BY similarity_score DESC NULLS LAST
LIMIT 5
```
2025-01-20 06:24:22 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:24:22 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:24:22 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:24:24 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 06:24:24 - snowflake.connector.connection - INFO - closed
2025-01-20 06:24:24 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:24:24 - root - INFO - itercount: 2
2025-01-20 06:24:24 - root - INFO - 0
2025-01-20 06:24:24 - root - INFO - results: 
publication_number
JP-6088093-B1


2025-01-20 06:24:24 - root - INFO - Please check the answer again by reviewing Identify the top five patents filed in the same year as `US-9741766-B2` that are most similar to it based on technological similarities. Please provide the publication numbers., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
publication_number
publication_number1:str
publication_number2:str
publication_number3:str
publication_number4:str
publication_number5:str
```

We identified the top five patents filed in the same year as `US-9741766-B2` by calculating the similarity scores based on their technological embeddings. The publication numbers listed are the most similar patents according to the computed similarity measures. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
publication_number
JP-6088093-B1
Current sql:
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR("filing_date"), 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(TO_VARCHAR(p."filing_date"), 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patent_similarity AS (
    SELECT pwe."publication_number", SUM(pwe.val * te.val) AS similarity_score
    FROM (
        SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
        FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
        INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
        , LATERAL FLATTEN(input => a."embedding_v1") f
    ) pwe
    JOIN target_embedding te ON pwe.idx = te.idx
    GROUP BY pwe."publication_number"
)
SELECT "publication_number"
FROM patent_similarity
ORDER BY similarity_score DESC NULLS LAST
LIMIT 5
2025-01-20 06:25:10 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:25:10 - root - INFO - ```sql
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(p."filing_date"::VARCHAR, 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patent_similarity AS (
    SELECT pwe."publication_number", ROUND(SUM(pwe.val * te.val), 4) AS similarity_score
    FROM (
        SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
        FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
        INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
        , LATERAL FLATTEN(input => a."embedding_v1") f
    ) pwe
    JOIN target_embedding te ON pwe.idx = te.idx
    GROUP BY pwe."publication_number"
)
SELECT "publication_number"
FROM patent_similarity
ORDER BY similarity_score DESC NULLS LAST
LIMIT 5
```
2025-01-20 06:25:10 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:25:10 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:25:10 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:25:12 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 06:25:12 - snowflake.connector.connection - INFO - closed
2025-01-20 06:25:12 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:25:12 - root - INFO - itercount: 3
2025-01-20 06:25:12 - root - INFO - 0
2025-01-20 06:25:12 - root - INFO - results: 
publication_number
US-D796401-S


2025-01-20 06:25:12 - root - INFO - Please check the answer again by reviewing Identify the top five patents filed in the same year as `US-9741766-B2` that are most similar to it based on technological similarities. Please provide the publication numbers., reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
publication_number
publication_number1:str
publication_number2:str
publication_number3:str
publication_number4:str
publication_number5:str
```

We identified the top five patents filed in the same year as `US-9741766-B2` by calculating the similarity scores based on their technological embeddings. The publication numbers listed are the most similar patents according to the computed similarity measures. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
publication_number
US-D796401-S
Current sql:
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(p."filing_date"::VARCHAR, 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patent_similarity AS (
    SELECT pwe."publication_number", ROUND(SUM(pwe.val * te.val), 4) AS similarity_score
    FROM (
        SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
        FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
        INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
        , LATERAL FLATTEN(input => a."embedding_v1") f
    ) pwe
    JOIN target_embedding te ON pwe.idx = te.idx
    GROUP BY pwe."publication_number"
)
SELECT "publication_number"
FROM patent_similarity
ORDER BY similarity_score DESC NULLS LAST
LIMIT 5
2025-01-20 06:25:53 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-20 06:25:53 - root - INFO - ```sql
WITH target_filing_year AS (
    SELECT EXTRACT(YEAR FROM TRY_TO_DATE("filing_date"::VARCHAR, 'YYYYMMDD')) AS "filing_year"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS
    WHERE "publication_number" = 'US-9741766-B2'
),
target_embedding AS (
    SELECT f.seq AS idx, f.value::FLOAT AS val
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB t
    , LATERAL FLATTEN(input => t."embedding_v1") f
    WHERE t."publication_number" = 'US-9741766-B2'
),
same_year_patents AS (
    SELECT p."publication_number"
    FROM PATENTS_GOOGLE.PATENTS_GOOGLE.PUBLICATIONS p
    INNER JOIN PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
    ON p."publication_number" = a."publication_number"
    WHERE EXTRACT(YEAR FROM TRY_TO_DATE(p."filing_date"::VARCHAR, 'YYYYMMDD')) = 
    (SELECT "filing_year" FROM target_filing_year)
    AND p."publication_number" <> 'US-9741766-B2'
),
patent_similarity AS (
    SELECT pwe."publication_number", ROUND(SUM(pwe.val * te.val), 4) AS similarity_score
    FROM (
        SELECT a."publication_number", f.seq AS idx, f.value::FLOAT AS val
        FROM PATENTS_GOOGLE.PATENTS_GOOGLE.ABS_AND_EMB a
        INNER JOIN same_year_patents p ON a."publication_number" = p."publication_number"
        , LATERAL FLATTEN(input => a."embedding_v1") f
    ) pwe
    JOIN target_embedding te ON pwe.idx = te.idx
    GROUP BY pwe."publication_number"
)
SELECT "publication_number"
FROM patent_similarity
ORDER BY similarity_score DESC NULLS LAST
LIMIT 5
```
2025-01-20 06:25:53 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.38-x86_64-with-glibc2.31
2025-01-20 06:25:53 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-20 06:25:53 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-20 06:25:55 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-20 06:25:55 - snowflake.connector.connection - INFO - closed
2025-01-20 06:25:55 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-20 06:25:55 - root - INFO - itercount: 4
2025-01-20 06:25:55 - root - INFO - 0
2025-01-20 06:25:55 - root - INFO - Total iteration counts: 4
