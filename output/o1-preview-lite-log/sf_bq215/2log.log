2025-01-24 01:49:25 - openai._base_client - INFO - Retrying request to /chat/completions in 0.422745 seconds
2025-01-24 01:50:54 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:50:54 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:50:54 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:50:54 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:50:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:50:56 - snowflake.connector.connection - INFO - closed
2025-01-24 01:50:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:50:56 - root - INFO - SQL:
SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 100;
Results:
publication_number
US-2006143594-A1
US-2006143284-A1
US-2006148139-A1
US-2006152123-A1
US-2006150698-A1
US-2005254871-A1
US-2005168584-A1
US-2005161997-A1
US-2005175186-A1
US-2006175765-A1
US-2005150005-A1
US-2006118954-A1
US-2005148066-A1
US-2006010011-A1
US-2006183586-A1
US-2005189252-A1
US-2005184759-A1
US-2005144256-A1
US-2006195821-A1
US-2005143653-A1
US-2006198380-A1
US-2006118870-A1
US-2005253263-A1
US-2006197375-A1
US-2005222693-A1
US-2005180450-A1
US-2006212456-A1
US-2005218642-A1
US-2005176269-A1
US-2006228959-A1
US-2006252404-A1
US-2006224211-A1
US-2006241817-A1
US-2005237771-A1
US-2005243216-A1
US-2005249541-A1
US-2006089219-A1
US-2005271201-A1
US-2005216965-A1
US-2005267909-A1
US-2006266770-A1
US-2005270599-A1
US-2006079895-A1
US-2005273202-A1
US-2006001866-A1
US-2006006761-A1
US-2006287882-A1
US-2005216567-A1
US-2006209512-A1
US-2006000939-A1
US-2006091163-A1
US-2007009364-A1
US-2006023254-A1
US-2005257319-A1
US-2007004239-A1
US-2006040365-A1
US-2005276065-A1
US-2007039052-A1
US-2006045302-A1
US-2006204424-A1
US-2007011371-A1
US-2007061140-A1
US-2006180497-A1
US-2007069906-A1
US-2006028190-A1
US-2006036325-A1
US-2006034112-A1
US-2007114474-A1
US-2006047060-A1
US-2006039234-A1
US-2006113251-A1
US-2006122815-A1
US-2007106350-A1
US-2006218841-A1
US-2006131931-A1
US-2007107149-A1
US-2006234529-A1
US-2006136397-A1
US-2006079849-A1
US-2006186294-A1
US-2006261821-A1
US-2006145963-A1
US-2006128522-A1
US-2006090877-A1
US-2007071085-A1
US-2007053149-A1
US-2007159350-A1
US-2006206019-A1
US-2006147574-A1
US-2006144602-A1
US-2006112201-A1
US-2006112495-A1
US-2006182055-A1
US-2007163684-A1
US-2007112592-A1
US-2006172276-A1
US-2006129939-A1
US-2006172084-A1
US-2006185810-A1
US-2007085071-A1

2025-01-24 01:50:56 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:50:56 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:50:56 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:50:57 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:50:57 - snowflake.connector.connection - INFO - closed
2025-01-24 01:50:58 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:50:58 - root - INFO - SQL:
SELECT "publication_number", "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 100;
Results:
publication_number,kind_code
US-2006143594-A1,A1
US-2006143284-A1,A1
US-2006148139-A1,A1
US-2006152123-A1,A1
US-2006150698-A1,A1
US-2005254871-A1,A1
US-2005168584-A1,A1
US-2005161997-A1,A1
US-2005175186-A1,A1
US-2006175765-A1,A1
US-2005150005-A1,A1
US-2006118954-A1,A1
US-2005148066-A1,A1
US-2006010011-A1,A1
US-2006183586-A1,A1
US-2005189252-A1,A1
US-2005184759-A1,A1
US-2005144256-A1,A1
US-2006195821-A1,A1
US-2005143653-A1,A1
US-2006198380-A1,A1
US-2006118870-A1,A1
US-2005253263-A1,A1
US-2006197375-A1,A1
US-2005222693-A1,A1
US-2005180450-A1,A1
US-2006212456-A1,A1
US-2005218642-A1,A1
US-2005176269-A1,A1
US-2006228959-A1,A1
US-2006252404-A1,A1
US-2006224211-A1,A1
US-2006241817-A1,A1
US-2005237771-A1,A1
US-2005243216-A1,A1
US-2005249541-A1,A1
US-2006089219-A1,A1
US-2005271201-A1,A1
US-2005216965-A1,A1
US-2005267909-A1,A1
US-2006266770-A1,A1
US-2005270599-A1,A1
US-2006079895-A1,A1
US-2005273202-A1,A1
US-2006001866-A1,A1
US-2006006761-A1,A1
US-2006287882-A1,A1
US-2005216567-A1,A1
US-2006209512-A1,A1
US-2006000939-A1,A1
US-2006091163-A1,A1
US-2007009364-A1,A1
US-2006023254-A1,A1
US-2005257319-A1,A1
US-2007004239-A1,A1
US-2006040365-A1,A1
US-2005276065-A1,A1
US-2007039052-A1,A1
US-2006045302-A1,A1
US-2006204424-A1,A1
US-2007011371-A1,A1
US-2007061140-A1,A1
US-2006180497-A1,A1
US-2007069906-A1,A1
US-2006028190-A1,A1
US-2006036325-A1,A1
US-2006034112-A1,A1
US-2007114474-A1,A1
US-2006047060-A1,A1
US-2006039234-A1,A1
US-2006113251-A1,A1
US-2006122815-A1,A1
US-2007106350-A1,A1
US-2006218841-A1,A1
US-2006131931-A1,A1
US-2007107149-A1,A1
US-2006234529-A1,A1
US-2006136397-A1,A1
US-2006079849-A1,A1
US-2006186294-A1,A1
US-2006261821-A1,A1
US-2006145963-A1,A1
US-2006128522-A1,A1
US-2006090877-A1,A1
US-2007071085-A1,A1
US-2007053149-A1,A1
US-2007159350-A1,A1
US-2006206019-A1,A1
US-2006147574-A1,A1
US-2006144602-A1,A1
US-2006112201-A1,A1
US-2006112495-A1,A1
US-2006182055-A1,A1
US-2007163684-A1,A1
US-2007112592-A1,A1
US-2006172276-A1,A1
US-2006129939-A1,A1
US-2006172084-A1,A1
US-2006185810-A1,A1
US-2007085071-A1,A1

2025-01-24 01:50:58 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:50:58 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:50:58 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:50:59 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:50:59 - snowflake.connector.connection - INFO - closed
2025-01-24 01:50:59 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:00 - root - INFO - SQL:
SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 100;
Results:
publication_number
US-8857551-B2
US-9370027-B2
US-9042351-B2
US-10561638-B2
US-8962445-B2
US-9270639-B2
US-8938152-B2
US-9389656-B2
US-9482287-B2
US-9386020-B2
US-10142276-B2
US-9216545-B2
US-9548844-B2
US-9111730-B2
US-9340798-B2
US-10324723-B2
US-9190745-B2
US-9380603-B2
US-9650743-B2
US-10140934-B2
US-9556907-B2
US-9567200-B2
US-10722723-B2
US-9188941-B2
US-9048861-B2
US-9460689-B2
US-9318050-B2
US-10533556-B2
US-9520094-B2
US-9412846-B2
US-10070142-B2
US-9585927-B2
US-9415120-B2
US-10533291-B2
US-9329543-B2
US-10487804-B2
US-9502685-B2
US-9434993-B2
US-10120886-B2
US-9343259-B2
US-10025922-B2
US-10093135-B2
US-11058417-B2
US-10791626-B2
US-10040253-B2
US-10268050-B2
US-9595167-B2
US-9425382-B2
US-10292858-B2
US-10439992-B2
US-10463632-B2
US-10040372-B2
US-11043142-B2
US-10096317-B2
US-10620487-B2
US-9616746-B2
US-10132013-B2
US-10075410-B2
US-11055623-B2
US-10501667-B2
US-10614930-B2
US-11100138-B2
US-10294485-B2
US-10420148-B2
US-10192648-B2
US-10799929-B2
US-10132055-B2
US-10306558-B2
US-10266255-B2
US-11229607-B2
US-11099445-B2
US-10918669-B2
US-10104056-B2
US-10170592-B2
US-10949373-B2
US-10637868-B2
US-10828230-B2
US-10612778-B2
US-10891534-B2
US-10827186-B2
US-10798073-B2
US-10574908-B2
US-10199059-B2
US-10178137-B2
US-10377792-B2
US-10141686-B2
US-11154290-B2
US-10891268-B2
US-10141468-B2
US-10941196-B2
US-10543714-B2
US-10513055-B2
US-10968393-B2
US-10630153-B2
US-10418599-B2
US-10128451-B2
US-10150865-B2
US-10483008-B2
US-10619236-B2
US-10634183-B2

2025-01-24 01:51:00 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:00 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:00 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:01 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:51:01 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:01 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:01 - root - INFO - SQL:
SELECT "publication_number", "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
     AND "kind_code" = 'B2'
     AND "grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Results:
publication_number,grant_date
US-9370027-B2,20160614
US-9042351-B2,20150526
US-8962445-B2,20150224
US-9270639-B2,20160223
US-8938152-B2,20150120
US-9389656-B2,20160712
US-9482287-B2,20161101
US-9386020-B2,20160705
US-10142276-B2,20181127
US-9216545-B2,20151222
US-9548844-B2,20170117
US-9111730-B2,20150818
US-9340798-B2,20160517
US-9190745-B2,20151117
US-9380603-B2,20160628
US-9650743-B2,20170516
US-10140934-B2,20181127
US-9556907-B2,20170131
US-9567200-B2,20170214
US-9188941-B2,20151117
US-9048861-B2,20150602
US-9460689-B2,20161004
US-9318050-B2,20160419
US-9520094-B2,20161213
US-9412846-B2,20160809
US-10070142-B2,20180904
US-9585927-B2,20170307
US-9415120-B2,20160816
US-9329543-B2,20160503
US-9502685-B2,20161122
US-9434993-B2,20160906
US-10120886-B2,20181106
US-9343259-B2,20160517
US-10025922-B2,20180717
US-10093135-B2,20181009
US-10040253-B2,20180807
US-9595167-B2,20170314
US-9425382-B2,20160823
US-10040372-B2,20180807
US-10096317-B2,20181009
US-9616746-B2,20170411
US-10132013-B2,20181120
US-10075410-B2,20180911
US-10132055-B2,20181120
US-10104056-B2,20181016
US-10141686-B2,20181127
US-10141468-B2,20181127
US-10128451-B2,20181113
US-10150865-B2,20181211
US-10136240-B2,20181120
US-10021398-B2,20180710
US-10154644-B2,20181218
US-9028758-B2,20150512
US-9143515-B2,20150922
US-8967144-B2,20150303
US-9038000-B2,20150519
US-9144476-B2,20150929
US-8950264-B2,20150210
US-9169572-B2,20151027
US-9089610-B2,20150728
US-9106878-B2,20150811
US-9028530-B2,20150512
US-9329365-B2,20160503
US-9040017-B2,20150526
US-9505537-B2,20161129
US-8967952-B2,20150303
US-8966958-B2,20150303
US-9047835-B2,20150602
US-9009284-B2,20150414
US-9181436-B2,20151110
US-9152566-B2,20151006
US-9276150-B2,20160301
US-9002672-B2,20150407
US-9053245-B2,20150609
US-9309435-B2,20160412
US-8981843-B2,20150317
US-9004917-B2,20150414
US-9317982-B2,20160419
US-9150444-B2,20151006
US-9103795-B2,20150811
US-9083005-B2,20150714
US-9265617-B2,20160223
US-9157667-B2,20151013
US-9288612-B2,20160315
US-8957450-B2,20150217
US-8967362-B2,20150303
US-9438017-B2,20160906
US-9169941-B2,20151027
US-9466599-B2,20161011
US-9091060-B2,20150728
US-9087841-B2,20150721
US-9156164-B2,20151013
US-9256652-B2,20160209
US-9244073-B2,20160126
US-9316812-B2,20160419
US-9514786-B2,20161206
US-9449376-B2,20160920
US-8933415-B2,20150113
US-9469007-B2,20161018
US-9459437-B2,20161004

2025-01-24 01:51:01 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:01 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:01 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:03 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:51:03 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:03 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:03 - root - INFO - SQL:
SELECT DISTINCT "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
     AND "kind_code" = 'B2'
     AND "grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Results:
grant_date
20150915
20150526
20150609
20180918
20170228
20151006
20160809
20170418
20180626
20150224
20170221
20160322
20161122
20151124
20180821
20160524
20160126
20160301
20170404
20160315
20161108
20160621
20160419
20151117
20161213
20170411
20160112
20161227
20150929
20150324
20150721
20160329
20150113
20150505
20180807
20160913
20150908
20181023
20160920
20170509
20180925
20170314
20150519
20181009
20150331
20170307
20180814
20160105
20161206
20180619
20160830
20160517
20150120
20151215
20181002
20151229
20160216
20150127
20150901
20150602
20160308
20150922
20180724
20151027
20160202
20170516
20150616
20160802
20151013
20160531
20150811
20181016
20151201
20161025
20181218
20161004
20160510
20181127
20151110
20161101
20160209
20170321
20170131
20150310
20150818
20170117
20150303
20160712
20150203
20150106
20180828
20150414
20160816
20181113
20181204
20160405
20150707
20150217
20150630
20170214

2025-01-24 01:51:03 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:03 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:03 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:04 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:51:04 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:05 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:05 - root - INFO - SQL:
SELECT
     t."publication_number",
     COUNT(c.value) AS "citation_count"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   GROUP BY
     t."publication_number"
   LIMIT 100;
Results:
publication_number,citation_count
US-9650743-B2,23
US-8994331-B2,31
US-10078378-B2,4
US-9279991-B2,22
US-9308847-B2,14
US-9452411-B2,5
US-8996479-B2,15
US-9028637-B2,4
US-9026162-B2,72
US-9302877-B2,12
US-9146908-B2,20
US-9632295-B2,60
US-9300877-B2,21
US-9474616-B2,144
US-9376833-B2,16
US-9124016-B2,6
US-10070538-B2,22
US-10112826-B2,5
US-8933524-B2,20
US-9359468-B2,9
US-9483346-B2,134
US-9141212-B2,8
US-9143515-B2,15
US-8981843-B2,14
US-9169941-B2,14
US-9499521-B2,303
US-9081290-B2,43
US-10137049-B2,12
US-10036488-B2,40
US-9011636-B2,26
US-10047399-B2,30
US-9296093-B2,25
US-10056901-B2,13
US-9332804-B2,17
US-10122285-B2,31
US-9084785-B2,12
US-9079868-B2,130
US-9071420-B2,18
US-10089334-B2,7
US-9301656-B2,11
US-9434173-B2,8
US-10125499-B2,574
US-9143444-B2,46
US-9257174-B2,12
US-9581920-B2,2
US-9394548-B2,13
US-9276150-B2,20
US-8945273-B2,21
US-9202080-B2,13
US-9025581-B2,162
US-9258696-B2,22
US-9166674-B2,7
US-9181681-B2,15
US-10121264-B2,33
US-9585927-B2,10
US-9503862-B2,7
US-9216062-B2,9
US-10075826-B2,14
US-8928823-B2,1
US-9232163-B2,11
US-10094379-B2,20
US-10079751-B2,21
US-8997705-B2,14
US-10119697-B2,9
US-10155928-B2,22
US-10134165-B2,13
US-9119720-B2,112
US-9157491-B2,13
US-9207691-B2,4
US-9068247-B2,30
US-9087924-B2,41
US-10121790-B2,13
US-9447712-B2,23
US-9459437-B2,15
US-10116352-B2,16
US-10064731-B2,29
US-10015072-B2,5
US-9297942-B2,52
US-10102286-B2,15
US-9393029-B2,9
US-10160782-B2,1
US-9319157-B2,38
US-9389317-B2,11
US-8942653-B2,9
US-9376900-B2,18
US-9614412-B2,8
US-10122988-B2,24
US-9030724-B2,4
US-9121859-B2,35
US-10150875-B2,80
US-10043636-B2,41
US-9365566-B2,6
US-9570507-B2,27
US-9048913-B2,98
US-10060342-B2,9
US-8986514-B2,28
US-8984387-B2,375
US-9394731-B2,12
US-9009469-B2,24
US-9283474-B2,12

2025-01-24 01:51:05 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:05 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:05 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:06 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:51:06 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:06 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:07 - root - INFO - SQL:
SELECT
     t."publication_number",
     ipc_item.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."ipc") ipc_item
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Results:
publication_number,ipc_code
US-9370027-B2,H04W8/18
US-9370027-B2,H04W80/04
US-9370027-B2,H04W60/00
US-9370027-B2,H04W4/06
US-9370027-B2,H04W76/00
US-9370027-B2,H04L12/18
US-9042351-B2,H04W52/02
US-9042351-B2,H04L5/00
US-9042351-B2,H04B7/216
US-9042351-B2,H04W28/18
US-9042351-B2,H04W76/02
US-9042351-B2,H04W24/10
US-9042351-B2,H04J13/00
US-9042351-B2,H04W72/04
US-8962445-B2,H10B12/00
US-8962445-B2,H01L21/762
US-8962445-B2,H01L29/66
US-8962445-B2,H01L21/76
US-9270639-B2,H04L45/74
US-8938152-B2,G11B20/12
US-8938152-B2,G11B27/22
US-8938152-B2,G11B27/10
US-8938152-B2,H04N5/91
US-8938152-B2,H04N5/83
US-8938152-B2,G11B27/32
US-8938152-B2,G11B27/00
US-8938152-B2,H04N9/82
US-8938152-B2,H04N5/85
US-8938152-B2,H04N5/92
US-8938152-B2,G11B27/34
US-8938152-B2,H04N9/87
US-8938152-B2,G11B27/30
US-8938152-B2,G11B20/10
US-8938152-B2,H04N9/80
US-9389656-B2,G06F1/20
US-9389656-B2,H05K7/20
US-9389656-B2,H05K5/00
US-9482287-B2,F16D13/68
US-9482287-B2,F16D55/00
US-9482287-B2,F16D13/70
US-9482287-B2,F16D55/40
US-9482287-B2,F16D25/0638
US-9482287-B2,F16D13/38
US-9482287-B2,F16D13/64
US-9482287-B2,F16D13/52
US-9386020-B2,G06F21/62
US-9386020-B2,G06F17/30
US-9386020-B2,H04L29/06
US-10142276-B2,H04L12/18
US-10142276-B2,G06Q30/00
US-10142276-B2,G06Q10/10
US-10142276-B2,H04N21/8358
US-10142276-B2,H04L12/58
US-10142276-B2,H04L29/08
US-9216545-B2,B29C67/00
US-9216545-B2,B33Y30/00
US-9548844-B2,H04L5/00
US-9548844-B2,H04B3/54
US-9548844-B2,H04L27/26
US-9111730-B2,G02B6/10
US-9111730-B2,G02B6/12
US-9111730-B2,B82Y20/00
US-9111730-B2,G02B6/42
US-9111730-B2,G02B6/136
US-9111730-B2,H01J37/32
US-9111730-B2,G02B6/122
US-9340798-B2,A01K67/02
US-9340798-B2,C12N15/63
US-9340798-B2,A61K38/17
US-9340798-B2,A61P37/00
US-9340798-B2,C12N15/86
US-9340798-B2,C12N5/22
US-9340798-B2,C12N5/06
US-9340798-B2,C12N15/49
US-9340798-B2,C12N15/19
US-9340798-B2,C12N5/10
US-9340798-B2,A61K48/00
US-9340798-B2,A61K35/76
US-9340798-B2,C12N7/00
US-9340798-B2,C12N15/09
US-9340798-B2,C12N15/12
US-9340798-B2,C12N15/867
US-9190745-B2,H01R12/55
US-9190745-B2,H01R13/6587
US-9190745-B2,H01R43/18
US-9190745-B2,H01R13/645
US-9190745-B2,H01R12/73
US-9190745-B2,H01R12/91
US-9190745-B2,H01R12/70
US-9190745-B2,H01R24/00
US-9190745-B2,H01R9/24
US-9190745-B2,H01R13/516
US-9380603-B2,H04W72/12
US-9380603-B2,H04W74/04
US-9380603-B2,H04W72/04
US-9380603-B2,H04W72/14
US-9380603-B2,H04W74/00
US-9380603-B2,H04L5/00
US-9650743-B2,F16J15/16
US-9650743-B2,F16C13/00

2025-01-24 01:51:07 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:07 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:07 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:08 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:51:08 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:08 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:08 - root - INFO - SQL:
SELECT
     t."publication_number",
     c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Results:
publication_number,cited_publication_number
US-9126271-B2,US-4805296-A
US-9126271-B2,US-5349492-A
US-9126271-B2,US-5610431-A
US-9126271-B2,US-5979243-A
US-9126271-B2,US-6037574-A
US-9126271-B2,US-6663982-B1
US-9126271-B2,US-2004012124-A1
US-9126271-B2,US-2004040382-A1
US-9126271-B2,US-2004057589-A1
US-9126271-B2,US-2004236524-A1
US-9126271-B2,US-6876785-B1
US-9126271-B2,US-6944360-B2
US-9126271-B2,US-2006162849-A1
US-9126271-B2,US-2006289763-A1
US-9126271-B2,US-2007092995-A1
US-9126271-B2,
US-9126271-B2,
US-9126271-B2,
US-9086872-B2,EP-0664508-A2
US-9086872-B2,JP-H08328849-A
US-9086872-B2,US-5802336-A
US-9086872-B2,US-5819101-A
US-9086872-B2,US-5881275-A
US-9086872-B2,US-6041404-A
US-9086872-B2,US-6119216-A
US-9086872-B2,TW-515167-B
US-9086872-B2,US-6516406-B1
US-9086872-B2,TW-545015-B
US-9086872-B2,US-2004054879-A1
US-9086872-B2,US-2005125637-A1
US-9086872-B2,US-2005132165-A1
US-9086872-B2,JP-2005174293-A
US-9086872-B2,JP-2005535966-A
US-9086872-B2,US-7085795-B2
US-9086872-B2,US-7107435-B2
US-9086872-B2,US-7155601-B2
US-9086872-B2,US-2007106882-A1
US-9086872-B2,CN-101097512-A
US-9086872-B2,US-2008215855-A1
US-9086872-B2,US-7475392-B2
US-9086872-B2,US-2009172358-A1
US-9086872-B2,WO-2011002773-A2
US-9086872-B2,US-8078836-B2
US-9086872-B2,JP-2012530977-A
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9358525-B2,WO-9810272-A1
US-9358525-B2,US-5939037-A
US-9358525-B2,US-6240722-B1
US-9358525-B2,US-2002014107-A1
US-9358525-B2,WO-0222241-A1
US-9358525-B2,US-2002124551-A1
US-9358525-B2,WO-02095199-A1
US-9358525-B2,US-2003011374-A1
US-9358525-B2,US-2003091499-A1
US-9358525-B2,US-2003124035-A1
US-9358525-B2,EP-1358933-A1
US-9358525-B2,US-2004206067-A1
US-9358525-B2,US-6833272-B1
US-9358525-B2,WO-2005015191-A1
US-9358525-B2,US-7097875-B2
US-9358525-B2,US-2007080075-A1
US-9358525-B2,WO-2007068587-A1
US-9358525-B2,US-2009071229-A1
US-9358525-B2,US-2010193356-A1
US-9358525-B2,
US-9358525-B2,
US-9393029-B2,CH-240542-A
US-9393029-B2,US-3867932-A
US-9393029-B2,JP-H0382478-A
US-9393029-B2,US-5667513-A
US-9393029-B2,US-2002099382-A1
US-9393029-B2,US-2002193802-A1
US-9393029-B2,JP-2006503671-A
US-9426685-B2,US-6041235-A
US-9426685-B2,US-2004252656-A1
US-9426685-B2,US-2005070267-A1
US-9426685-B2,US-2005272425-A1
US-9426685-B2,US-2006172707-A1
US-9426685-B2,US-2007270155-A1

2025-01-24 01:51:08 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:08 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:08 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:10 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:10 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:51:43 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:51:43 - root - INFO - The error you're encountering:

```
SQL compilation error:
Lateral View cannot be on the left side of join
```

occurs because in Snowflake SQL, you cannot have a `LATERAL FLATTEN` operation on the left side of a `JOIN`. To fix this issue, we need to restructure the query to avoid placing `LATERAL FLATTEN` before a `JOIN`.

Here's how you can modify your query to resolve the error:

### Revised Query Using Common Table Expressions (CTEs)

```sql
WITH citing_patents AS (
    SELECT
        t."publication_number" AS "citing_publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value::VARIANT:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."citing_publication_number",
    cp."cited_publication_number",
    cic."ipc_4"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
LIMIT 100;
```

### Explanation

1. **Extract Citing and Cited Publication Numbers**: The first CTE, `citing_patents`, extracts the citing publication numbers (our main patents of interest) and their corresponding cited publication numbers (backward citations).

2. **Extract IPC Codes for Cited Patents**: The second CTE, `cited_ipc_codes`, extracts the 4-digit IPC codes from the cited patents.

3. **Join on Cited Publication Numbers**: We perform a `LEFT JOIN` between the citing patents and the cited IPC codes using the cited publication numbers.

### Why This Works

- **Avoiding Lateral Flatten on Left Side of JOIN**: By using CTEs, we separate the `LATERAL FLATTEN` operations and ensure they don't occur on the left side of a `JOIN`.

- **Efficient Data Extraction**: This approach efficiently extracts the necessary data without running into SQL compilation errors.

### Additional Notes

- **NULL Values**: Be aware that some `cited_publication_number` values might not have corresponding entries in the `PUBLICATIONS` table, resulting in `NULL` IPC codes.

- **Data Volume**: Processing patent data can be resource-intensive. If you encounter performance issues, consider restricting the date range or adding additional filters.

### Testing the Query

Please run the revised query in your Snowflake environment to verify that it works as expected.

---

**Sample Output Format**:

```csv
citing_publication_number,cited_publication_number,ipc_4
US-XXXXX-B2,US-YYYYY-A1,XXXX
US-XXXXX-B2,US-ZZZZZ-A1,YYYY
...
```

**Note**: Replace `US-XXXXX-B2`, `US-YYYYY-A1`, etc., with actual publication numbers and IPC codes from your data.
2025-01-24 01:51:43 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:51:43 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:51:43 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:51:45 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:51:45 - snowflake.connector.connection - INFO - closed
2025-01-24 01:51:45 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:52:36 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:52:36 - root - INFO - SQL:
WITH citing_patents AS (
    SELECT
        t."publication_number" AS "citing_publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value::VARIANT:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."citing_publication_number",
    cp."cited_publication_number",
    cic."ipc_4"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
LIMIT 100;
Results:
citing_publication_number,cited_publication_number,ipc_4
US-9121016-B2,US-2010248334-A1,C09D
US-9121016-B2,US-2010248334-A1,A01N
US-9121016-B2,US-2010248334-A1,A61K
US-9121016-B2,US-2010248334-A1,A62D
US-9121016-B2,US-2010248334-A1,C09D
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,A61F
US-9121016-B2,US-2010248334-A1,A62D
US-9121016-B2,US-2010248334-A1,A61K
US-9121016-B2,US-2010248334-A1,A61K
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,C12S
US-9121016-B2,US-2010248334-A1,A62D
US-9121016-B2,US-2010248334-A1,C12M
US-9121016-B2,US-2010248334-A1,C09J
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,A61K
US-9372790-B2,US-2007233941-A1,G06F
US-9291935-B2,US-2009290903-A1,G03G
US-9169941-B2,US-2005000579-A1,F16K
US-9169941-B2,US-2005000579-A1,F16H
US-9169941-B2,US-2005000579-A1,F16K
US-9619652-B2,US-2004199489-A1,G06F
US-9619652-B2,US-2004199489-A1,G06Q
US-8984387-B2,US-2005097008-A1,G06Q
US-8984387-B2,US-2005097008-A1,G06Q
US-8984387-B2,US-2005097008-A1,G06F
US-9284409-B2,US-2008071350-A1,A61F
US-9197224-B2,US-2009285279-A1,H03K
US-9197224-B2,US-2009285279-A1,H03K
US-10107583-B2,US-2006087439-A1,G08B
US-10105167-B2,US-2009112263-A1,A61B
US-10105167-B2,US-2009112263-A1,A61N
US-10105167-B2,US-2009112263-A1,A61B
US-10105167-B2,US-2009112263-A1,A61B
US-9622691-B2,US-2006272652-A1,A61B
US-9131283-B2,US-2007244760-A1,G06Q
US-9436499-B2,US-2008134180-A1,G06F
US-9436499-B2,US-2008134180-A1,G06F
US-9436499-B2,US-2008134180-A1,G06F
US-9436499-B2,US-2008134180-A1,G06F
US-10101801-B2,US-2007209067-A1,G06F
US-10101801-B2,US-2007209067-A1,G06F
US-10101801-B2,US-2007209067-A1,G06F
US-9457510-B2,US-4878579-A,G07D
US-9457510-B2,US-4878579-A,G09F
US-9457510-B2,US-4878579-A,A47G
US-8932208-B2,US-6245064-B1,A61F
US-8932208-B2,US-6245064-B1,A61B
US-8932208-B2,US-6245064-B1,A61N
US-8932208-B2,US-6245064-B1,A61B
US-8932208-B2,US-6245064-B1,A61B
US-8932208-B2,US-6245064-B1,A61B
US-9068247-B2,US-4316800-A,C22B
US-9207691-B2,US-2009200971-A1,H02P
US-9207691-B2,US-2009200971-A1,H02P
US-9233513-B2,US-2006026201-A1,G06F
US-10067609-B2,US-6597348-B1,G06F
US-10067609-B2,US-6597348-B1,G02F
US-10067609-B2,US-6597348-B1,G06F
US-10067609-B2,US-6597348-B1,G02F
US-10042510-B2,US-2009203994-A1,A61B
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61P
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-10077795-B2,US-3505922-A,F16B
US-9399738-B2,US-3993583-A,C10J
US-9399738-B2,US-3993583-A,B01J
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,F01N
US-9293644-B2,US-4870045-A,B28B
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,B01D
US-9402981-B2,US-6514217-B1,A61B
US-9402981-B2,US-6514217-B1,A61M

2025-01-24 01:52:36 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:52:36 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:52:36 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:52:38 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:52:38 - snowflake.connector.connection - INFO - closed
2025-01-24 01:52:38 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:52:38 - root - INFO - SQL:
WITH citing_patents AS (
    SELECT
        t."publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."publication_number",
    COUNT(DISTINCT cic."ipc_4") AS "distinct_ipc4_count"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
GROUP BY
    cp."publication_number"
LIMIT 100
Results:
publication_number,distinct_ipc4_count
US-9245361-B2,0
US-10144495-B2,0
US-8964230-B2,0
US-8954157-B2,2
US-9297098-B2,0
US-9270639-B2,2
US-9150564-B2,0
US-9562348-B2,0
US-9100914-B2,0
US-9160809-B2,1
US-9084483-B2,0
US-9527297-B2,0
US-10040376-B2,0
US-9404543-B2,0
US-9291582-B2,0
US-10142276-B2,0
US-9322880-B2,0
US-10136806-B2,0
US-9534310-B2,0
US-9277390-B2,0
US-8957501-B2,0
US-9084092-B2,0
US-9019995-B2,0
US-9128213-B2,0
US-9130691-B2,0
US-9074699-B2,0
US-9438879-B2,0
US-9552124-B2,0
US-9165600-B2,0
US-10094739-B2,0
US-9531453-B2,0
US-9332158-B2,0
US-8976458-B2,0
US-9190745-B2,0
US-10019533-B2,0
US-9141121-B2,0
US-10087555-B2,0
US-8928865-B2,0
US-9595184-B2,0
US-10030942-B2,0
US-9323449-B2,0
US-9275516-B2,0
US-9376833-B2,0
US-10036488-B2,1
US-8933524-B2,0
US-9146908-B2,0
US-9028637-B2,0
US-10137049-B2,0
US-9169941-B2,2
US-10070538-B2,0
US-9632295-B2,0
US-9143515-B2,0
US-9141212-B2,0
US-9279991-B2,0
US-9302877-B2,0
US-9300877-B2,0
US-9452411-B2,0
US-9499521-B2,0
US-9483346-B2,0
US-9011636-B2,0
US-9081290-B2,0
US-9026162-B2,0
US-9650743-B2,0
US-9359468-B2,0
US-9308847-B2,0
US-9124016-B2,0
US-8981843-B2,0
US-8994331-B2,0
US-10078378-B2,0
US-9474616-B2,0
US-10112826-B2,0
US-8996479-B2,0
US-9490872-B2,0
US-9068073-B2,0
US-9492207-B2,0
US-8988092-B2,0
US-9555399-B2,0
US-9191061-B2,0
US-10125369-B2,0
US-9274095-B2,0
US-9263386-B2,0
US-9509137-B2,0
US-9347412-B2,0
US-10143019-B2,0
US-9068776-B2,0
US-9555845-B2,0
US-9514786-B2,0
US-10163063-B2,0
US-9513680-B2,0
US-9026486-B2,0
US-9150339-B2,0
US-10068149-B2,0
US-10067276-B2,0
US-9202080-B2,0
US-9276150-B2,0
US-10122285-B2,0
US-10056901-B2,0
US-9434173-B2,0
US-10125499-B2,0
US-9025581-B2,0

2025-01-24 01:52:38 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:52:38 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:52:38 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:52:40 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:52:40 - snowflake.connector.connection - INFO - closed
2025-01-24 01:52:40 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:52:40 - root - INFO - SQL:
WITH citing_patents AS (
    SELECT
        t."publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."publication_number",
    cic."ipc_4",
    COUNT(*) AS "ipc_count"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
GROUP BY
    cp."publication_number",
    cic."ipc_4"
LIMIT 100
Results:
publication_number,ipc_4,ipc_count
US-8932208-B2,,572
US-9262515-B2,,53
US-9270018-B2,,30
US-10015072-B2,,5
US-10154644-B2,,94
US-10126904-B2,,77
US-9462505-B2,,48
US-9303116-B2,,17
US-9636072-B2,,79
US-9078270-B2,,40
US-10156954-B2,,57
US-9436499-B2,G06F,4
US-9313747-B2,,31
US-8961368-B2,,9
US-9219084-B2,,17
US-9120113-B2,,9
US-9069112-B2,,6
US-10075866-B2,,34
US-10143806-B2,,9
US-10114486-B2,,30
US-10001873-B2,,15
US-9438469-B2,,24
US-8995504-B2,,11
US-9494485-B2,,8
US-9514786-B2,,12
US-9001770-B2,H04B,1
US-9185094-B2,G06F,4
US-9245842-B2,,6
US-10052433-B2,,1
US-9526699-B2,C07C,1
US-10076611-B2,A61M,1
US-9622691-B2,G06F,1
US-9513676-B2,,8
US-9546744-B2,,193
US-9254356-B2,,87
US-9313902-B2,,71
US-9474616-B2,,144
US-9169572-B2,,11
US-9183552-B2,,42
US-9234897-B2,,45
US-9381070-B2,,66
US-9436499-B2,,53
US-8935238-B2,,1
US-8962897-B2,,71
US-9048913-B2,H01Q,2
US-9304293-B2,,8
US-9475565-B2,,24
US-8992589-B2,,28
US-9584738-B2,,3
US-9265451-B2,,13
US-9211492-B2,,11
US-9089261-B2,A61B,4
US-10153508-B2,,8
US-9326388-B2,,10
US-9087697-B2,,25
US-9240234-B2,,21
US-9230173-B2,,7
US-9245179-B2,,7
US-8944512-B2,,6
US-9317315-B2,,3
US-9347655-B2,G03F,1
US-9155586-B2,A61B,7
US-9457510-B2,G09F,1
US-9044021-B2,F27D,1
US-9636072-B2,G01T,2
US-9320252-B2,,20
US-8945691-B2,,45
US-9290941-B2,,31
US-9244831-B2,,19
US-10144609-B2,,12
US-9018083-B2,,40
US-10075410-B2,,65
US-9381396-B2,,22
US-9434030-B2,,43
US-10007151-B2,,10
US-10083308-B2,,226
US-9281167-B2,,15
US-9452241-B2,,87
US-9313702-B2,,27
US-9458215-B2,,29
US-8955530-B2,,20
US-9138878-B2,,12
US-9555845-B2,,31
US-9084461-B2,,13
US-8932956-B2,,15
US-10130434-B2,,9
US-9211434-B2,,69
US-8932532-B2,,17
US-9051055-B2,,13
US-9226006-B2,H04N,28
US-9014947-B2,,11
US-9240539-B2,,6
US-9639133-B2,,6
US-9384632-B2,G07F,1
US-9202992-B2,B23K,1
US-9347655-B2,G06K,2
US-9187733-B2,,31
US-9448381-B2,,7
US-9424588-B2,,78
US-10009023-B2,,10

2025-01-24 01:52:40 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:52:40 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:52:40 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:52:42 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:52:42 - snowflake.connector.connection - INFO - closed
2025-01-24 01:52:42 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:53:08 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:53:08 - root - INFO - ```sql
SELECT
  t."publication_number",
  title_item.value:"text"::STRING AS "title"
FROM
  PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."title_localized") title_item
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
  AND title_item.value:"language"::STRING = 'en'
LIMIT 100;
```
2025-01-24 01:53:08 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:53:08 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:53:08 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:53:10 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:53:10 - snowflake.connector.connection - INFO - closed
2025-01-24 01:53:10 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:53:48 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:53:48 - root - INFO - SQL:
SELECT
  t."publication_number",
  title_item.value:"text"::STRING AS "title"
FROM
  PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."title_localized") title_item
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
  AND title_item.value:"language"::STRING = 'en'
LIMIT 100;
Results:
Too long, hard cut:
publication_number,title
US-8401259-B2,Image diagnosis support system
US-7713107-B2,Polishing tool
US-7210809-B2,Decorative optical display
US-7753768-B2,Suit variable mahjong tile and a mahjong gaming apparatus with suit variable mahjong tiles
US-8782680-B2,Method and apparatus for displaying interactions with media by members of a social software system
US-7064926-B2,Cartridge case with chip retaining features
US-6826024-B2,Power line with power shutdown device including detection line
US-8500773-B2,Spring detach joint for delivering a detachable implantable device
US-7407455-B2,Lacrosse head having a wide catching area and channeled thongs
US-7939517-B2,"1,4,6-androstatriene-3,17-dione (“ATD”) for therapeutic uses"
US-8479285-B2,"Method, computer program and apparatus for controlling access to a computer resource and obtaining a baseline therefor"
US-8076590-B2,Printed circuit board
US-6700780-B2,Apparatus for cooling electronics
US-7215291-B2,Antenna device
US-6891207-B2,Electrostatic discharge protection networks for triple well semiconductor devices
US-7368812-B2,Interposers for chip-scale packages and intermediates thereof
US-7892937-B2,Methods of forming capacitors
US-8400279-B2,Wireless communication tag and wireless communication system
US-8606746-B2,Privacy management policy hub
US-7219894-B2,Board games with player-wearable costume components
US-8859091-B2,"Colored diffusion sheets, methods of manufacture thereof and articles comprising the same"
US-7529222-B2,Method and apparatus for medium access control for a decentralized network with adapted beamforming and power control
US-7290526-B2,Throttle body having fuel return passage and vehicle
US-8613847-B2,Method of applying polyelectrolyte multilayer film for corrosion control
US-7748515-B2,Storage conveyor
US-7337159-B2,System and method for sharing of expert knowledge
US-8551305-B2,Apparatus for treating water or wastewater
US-7057227-B2,"Gate structure in flash memory cell and method of forming the same, and method of forming dielectric film"
US-7459814-B2,Hybrid induction motor
US-7914399-B2,Golf ball
US-7952972-B2,"Write-once optical disc, and method and apparatus for recording/playback management information on/from optical disc"
US-8268510-B2,Fuel cell fabrication using photopolymer based processes
US-7973510-B2,Apparatus for controlling inverter
US-8336272-B2,Device and method for locking two building boards
US-7920184-B2,CMOS active pixel sensor with a sample and hold circuit having multiple injection capacitors and a fully differential charge mode linear synthesizer with skew control
US-8250158-B2,Electronic message filter
US-6901752-B2,Exhaust processor with variable tuning system and method of operating such exhaust processor
US-9258696-B2,Method for secure network based route optimization in mobile networks
US-8449766-B2,Device for capturing odor and/or taste-generating substances present in water flowing in a network
US-6786750-B2,Self-locating connector
US-7109787-B2,High-efficiency circuit for demodulating carriers in quadrature
US-8135033-B2,Method of communicating between layers of a protocol stack and apparatus therefor
US-8599821-B2,"Method, terminal and network device for changing status of a packet switched domain"
US-8084991-B2,"Power reception device, electronic apparatus, and non-contact power transmission system"
US-7255702-B2,Bone milling instrument
US-8133224-B2,Medical instrument
US-6880183-B2,Portable hip-bathing device
US-7516580-B2,Construction bracket for creating a longitudinal roof venting space
US-7476705-B2,Aqueous dispersions of polyurethane compositions
US-9637570-B2,Method and apparatus for reducing fouling
US-9056087-B2,"Methods of healing or preventing inflammation, damage and other changes that occur prior to, during or immediately after a myocardial event with thymosin beta 4, analogues, isoforms and other derivatives"
US-7379604-B2,Device and process for coding video images by motion compensation
US-8361260-B2,Automobiles having a radiant barrier
US-8288138-B2,Conversion of biomass into ethanol
US-8736596-B2,Liquid crystal display panel and display device having the display panel
US-8363660-B2,Arrangement and method relating to identification of hardware units
US-7611604-B2,Method and device for the production of purified steam
US-7779016-B2,Parallel execution of operations for a partitioned binary radix tree on a parallel computer
US-9358141-B2,Stent deployment device
US-8490898-B2,Spray electrode
US-7605880-B2,Liquid crystal display
US-8603806-B2,Materials and methods for cell-based assays
US-7800214-B2,Semiconductor device
US-8109748-B2,Gear tooth and external gear pump
US-7777025-B2,Transition state analog inhibitors of ricin A-chain
US-8562357-B2,Interactive educational system and method
US-7703576-B2,Fire escape apparatus
US-7624970-B2,Method for the absorption of a gas in a liquid and an apparatus for this
US-7742014-B2,Task light
US-6900997-B2,Load matched alternator system with fault protecti

2025-01-24 01:53:48 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:53:48 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:53:48 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:53:49 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:53:49 - snowflake.connector.connection - INFO - closed
2025-01-24 01:53:49 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:53:50 - root - INFO - SQL:
SELECT
  t."publication_number",
  t."application_number",
  t."grant_date"
FROM
  PATENTS.PATENTS.PUBLICATIONS t
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
  AND t."grant_date" BETWEEN 20150101 AND 20181231
LIMIT 100
Results:
publication_number,application_number,grant_date
US-9258696-B2,US-36937409-A,20160209
US-9637570-B2,US-48305709-A,20170502
US-9056087-B2,US-48808402-A,20150616
US-9358141-B2,US-54702005-A,20160607
US-8998077-B2,US-68234810-A,20150407
US-9175419-B2,US-74796908-A,20151103
US-8930853-B2,US-84463104-A,20150106
US-9468034-B2,US-87051010-A,20161011
US-9450127-B2,US-99580409-A,20160920
US-9182061-B2,US-201013320145-A,20151110
US-8955530-B2,US-201113008707-A,20150217
US-9203087-B2,US-201113107003-A,20151201
US-9073609-B2,US-201113244632-A,20150707
US-8988092-B2,US-201113305028-A,20150324
US-9402555-B2,US-201113339590-A,20160802
US-9436209-B2,US-201113824551-A,20160906
US-9169209-B2,US-201114115623-A,20151027
US-9225604-B2,US-201213439957-A,20151229
US-8997282-B2,US-201213468424-A,20150407
US-8953160-B2,US-201213471341-A,20150210
US-8947874-B2,US-201213492725-A,20150203
US-9272110-B2,US-201213534984-A,20160301
US-9197224-B2,US-201213549262-A,20151124
US-9074467-B2,US-201213554470-A,20150707
US-8949431-B2,US-201213590516-A,20150203
US-9255843-B2,US-201213626421-A,20160209
US-9005617-B2,US-201213657120-A,20150414
US-9056409-B2,US-201213657425-A,20150616
US-9458205-B2,US-201213679684-A,20161004
US-9482416-B2,US-201214357687-A,20161101
US-9252201-B2,US-201313780942-A,20160202
US-9110842-B2,US-201313845977-A,20150818
US-9236883-B2,US-201313872857-A,20160112
US-8986686-B2,US-201313873458-A,20150324
US-9477984-B2,US-201313886041-A,20161025
US-9335115-B2,US-201313926274-A,20160510
US-8991274-B2,US-201313927938-A,20150331
US-9261171-B2,US-201314011973-A,20160216
US-9277223-B2,US-201314037999-A,20160301
US-9451434-B2,US-201314091894-A,20160920
US-9446487-B2,US-201314105716-A,20160920
US-9011414-B2,US-201314140652-A,20150421
US-9353204-B2,US-201314429598-A,20160531
US-9607689-B2,US-201314646596-A,20170328
US-10041312-B2,US-201314651459-A,20180807
US-9518050-B2,US-201314653048-A,20161213
US-9091580-B2,US-201414147217-A,20150728
US-9023198-B2,US-201414152442-A,20150505
US-9071005-B2,US-201414162295-A,20150630
US-9452411-B2,US-201414177291-A,20160927
US-9644126-B2,US-201414195788-A,20170509
US-9319600-B2,US-201414202621-A,20160419
US-9549783-B2,US-201414212113-A,20170124
US-9121741-B2,US-201414217693-A,20150901
US-9332804-B2,US-201414271750-A,20160510
US-9143653-B2,US-201414273924-A,20150922
US-9458427-B2,US-201414279432-A,20161004
US-9018083-B2,US-201414286513-A,20150428
US-9529876-B2,US-201414296938-A,20161227
US-9102692-B2,US-201414297790-A,20150811
US-9190163-B2,US-201414328913-A,20151117
US-9514683-B2,US-201414415082-A,20161206
US-10062462-B2,US-201414469499-A,20180828
US-9335556-B2,US-201414476896-A,20160510
US-9257761-B2,US-201414494939-A,20160209
US-10076283-B2,US-201414539437-A,20180918
US-10001837-B2,US-201414580754-A,20180619
US-10009187-B2,US-201414762659-A,20180626
US-10156150-B2,US-201414769208-A,20181218
US-10034502-B2,US-201514592454-A,20180731
US-9248837-B2,US-201514619462-A,20160202
US-9409501-B2,US-201514628229-A,20160809
US-10105461-B2,US-201514703538-A,20181023
US-9452153-B2,US-201514720705-A,20160927
US-10137406-B2,US-201514736819-A,20181127
US-10130244-B2,US-201514737766-A,20181120
US-9214830-B2,US-201514789382-A,20151215
US-9580500-B2,US-201514795022-A,20170228
US-9503862-B2,US-201514800260-A,20161122
US-9489670-B2,US-201514836456-A,20161108
US-10141118-B2,US-201515108912-A,20181127
US-10003448-B2,US-201515116118-A,20180619
US-10080984-B2,US-201515310889-A,20180925
US-10068136-B2,US-201614996885-A,20180904
US-10087451-B2,US-201615131083-A,20181002
US-10085896-B2,US-201615138600-A,20181002
US-9619944-B2,US-201615158381-A,20170411
US-9556263-B2,US-201615176774-A,20170131
US-10114669-B2,US-201615180160-A,20181030
US-9539268-B2,US-201615211827-A,20170110
US-10004808-B2,US-201615215000-A,20180626
US-10144233-B2,US-201615546665-A,20181204
US-10160782-B2,US-201615566097-A,20181225
US-10135219-B2,US-201715428925-A,20181120
US-10147221-B2,US-201715457184-A,20181204
US-10089048-B2,US-201715475959-A,20181002
US-10139042-B2,US-201715654560-A,20181127
US-10086527-B2,US-201715666037-A,20181002
US-9197484-B2,US-201313939144-A,20151124
US-9423740-B2,US-201313948281-A,20160823

2025-01-24 01:53:50 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:53:50 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:53:50 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:53:51 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-24 01:53:51 - snowflake.connector.connection - INFO - closed
2025-01-24 01:53:51 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:54:23 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:54:23 - root - INFO - ```sql
SELECT
  t."publication_number",
  t."application_number",
  t."grant_date"
FROM
  PATENTS.PATENTS.PUBLICATIONS t
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
LIMIT 100;
```
2025-01-24 01:54:23 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:54:23 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:54:23 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:54:24 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:54:24 - snowflake.connector.connection - INFO - closed
2025-01-24 01:54:24 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:55:07 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:55:07 - root - INFO - SQL:
SELECT
  t."publication_number",
  t."application_number",
  t."grant_date"
FROM
  PATENTS.PATENTS.PUBLICATIONS t
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
LIMIT 100;
Results:
publication_number,application_number,grant_date
US-8857551-B2,US-201314079579-A,20141014
US-9370027-B2,US-201314081328-A,20160614
US-9042351-B2,US-201314089249-A,20150526
US-10561638-B2,US-201314099882-A,20200218
US-8962445-B2,US-201314104575-A,20150224
US-9270639-B2,US-201314142560-A,20160223
US-8938152-B2,US-201414152474-A,20150120
US-9389656-B2,US-201414168546-A,20160712
US-9482287-B2,US-201414178937-A,20161101
US-9386020-B2,US-201414183837-A,20160705
US-10142276-B2,US-201414192119-A,20181127
US-9216545-B2,US-201414225456-A,20151222
US-9548844-B2,US-201214234545-A,20170117
US-9111730-B2,US-201414273002-A,20150818
US-9340798-B2,US-201414276615-A,20160517
US-10324723-B2,US-201414321957-A,20190618
US-9190745-B2,US-201414326927-A,20151117
US-9380603-B2,US-201114360592-A,20160628
US-9650743-B2,US-201314421210-A,20170516
US-10140934-B2,US-201414429991-A,20181127
US-9556907-B2,US-201314440366-A,20170131
US-9567200-B2,US-201314441959-A,20170214
US-10722723-B2,US-201414452617-A,20200728
US-9188941-B2,US-201414457948-A,20151117
US-9048861-B2,US-201414473486-A,20150602
US-9460689-B2,US-201414478706-A,20161004
US-9318050-B2,US-201414486886-A,20160419
US-10533556-B2,US-201414504182-A,20200114
US-9520094-B2,US-201414519755-A,20161213
US-9412846-B2,US-201414527609-A,20160809
US-10070142-B2,US-201414538272-A,20180904
US-9585927-B2,US-201414555366-A,20170307
US-9415120-B2,US-201514595540-A,20160816
US-10533291-B2,US-201514596095-A,20200114
US-9329543-B2,US-201514627387-A,20160503
US-10487804-B2,US-201514644743-A,20191126
US-9502685-B2,US-201514741453-A,20161122
US-9434993-B2,US-201514749717-A,20160906
US-10120886-B2,US-201514798461-A,20181106
US-9343259-B2,US-201514815265-A,20160517
US-10025922-B2,US-201514818527-A,20180717
US-10093135-B2,US-201514837362-A,20181009
US-11058417-B2,US-201414897921-A,20210713
US-10791626-B2,US-201414913766-A,20200929
US-10040253-B2,US-201514926589-A,20180807
US-10268050-B2,US-201514935322-A,20190423
US-9595167-B2,US-201514937371-A,20170314
US-9425382-B2,US-201514949869-A,20160823
US-10292858-B2,US-201514951926-A,20190521
US-10439992-B2,US-201615011822-A,20191008
US-10463632-B2,US-201615046426-A,20191105
US-10040372-B2,US-201615051556-A,20180807
US-11043142-B2,US-201615065028-A,20210622
US-10096317-B2,US-201615131833-A,20181009
US-10620487-B2,US-201615135776-A,20200414
US-9616746-B2,US-201615142291-A,20170411
US-10132013-B2,US-201615147110-A,20181120
US-10075410-B2,US-201615153666-A,20180911
US-11055623-B2,US-201615186758-A,20210706
US-10501667-B2,US-201615238117-A,20191210
US-10614930-B2,US-201615250268-A,20200407
US-11100138-B2,US-201615262900-A,20210824
US-10294485-B2,US-201615266348-A,20190521
US-10420148-B2,US-201615267885-A,20190917
US-10192648-B2,US-201615270312-A,20190129
US-10799929-B2,US-201615280887-A,20201013
US-10132055-B2,US-201615288432-A,20181120
US-10306558-B2,US-201615297992-A,20190528
US-10266255-B2,US-201515301120-A,20190423
US-11229607-B2,US-201515321458-A,20220125
US-11099445-B2,US-201615327823-A,20210824
US-10918669-B2,US-201515329220-A,20210216
US-10104056-B2,US-201615334578-A,20181016
US-10170592-B2,US-201615339423-A,20190101
US-10949373-B2,US-201615351412-A,20210316
US-10637868-B2,US-201615353122-A,20200428
US-10828230-B2,US-201615376956-A,20201110
US-10612778-B2,US-201715398636-A,20200407
US-10891534-B2,US-201715403917-A,20210112
US-10827186-B2,US-201715403935-A,20201103
US-10798073-B2,US-201715421377-A,20201006
US-10574908-B2,US-201715422846-A,20200225
US-10199059-B2,US-201715430790-A,20190205
US-10178137-B2,US-201715444503-A,20190108
US-10377792-B2,US-201715457650-A,20190813
US-10141686-B2,US-201715459105-A,20181127
US-11154290-B2,US-201715468372-A,20211026
US-10891268-B2,US-201715472430-A,20210112
US-10141468-B2,US-201715480342-A,20181127
US-10941196-B2,US-201515502777-A,20210309
US-10543714-B2,US-201515504212-A,20200128
US-10513055-B2,US-201515504420-A,20191224
US-10968393-B2,US-201515511036-A,20210406
US-10630153-B2,US-201515525662-A,20200421
US-10418599-B2,US-201515531988-A,20190917
US-10128451-B2,US-201615534270-A,20181113
US-10150865-B2,US-201615535580-A,20181211
US-10483008-B2,US-201615545510-A,20191119
US-10619236-B2,US-201615550412-A,20200414
US-10634183-B2,US-201615551388-A,20200428

2025-01-24 01:55:07 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:55:07 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:55:07 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:55:09 - snowflake.connector.cursor - INFO - Number of results in first chunk: 100
2025-01-24 01:55:09 - snowflake.connector.connection - INFO - closed
2025-01-24 01:55:09 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:55:09 - root - INFO - SQL:
SELECT
  t."publication_number",
  abstract_item.value:"text"::STRING AS "abstract_text"
FROM
  PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."abstract_localized") abstract_item
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
LIMIT 100
Results:
Too long, hard cut:
publication_number,abstract_text
US-10981319-B2,"A blow-molded plastic structure has a hollow interior portion formed during a blow-molding process, and includes first and second outer portions that are spaced apart from each other, with the hollow interior portion disposed there between. The structure includes a pattern of structural stiffening features that are integrally formed in the second outer portion. The pattern of structural stiffening features includes a plurality of tripodal depressions disposed in rows and columns and a plurality of convex regions disposed in rows and columns between the plurality of tripodal depressions. Each convex region has a maximum height between the first and second outer portions. Each of the tripodal depressions extends into the hollow interior portion, includes three indentations disposed adjacent the first outer portion, and includes an island spaced away from the first outer portion. The island has three sides, each of which is disposed adjacent one of the three indentations."
US-10981319-B2,"A blow-molded plastic structure has a hollow interior portion formed during a blow-molding process, and includes first and second outer portions that are spaced apart from each other, with the hollow interior portion disposed there between. The structure includes a pattern of structural stiffening features that are integrally formed in the second outer portion. The pattern of structural stiffening features includes a plurality of tripodal depressions disposed in rows and columns and a plurality of convex regions disposed in rows and columns between the plurality of tripodal depressions. Each convex region has a maximum height between the first and second outer portions. Each of the tripodal depressions extends into the hollow interior portion, includes three indentations disposed adjacent the first outer portion, and includes an island spaced away from the first outer portion. The island has three sides, each of which is disposed adjacent one of the three indentations."
US-10555257-B2,"A method for operating a station associated with an access node includes receiving one or more wake-up radio (WUR) Beacons, wherein the one or more WUR beacons each comprises timing information and an identifier associated with the access node, and wherein the station is configured to receive WUR Beacons to that a first timing information with a WUR receiver, and reporting, to the access node, information about the one or more WUR Beacons, the information comprising at least one of second timing information, signal quality information, or error information."
US-10555257-B2,"A method for operating a station associated with an access node includes receiving one or more wake-up radio (WUR) Beacons, wherein the one or more WUR beacons each comprises timing information and an identifier associated with the access node, and wherein the station is configured to receive WUR Beacons to that a first timing information with a WUR receiver, and reporting, to the access node, information about the one or more WUR Beacons, the information comprising at least one of second timing information, signal quality information, or error information."
US-10803366-B2,"The present invention relates to a method for extracting an output data set, wherein the method includes the following steps receiving an input data set; wherein the input data set comprises at least one textual input data set and at least one visual input data set; processing the at least one textual input data set using natural language processing into at least one textual output data set; processing the at least one visual input data set using image processing into at least one visual output data set, and outputting the output data set, including the at least one textual output data set and/or the at least one visual output data set. Further, the present invention is related to a computer program product and system."
US-10803366-B2,"The present invention relates to a method for extracting an output data set, wherein the method includes the following steps receiving an input data set; wherein the input data set comprises at least one textual input data set and at least one visual input data set; processing the at least one textual input data set using natural language processing into at least one textual output data set; processing the at least one visual input data set using image processing into at least one visual output data set, and outputting the output data set, including the at least one textual output data set and/or the at least one visual output data set. Further, the present invention is related to a computer program product and system."
US-10560841-B2,"Disclosed are systems, methods, and non-transitory computer-readable media for facilitating anonymized communication sessions. An anonymized communication platform receives a request to initiate an anonymized communication session between a first user and a second user of an online service. The

2025-01-24 01:55:09 - root - INFO - itercount: 0
2025-01-24 01:55:09 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
Firstly, considering the task, the relevant columns and their potential usage are:

- `"publication_number"`: to identify and output the publication number of patents.
- `"country_code"`: to filter for US patents (`WHERE "country_code" = 'US'`).
- `"kind_code"`: to select patents under the B2 classification (`WHERE "kind_code" = 'B2'`).
- `"grant_date"`: to filter patents granted between 2015 and 2018 (`WHERE "grant_date" BETWEEN 20150101 AND 20181231`).
- `"citation"`: contains backward citations; used to extract cited patents' publication numbers.
- `"ipc"`: used to extract IPC codes of cited patents; specifically, the 4-digit IPC codes.

Conditions that may be used:

- `"country_code"` = 'US'
- `"kind_code"` = 'B2'
- `"grant_date"` BETWEEN 20150101 AND 20181231

Here are SQL queries to explore the data:

1. **Select publication numbers of US patents:**

   ```sql
   SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 100;
   ```

2. **Select publication numbers and kind codes of US patents:**

   ```sql
   SELECT "publication_number", "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 100;
   ```

3. **Select publication numbers of US patents with kind code 'B2':**

   ```sql
   SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 100;
   ```

4. **Select publication numbers and grant dates of US B2 patents granted between 2015 and 2018:**

   ```sql
   SELECT "publication_number", "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
     AND "kind_code" = 'B2'
     AND "grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
   ```

5. **Select distinct grant dates of US B2 patents granted between 2015 and 2018:**

   ```sql
   SELECT DISTINCT "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
     AND "kind_code" = 'B2'
     AND "grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
   ```

6. **Select publication numbers and the number of backward citations for US B2 patents granted between 2015 and 2018:**

   ```sql
   SELECT
     t."publication_number",
     COUNT(c.value) AS "citation_count"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   GROUP BY
     t."publication_number"
   LIMIT 100;
   ```

7. **Select IPC codes for US B2 patents granted between 2015 and 2018:**

   ```sql
   SELECT
     t."publication_number",
     ipc_item.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."ipc") ipc_item
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
   ```

8. **List backward citations for US B2 patents granted between 2015 and 2018:**

   ```sql
   SELECT
     t."publication_number",
     c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
   ```

9. **Select the IPC codes of the patents cited by US B2 patents:**

   ```sql
   SELECT
     t."publication_number" AS "citing_publication_number",
     c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number",
     SUBSTR(ipc_code.value::VARIANT:"code"::STRING, 0, 4) AS "ipc_4"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   JOIN
     PATENTS.PATENTS.PUBLICATIONS cited_patent
       ON cited_patent."publication_number" = c.value::VARIANT:"publication_number"::STRING
   LEFT JOIN
     LATERAL FLATTEN(input => cited_patent."ipc") ipc_code
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
   ```

10. **Count the number of distinct 4-digit IPC codes in the cited patents for each US B2 patent:**

    ```sql
    SELECT
      t."publication_number",
      COUNT(DISTINCT SUBSTR(ipc_code.value::VARIANT:"code"::STRING, 0, 4)) AS "distinct_ipc4_count"
    FROM
      PATENTS.PATENTS.PUBLICATIONS t,
      LATERAL FLATTEN(input => t."citation") c
    JOIN
      PATENTS.PATENTS.PUBLICATIONS cited_patent
        ON cited_patent."publication_number" = c.value::VARIANT:"publication_number"::STRING
    LEFT JOIN
      LATERAL FLATTEN(input => cited_patent."ipc") ipc_code
    WHERE
      t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20150101 AND 20181231
    GROUP BY
      t."publication_number"
    LIMIT 100;
    ```

11. **Compute the counts of citations per IPC code for each patent:**

    ```sql
    SELECT
      t."publication_number",
      SUBSTR(ipc_code.value::VARIANT:"code"::STRING, 0, 4) AS "ipc_4",
      COUNT(*) AS "ipc_count"
    FROM
      PATENTS.PATENTS.PUBLICATIONS t,
      LATERAL FLATTEN(input => t."citation") c
    JOIN
      PATENTS.PATENTS.PUBLICATIONS cited_patent
      ON cited_patent."publication_number" = c.value::VARIANT:"publication_number"::STRING
    LEFT JOIN
      LATERAL FLATTEN(input => cited_patent."ipc") ipc_code
    WHERE
      t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20150101 AND 20181231
    GROUP BY
      t."publication_number",
      "ipc_4"
    LIMIT 100;
    ```

12. **Retrieve publication numbers and titles of US B2 patents:**

    ```sql
    SELECT
      t."publication_number",
      t."title_localized"::VARIANT:"text"::STRING AS "title"
    FROM
      PATENTS.PATENTS.PUBLICATIONS t
    WHERE
      t."country_code" = 'US'
      AND t."kind_code" = 'B2'
    LIMIT 100;
    ```

13. **List patents along with application numbers and grant dates:**

    ```sql
    SELECT
      t."publication_number",
      t."application_number",
      t."grant_date"
    FROM
      PATENTS.PATENTS.PUBLICATIONS t
    WHERE
      t."country_code" = 'US'
      AND t."kind_code" = 'B2'
      AND t."grant_date" BETWEEN 20150101 AND 20181231
    LIMIT 100;
    ```

14. **Select publication numbers and the names of inventors:**

    ```sql
    SELECT
      t."publication_number",
      inventor_item.value::VARIANT:"name"::STRING AS "inventor_name"
    FROM
      PATENTS.PATENTS.PUBLICATIONS t,
      LATERAL FLATTEN(input => t."inventor") inventor_item
    WHERE
      t."country_code" = 'US'
      AND t."kind_code" = 'B2'
    LIMIT 100;
    ```

15. **List US B2 patents with their abstract texts:**

    ```sql
    SELECT
      t."publication_number",
      t."abstract_localized"::VARIANT:"text"::STRING AS "abstract_text"
    FROM
      PATENTS.PATENTS.PUBLICATIONS t
    WHERE
      t."country_code" = 'US'
      AND t."kind_code" = 'B2'
    LIMIT 100;
    ```

These queries explore the relevant data needed to address the task, ranging from simple selections to more complex joins and aggregations.Query:
SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 100;
Answer:
publication_number
US-2006143594-A1
US-2006143284-A1
US-2006148139-A1
US-2006152123-A1
US-2006150698-A1
US-2005254871-A1
US-2005168584-A1
US-2005161997-A1
US-2005175186-A1
US-2006175765-A1
US-2005150005-A1
US-2006118954-A1
US-2005148066-A1
US-2006010011-A1
US-2006183586-A1
US-2005189252-A1
US-2005184759-A1
US-2005144256-A1
US-2006195821-A1
US-2005143653-A1
US-2006198380-A1
US-2006118870-A1
US-2005253263-A1
US-2006197375-A1
US-2005222693-A1
US-2005180450-A1
US-2006212456-A1
US-2005218642-A1
US-2005176269-A1
US-2006228959-A1
US-2006252404-A1
US-2006224211-A1
US-2006241817-A1
US-2005237771-A1
US-2005243216-A1
US-2005249541-A1
US-2006089219-A1
US-2005271201-A1
US-2005216965-A1
US-2005267909-A1
US-2006266770-A1
US-2005270599-A1
US-2006079895-A1
US-2005273202-A1
US-2006001866-A1
US-2006006761-A1
US-2006287882-A1
US-2005216567-A1
US-2006209512-A1
US-2006000939-A1
US-2006091163-A1
US-2007009364-A1
US-2006023254-A1
US-2005257319-A1
US-2007004239-A1
US-2006040365-A1
US-2005276065-A1
US-2007039052-A1
US-2006045302-A1
US-2006204424-A1
US-2007011371-A1
US-2007061140-A1
US-2006180497-A1
US-2007069906-A1
US-2006028190-A1
US-2006036325-A1
US-2006034112-A1
US-2007114474-A1
US-2006047060-A1
US-2006039234-A1
US-2006113251-A1
US-2006122815-A1
US-2007106350-A1
US-2006218841-A1
US-2006131931-A1
US-2007107149-A1
US-2006234529-A1
US-2006136397-A1
US-2006079849-A1
US-2006186294-A1
US-2006261821-A1
US-2006145963-A1
US-2006128522-A1
US-2006090877-A1
US-2007071085-A1
US-2007053149-A1
US-2007159350-A1
US-2006206019-A1
US-2006147574-A1
US-2006144602-A1
US-2006112201-A1
US-2006112495-A1
US-2006182055-A1
US-2007163684-A1
US-2007112592-A1
US-2006172276-A1
US-2006129939-A1
US-2006172084-A1
US-2006185810-A1
US-2007085071-A1
Query:
SELECT "publication_number", "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 100;
Answer:
publication_number,kind_code
US-2006143594-A1,A1
US-2006143284-A1,A1
US-2006148139-A1,A1
US-2006152123-A1,A1
US-2006150698-A1,A1
US-2005254871-A1,A1
US-2005168584-A1,A1
US-2005161997-A1,A1
US-2005175186-A1,A1
US-2006175765-A1,A1
US-2005150005-A1,A1
US-2006118954-A1,A1
US-2005148066-A1,A1
US-2006010011-A1,A1
US-2006183586-A1,A1
US-2005189252-A1,A1
US-2005184759-A1,A1
US-2005144256-A1,A1
US-2006195821-A1,A1
US-2005143653-A1,A1
US-2006198380-A1,A1
US-2006118870-A1,A1
US-2005253263-A1,A1
US-2006197375-A1,A1
US-2005222693-A1,A1
US-2005180450-A1,A1
US-2006212456-A1,A1
US-2005218642-A1,A1
US-2005176269-A1,A1
US-2006228959-A1,A1
US-2006252404-A1,A1
US-2006224211-A1,A1
US-2006241817-A1,A1
US-2005237771-A1,A1
US-2005243216-A1,A1
US-2005249541-A1,A1
US-2006089219-A1,A1
US-2005271201-A1,A1
US-2005216965-A1,A1
US-2005267909-A1,A1
US-2006266770-A1,A1
US-2005270599-A1,A1
US-2006079895-A1,A1
US-2005273202-A1,A1
US-2006001866-A1,A1
US-2006006761-A1,A1
US-2006287882-A1,A1
US-2005216567-A1,A1
US-2006209512-A1,A1
US-2006000939-A1,A1
US-2006091163-A1,A1
US-2007009364-A1,A1
US-2006023254-A1,A1
US-2005257319-A1,A1
US-2007004239-A1,A1
US-2006040365-A1,A1
US-2005276065-A1,A1
US-2007039052-A1,A1
US-2006045302-A1,A1
US-2006204424-A1,A1
US-2007011371-A1,A1
US-2007061140-A1,A1
US-2006180497-A1,A1
US-2007069906-A1,A1
US-2006028190-A1,A1
US-2006036325-A1,A1
US-2006034112-A1,A1
US-2007114474-A1,A1
US-2006047060-A1,A1
US-2006039234-A1,A1
US-2006113251-A1,A1
US-2006122815-A1,A1
US-2007106350-A1,A1
US-2006218841-A1,A1
US-2006131931-A1,A1
US-2007107149-A1,A1
US-2006234529-A1,A1
US-2006136397-A1,A1
US-2006079849-A1,A1
US-2006186294-A1,A1
US-2006261821-A1,A1
US-2006145963-A1,A1
US-2006128522-A1,A1
US-2006090877-A1,A1
US-2007071085-A1,A1
US-2007053149-A1,A1
US-2007159350-A1,A1
US-2006206019-A1,A1
US-2006147574-A1,A1
US-2006144602-A1,A1
US-2006112201-A1,A1
US-2006112495-A1,A1
US-2006182055-A1,A1
US-2007163684-A1,A1
US-2007112592-A1,A1
US-2006172276-A1,A1
US-2006129939-A1,A1
US-2006172084-A1,A1
US-2006185810-A1,A1
US-2007085071-A1,A1
Query:
SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 100;
Answer:
publication_number
US-8857551-B2
US-9370027-B2
US-9042351-B2
US-10561638-B2
US-8962445-B2
US-9270639-B2
US-8938152-B2
US-9389656-B2
US-9482287-B2
US-9386020-B2
US-10142276-B2
US-9216545-B2
US-9548844-B2
US-9111730-B2
US-9340798-B2
US-10324723-B2
US-9190745-B2
US-9380603-B2
US-9650743-B2
US-10140934-B2
US-9556907-B2
US-9567200-B2
US-10722723-B2
US-9188941-B2
US-9048861-B2
US-9460689-B2
US-9318050-B2
US-10533556-B2
US-9520094-B2
US-9412846-B2
US-10070142-B2
US-9585927-B2
US-9415120-B2
US-10533291-B2
US-9329543-B2
US-10487804-B2
US-9502685-B2
US-9434993-B2
US-10120886-B2
US-9343259-B2
US-10025922-B2
US-10093135-B2
US-11058417-B2
US-10791626-B2
US-10040253-B2
US-10268050-B2
US-9595167-B2
US-9425382-B2
US-10292858-B2
US-10439992-B2
US-10463632-B2
US-10040372-B2
US-11043142-B2
US-10096317-B2
US-10620487-B2
US-9616746-B2
US-10132013-B2
US-10075410-B2
US-11055623-B2
US-10501667-B2
US-10614930-B2
US-11100138-B2
US-10294485-B2
US-10420148-B2
US-10192648-B2
US-10799929-B2
US-10132055-B2
US-10306558-B2
US-10266255-B2
US-11229607-B2
US-11099445-B2
US-10918669-B2
US-10104056-B2
US-10170592-B2
US-10949373-B2
US-10637868-B2
US-10828230-B2
US-10612778-B2
US-10891534-B2
US-10827186-B2
US-10798073-B2
US-10574908-B2
US-10199059-B2
US-10178137-B2
US-10377792-B2
US-10141686-B2
US-11154290-B2
US-10891268-B2
US-10141468-B2
US-10941196-B2
US-10543714-B2
US-10513055-B2
US-10968393-B2
US-10630153-B2
US-10418599-B2
US-10128451-B2
US-10150865-B2
US-10483008-B2
US-10619236-B2
US-10634183-B2
Query:
SELECT "publication_number", "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
     AND "kind_code" = 'B2'
     AND "grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Answer:
publication_number,grant_date
US-9370027-B2,20160614
US-9042351-B2,20150526
US-8962445-B2,20150224
US-9270639-B2,20160223
US-8938152-B2,20150120
US-9389656-B2,20160712
US-9482287-B2,20161101
US-9386020-B2,20160705
US-10142276-B2,20181127
US-9216545-B2,20151222
US-9548844-B2,20170117
US-9111730-B2,20150818
US-9340798-B2,20160517
US-9190745-B2,20151117
US-9380603-B2,20160628
US-9650743-B2,20170516
US-10140934-B2,20181127
US-9556907-B2,20170131
US-9567200-B2,20170214
US-9188941-B2,20151117
US-9048861-B2,20150602
US-9460689-B2,20161004
US-9318050-B2,20160419
US-9520094-B2,20161213
US-9412846-B2,20160809
US-10070142-B2,20180904
US-9585927-B2,20170307
US-9415120-B2,20160816
US-9329543-B2,20160503
US-9502685-B2,20161122
US-9434993-B2,20160906
US-10120886-B2,20181106
US-9343259-B2,20160517
US-10025922-B2,20180717
US-10093135-B2,20181009
US-10040253-B2,20180807
US-9595167-B2,20170314
US-9425382-B2,20160823
US-10040372-B2,20180807
US-10096317-B2,20181009
US-9616746-B2,20170411
US-10132013-B2,20181120
US-10075410-B2,20180911
US-10132055-B2,20181120
US-10104056-B2,20181016
US-10141686-B2,20181127
US-10141468-B2,20181127
US-10128451-B2,20181113
US-10150865-B2,20181211
US-10136240-B2,20181120
US-10021398-B2,20180710
US-10154644-B2,20181218
US-9028758-B2,20150512
US-9143515-B2,20150922
US-8967144-B2,20150303
US-9038000-B2,20150519
US-9144476-B2,20150929
US-8950264-B2,20150210
US-9169572-B2,20151027
US-9089610-B2,20150728
US-9106878-B2,20150811
US-9028530-B2,20150512
US-9329365-B2,20160503
US-9040017-B2,20150526
US-9505537-B2,20161129
US-8967952-B2,20150303
US-8966958-B2,20150303
US-9047835-B2,20150602
US-9009284-B2,20150414
US-9181436-B2,20151110
US-9152566-B2,20151006
US-9276150-B2,20160301
US-9002672-B2,20150407
US-9053245-B2,20150609
US-9309435-B2,20160412
US-8981843-B2,20150317
US-9004917-B2,20150414
US-9317982-B2,20160419
US-9150444-B2,20151006
US-9103795-B2,20150811
US-9083005-B2,20150714
US-9265617-B2,20160223
US-9157667-B2,20151013
US-9288612-B2,20160315
US-8957450-B2,20150217
US-8967362-B2,20150303
US-9438017-B2,20160906
US-9169941-B2,20151027
US-9466599-B2,20161011
US-9091060-B2,20150728
US-9087841-B2,20150721
US-9156164-B2,20151013
US-9256652-B2,20160209
US-9244073-B2,20160126
US-9316812-B2,20160419
US-9514786-B2,20161206
US-9449376-B2,20160920
US-8933415-B2,20150113
US-9469007-B2,20161018
US-9459437-B2,20161004
Query:
SELECT DISTINCT "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
     AND "kind_code" = 'B2'
     AND "grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Answer:
grant_date
20150915
20150526
20150609
20180918
20170228
20151006
20160809
20170418
20180626
20150224
20170221
20160322
20161122
20151124
20180821
20160524
20160126
20160301
20170404
20160315
20161108
20160621
20160419
20151117
20161213
20170411
20160112
20161227
20150929
20150324
20150721
20160329
20150113
20150505
20180807
20160913
20150908
20181023
20160920
20170509
20180925
20170314
20150519
20181009
20150331
20170307
20180814
20160105
20161206
20180619
20160830
20160517
20150120
20151215
20181002
20151229
20160216
20150127
20150901
20150602
20160308
20150922
20180724
20151027
20160202
20170516
20150616
20160802
20151013
20160531
20150811
20181016
20151201
20161025
20181218
20161004
20160510
20181127
20151110
20161101
20160209
20170321
20170131
20150310
20150818
20170117
20150303
20160712
20150203
20150106
20180828
20150414
20160816
20181113
20181204
20160405
20150707
20150217
20150630
20170214
Query:
SELECT
     t."publication_number",
     COUNT(c.value) AS "citation_count"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   GROUP BY
     t."publication_number"
   LIMIT 100;
Answer:
publication_number,citation_count
US-9650743-B2,23
US-8994331-B2,31
US-10078378-B2,4
US-9279991-B2,22
US-9308847-B2,14
US-9452411-B2,5
US-8996479-B2,15
US-9028637-B2,4
US-9026162-B2,72
US-9302877-B2,12
US-9146908-B2,20
US-9632295-B2,60
US-9300877-B2,21
US-9474616-B2,144
US-9376833-B2,16
US-9124016-B2,6
US-10070538-B2,22
US-10112826-B2,5
US-8933524-B2,20
US-9359468-B2,9
US-9483346-B2,134
US-9141212-B2,8
US-9143515-B2,15
US-8981843-B2,14
US-9169941-B2,14
US-9499521-B2,303
US-9081290-B2,43
US-10137049-B2,12
US-10036488-B2,40
US-9011636-B2,26
US-10047399-B2,30
US-9296093-B2,25
US-10056901-B2,13
US-9332804-B2,17
US-10122285-B2,31
US-9084785-B2,12
US-9079868-B2,130
US-9071420-B2,18
US-10089334-B2,7
US-9301656-B2,11
US-9434173-B2,8
US-10125499-B2,574
US-9143444-B2,46
US-9257174-B2,12
US-9581920-B2,2
US-9394548-B2,13
US-9276150-B2,20
US-8945273-B2,21
US-9202080-B2,13
US-9025581-B2,162
US-9258696-B2,22
US-9166674-B2,7
US-9181681-B2,15
US-10121264-B2,33
US-9585927-B2,10
US-9503862-B2,7
US-9216062-B2,9
US-10075826-B2,14
US-8928823-B2,1
US-9232163-B2,11
US-10094379-B2,20
US-10079751-B2,21
US-8997705-B2,14
US-10119697-B2,9
US-10155928-B2,22
US-10134165-B2,13
US-9119720-B2,112
US-9157491-B2,13
US-9207691-B2,4
US-9068247-B2,30
US-9087924-B2,41
US-10121790-B2,13
US-9447712-B2,23
US-9459437-B2,15
US-10116352-B2,16
US-10064731-B2,29
US-10015072-B2,5
US-9297942-B2,52
US-10102286-B2,15
US-9393029-B2,9
US-10160782-B2,1
US-9319157-B2,38
US-9389317-B2,11
US-8942653-B2,9
US-9376900-B2,18
US-9614412-B2,8
US-10122988-B2,24
US-9030724-B2,4
US-9121859-B2,35
US-10150875-B2,80
US-10043636-B2,41
US-9365566-B2,6
US-9570507-B2,27
US-9048913-B2,98
US-10060342-B2,9
US-8986514-B2,28
US-8984387-B2,375
US-9394731-B2,12
US-9009469-B2,24
US-9283474-B2,12
Query:
SELECT
     t."publication_number",
     ipc_item.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."ipc") ipc_item
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Answer:
publication_number,ipc_code
US-9370027-B2,H04W8/18
US-9370027-B2,H04W80/04
US-9370027-B2,H04W60/00
US-9370027-B2,H04W4/06
US-9370027-B2,H04W76/00
US-9370027-B2,H04L12/18
US-9042351-B2,H04W52/02
US-9042351-B2,H04L5/00
US-9042351-B2,H04B7/216
US-9042351-B2,H04W28/18
US-9042351-B2,H04W76/02
US-9042351-B2,H04W24/10
US-9042351-B2,H04J13/00
US-9042351-B2,H04W72/04
US-8962445-B2,H10B12/00
US-8962445-B2,H01L21/762
US-8962445-B2,H01L29/66
US-8962445-B2,H01L21/76
US-9270639-B2,H04L45/74
US-8938152-B2,G11B20/12
US-8938152-B2,G11B27/22
US-8938152-B2,G11B27/10
US-8938152-B2,H04N5/91
US-8938152-B2,H04N5/83
US-8938152-B2,G11B27/32
US-8938152-B2,G11B27/00
US-8938152-B2,H04N9/82
US-8938152-B2,H04N5/85
US-8938152-B2,H04N5/92
US-8938152-B2,G11B27/34
US-8938152-B2,H04N9/87
US-8938152-B2,G11B27/30
US-8938152-B2,G11B20/10
US-8938152-B2,H04N9/80
US-9389656-B2,G06F1/20
US-9389656-B2,H05K7/20
US-9389656-B2,H05K5/00
US-9482287-B2,F16D13/68
US-9482287-B2,F16D55/00
US-9482287-B2,F16D13/70
US-9482287-B2,F16D55/40
US-9482287-B2,F16D25/0638
US-9482287-B2,F16D13/38
US-9482287-B2,F16D13/64
US-9482287-B2,F16D13/52
US-9386020-B2,G06F21/62
US-9386020-B2,G06F17/30
US-9386020-B2,H04L29/06
US-10142276-B2,H04L12/18
US-10142276-B2,G06Q30/00
US-10142276-B2,G06Q10/10
US-10142276-B2,H04N21/8358
US-10142276-B2,H04L12/58
US-10142276-B2,H04L29/08
US-9216545-B2,B29C67/00
US-9216545-B2,B33Y30/00
US-9548844-B2,H04L5/00
US-9548844-B2,H04B3/54
US-9548844-B2,H04L27/26
US-9111730-B2,G02B6/10
US-9111730-B2,G02B6/12
US-9111730-B2,B82Y20/00
US-9111730-B2,G02B6/42
US-9111730-B2,G02B6/136
US-9111730-B2,H01J37/32
US-9111730-B2,G02B6/122
US-9340798-B2,A01K67/02
US-9340798-B2,C12N15/63
US-9340798-B2,A61K38/17
US-9340798-B2,A61P37/00
US-9340798-B2,C12N15/86
US-9340798-B2,C12N5/22
US-9340798-B2,C12N5/06
US-9340798-B2,C12N15/49
US-9340798-B2,C12N15/19
US-9340798-B2,C12N5/10
US-9340798-B2,A61K48/00
US-9340798-B2,A61K35/76
US-9340798-B2,C12N7/00
US-9340798-B2,C12N15/09
US-9340798-B2,C12N15/12
US-9340798-B2,C12N15/867
US-9190745-B2,H01R12/55
US-9190745-B2,H01R13/6587
US-9190745-B2,H01R43/18
US-9190745-B2,H01R13/645
US-9190745-B2,H01R12/73
US-9190745-B2,H01R12/91
US-9190745-B2,H01R12/70
US-9190745-B2,H01R24/00
US-9190745-B2,H01R9/24
US-9190745-B2,H01R13/516
US-9380603-B2,H04W72/12
US-9380603-B2,H04W74/04
US-9380603-B2,H04W72/04
US-9380603-B2,H04W72/14
US-9380603-B2,H04W74/00
US-9380603-B2,H04L5/00
US-9650743-B2,F16J15/16
US-9650743-B2,F16C13/00
Query:
SELECT
     t."publication_number",
     c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
   FROM
     PATENTS.PATENTS.PUBLICATIONS t,
     LATERAL FLATTEN(input => t."citation") c
   WHERE
     t."country_code" = 'US'
     AND t."kind_code" = 'B2'
     AND t."grant_date" BETWEEN 20150101 AND 20181231
   LIMIT 100;
Answer:
publication_number,cited_publication_number
US-9126271-B2,US-4805296-A
US-9126271-B2,US-5349492-A
US-9126271-B2,US-5610431-A
US-9126271-B2,US-5979243-A
US-9126271-B2,US-6037574-A
US-9126271-B2,US-6663982-B1
US-9126271-B2,US-2004012124-A1
US-9126271-B2,US-2004040382-A1
US-9126271-B2,US-2004057589-A1
US-9126271-B2,US-2004236524-A1
US-9126271-B2,US-6876785-B1
US-9126271-B2,US-6944360-B2
US-9126271-B2,US-2006162849-A1
US-9126271-B2,US-2006289763-A1
US-9126271-B2,US-2007092995-A1
US-9126271-B2,
US-9126271-B2,
US-9126271-B2,
US-9086872-B2,EP-0664508-A2
US-9086872-B2,JP-H08328849-A
US-9086872-B2,US-5802336-A
US-9086872-B2,US-5819101-A
US-9086872-B2,US-5881275-A
US-9086872-B2,US-6041404-A
US-9086872-B2,US-6119216-A
US-9086872-B2,TW-515167-B
US-9086872-B2,US-6516406-B1
US-9086872-B2,TW-545015-B
US-9086872-B2,US-2004054879-A1
US-9086872-B2,US-2005125637-A1
US-9086872-B2,US-2005132165-A1
US-9086872-B2,JP-2005174293-A
US-9086872-B2,JP-2005535966-A
US-9086872-B2,US-7085795-B2
US-9086872-B2,US-7107435-B2
US-9086872-B2,US-7155601-B2
US-9086872-B2,US-2007106882-A1
US-9086872-B2,CN-101097512-A
US-9086872-B2,US-2008215855-A1
US-9086872-B2,US-7475392-B2
US-9086872-B2,US-2009172358-A1
US-9086872-B2,WO-2011002773-A2
US-9086872-B2,US-8078836-B2
US-9086872-B2,JP-2012530977-A
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9086872-B2,
US-9358525-B2,WO-9810272-A1
US-9358525-B2,US-5939037-A
US-9358525-B2,US-6240722-B1
US-9358525-B2,US-2002014107-A1
US-9358525-B2,WO-0222241-A1
US-9358525-B2,US-2002124551-A1
US-9358525-B2,WO-02095199-A1
US-9358525-B2,US-2003011374-A1
US-9358525-B2,US-2003091499-A1
US-9358525-B2,US-2003124035-A1
US-9358525-B2,EP-1358933-A1
US-9358525-B2,US-2004206067-A1
US-9358525-B2,US-6833272-B1
US-9358525-B2,WO-2005015191-A1
US-9358525-B2,US-7097875-B2
US-9358525-B2,US-2007080075-A1
US-9358525-B2,WO-2007068587-A1
US-9358525-B2,US-2009071229-A1
US-9358525-B2,US-2010193356-A1
US-9358525-B2,
US-9358525-B2,
US-9393029-B2,CH-240542-A
US-9393029-B2,US-3867932-A
US-9393029-B2,JP-H0382478-A
US-9393029-B2,US-5667513-A
US-9393029-B2,US-2002099382-A1
US-9393029-B2,US-2002193802-A1
US-9393029-B2,JP-2006503671-A
US-9426685-B2,US-6041235-A
US-9426685-B2,US-2004252656-A1
US-9426685-B2,US-2005070267-A1
US-9426685-B2,US-2005272425-A1
US-9426685-B2,US-2006172707-A1
US-9426685-B2,US-2007270155-A1
Query:
WITH citing_patents AS (
    SELECT
        t."publication_number" AS "citing_publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value::VARIANT:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."citing_publication_number",
    cp."cited_publication_number",
    cic."ipc_4"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
LIMIT 100;
Answer:
citing_publication_number,cited_publication_number,ipc_4
US-9121016-B2,US-2010248334-A1,C09D
US-9121016-B2,US-2010248334-A1,A01N
US-9121016-B2,US-2010248334-A1,A61K
US-9121016-B2,US-2010248334-A1,A62D
US-9121016-B2,US-2010248334-A1,C09D
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,A61F
US-9121016-B2,US-2010248334-A1,A62D
US-9121016-B2,US-2010248334-A1,A61K
US-9121016-B2,US-2010248334-A1,A61K
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,C12S
US-9121016-B2,US-2010248334-A1,A62D
US-9121016-B2,US-2010248334-A1,C12M
US-9121016-B2,US-2010248334-A1,C09J
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,C12N
US-9121016-B2,US-2010248334-A1,A61K
US-9372790-B2,US-2007233941-A1,G06F
US-9291935-B2,US-2009290903-A1,G03G
US-9169941-B2,US-2005000579-A1,F16K
US-9169941-B2,US-2005000579-A1,F16H
US-9169941-B2,US-2005000579-A1,F16K
US-9619652-B2,US-2004199489-A1,G06F
US-9619652-B2,US-2004199489-A1,G06Q
US-8984387-B2,US-2005097008-A1,G06Q
US-8984387-B2,US-2005097008-A1,G06Q
US-8984387-B2,US-2005097008-A1,G06F
US-9284409-B2,US-2008071350-A1,A61F
US-9197224-B2,US-2009285279-A1,H03K
US-9197224-B2,US-2009285279-A1,H03K
US-10107583-B2,US-2006087439-A1,G08B
US-10105167-B2,US-2009112263-A1,A61B
US-10105167-B2,US-2009112263-A1,A61N
US-10105167-B2,US-2009112263-A1,A61B
US-10105167-B2,US-2009112263-A1,A61B
US-9622691-B2,US-2006272652-A1,A61B
US-9131283-B2,US-2007244760-A1,G06Q
US-9436499-B2,US-2008134180-A1,G06F
US-9436499-B2,US-2008134180-A1,G06F
US-9436499-B2,US-2008134180-A1,G06F
US-9436499-B2,US-2008134180-A1,G06F
US-10101801-B2,US-2007209067-A1,G06F
US-10101801-B2,US-2007209067-A1,G06F
US-10101801-B2,US-2007209067-A1,G06F
US-9457510-B2,US-4878579-A,G07D
US-9457510-B2,US-4878579-A,G09F
US-9457510-B2,US-4878579-A,A47G
US-8932208-B2,US-6245064-B1,A61F
US-8932208-B2,US-6245064-B1,A61B
US-8932208-B2,US-6245064-B1,A61N
US-8932208-B2,US-6245064-B1,A61B
US-8932208-B2,US-6245064-B1,A61B
US-8932208-B2,US-6245064-B1,A61B
US-9068247-B2,US-4316800-A,C22B
US-9207691-B2,US-2009200971-A1,H02P
US-9207691-B2,US-2009200971-A1,H02P
US-9233513-B2,US-2006026201-A1,G06F
US-10067609-B2,US-6597348-B1,G06F
US-10067609-B2,US-6597348-B1,G02F
US-10067609-B2,US-6597348-B1,G06F
US-10067609-B2,US-6597348-B1,G02F
US-10042510-B2,US-2009203994-A1,A61B
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61P
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-9585927-B2,US-2011052731-A1,A61K
US-10077795-B2,US-3505922-A,F16B
US-9399738-B2,US-3993583-A,C10J
US-9399738-B2,US-3993583-A,B01J
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,F01N
US-9293644-B2,US-4870045-A,B28B
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,B01J
US-9293644-B2,US-4870045-A,B01D
US-9402981-B2,US-6514217-B1,A61B
US-9402981-B2,US-6514217-B1,A61M
Query:
WITH citing_patents AS (
    SELECT
        t."publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."publication_number",
    COUNT(DISTINCT cic."ipc_4") AS "distinct_ipc4_count"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
GROUP BY
    cp."publication_number"
LIMIT 100
Answer:
publication_number,distinct_ipc4_count
US-9245361-B2,0
US-10144495-B2,0
US-8964230-B2,0
US-8954157-B2,2
US-9297098-B2,0
US-9270639-B2,2
US-9150564-B2,0
US-9562348-B2,0
US-9100914-B2,0
US-9160809-B2,1
US-9084483-B2,0
US-9527297-B2,0
US-10040376-B2,0
US-9404543-B2,0
US-9291582-B2,0
US-10142276-B2,0
US-9322880-B2,0
US-10136806-B2,0
US-9534310-B2,0
US-9277390-B2,0
US-8957501-B2,0
US-9084092-B2,0
US-9019995-B2,0
US-9128213-B2,0
US-9130691-B2,0
US-9074699-B2,0
US-9438879-B2,0
US-9552124-B2,0
US-9165600-B2,0
US-10094739-B2,0
US-9531453-B2,0
US-9332158-B2,0
US-8976458-B2,0
US-9190745-B2,0
US-10019533-B2,0
US-9141121-B2,0
US-10087555-B2,0
US-8928865-B2,0
US-9595184-B2,0
US-10030942-B2,0
US-9323449-B2,0
US-9275516-B2,0
US-9376833-B2,0
US-10036488-B2,1
US-8933524-B2,0
US-9146908-B2,0
US-9028637-B2,0
US-10137049-B2,0
US-9169941-B2,2
US-10070538-B2,0
US-9632295-B2,0
US-9143515-B2,0
US-9141212-B2,0
US-9279991-B2,0
US-9302877-B2,0
US-9300877-B2,0
US-9452411-B2,0
US-9499521-B2,0
US-9483346-B2,0
US-9011636-B2,0
US-9081290-B2,0
US-9026162-B2,0
US-9650743-B2,0
US-9359468-B2,0
US-9308847-B2,0
US-9124016-B2,0
US-8981843-B2,0
US-8994331-B2,0
US-10078378-B2,0
US-9474616-B2,0
US-10112826-B2,0
US-8996479-B2,0
US-9490872-B2,0
US-9068073-B2,0
US-9492207-B2,0
US-8988092-B2,0
US-9555399-B2,0
US-9191061-B2,0
US-10125369-B2,0
US-9274095-B2,0
US-9263386-B2,0
US-9509137-B2,0
US-9347412-B2,0
US-10143019-B2,0
US-9068776-B2,0
US-9555845-B2,0
US-9514786-B2,0
US-10163063-B2,0
US-9513680-B2,0
US-9026486-B2,0
US-9150339-B2,0
US-10068149-B2,0
US-10067276-B2,0
US-9202080-B2,0
US-9276150-B2,0
US-10122285-B2,0
US-10056901-B2,0
US-9434173-B2,0
US-10125499-B2,0
US-9025581-B2,0
Query:
WITH citing_patents AS (
    SELECT
        t."publication_number",
        c.value::VARIANT:"publication_number"::STRING AS "cited_publication_number"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        cp."publication_number" AS "cited_publication_number",
        SUBSTR(ipc.value:"code"::STRING, 0, 4) AS "ipc_4"
    FROM
        PATENTS.PATENTS.PUBLICATIONS cp,
        LATERAL FLATTEN(input => cp."ipc") ipc
)
SELECT
    cp."publication_number",
    cic."ipc_4",
    COUNT(*) AS "ipc_count"
FROM
    citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp."cited_publication_number" = cic."cited_publication_number"
GROUP BY
    cp."publication_number",
    cic."ipc_4"
LIMIT 100
Answer:
publication_number,ipc_4,ipc_count
US-8932208-B2,,572
US-9262515-B2,,53
US-9270018-B2,,30
US-10015072-B2,,5
US-10154644-B2,,94
US-10126904-B2,,77
US-9462505-B2,,48
US-9303116-B2,,17
US-9636072-B2,,79
US-9078270-B2,,40
US-10156954-B2,,57
US-9436499-B2,G06F,4
US-9313747-B2,,31
US-8961368-B2,,9
US-9219084-B2,,17
US-9120113-B2,,9
US-9069112-B2,,6
US-10075866-B2,,34
US-10143806-B2,,9
US-10114486-B2,,30
US-10001873-B2,,15
US-9438469-B2,,24
US-8995504-B2,,11
US-9494485-B2,,8
US-9514786-B2,,12
US-9001770-B2,H04B,1
US-9185094-B2,G06F,4
US-9245842-B2,,6
US-10052433-B2,,1
US-9526699-B2,C07C,1
US-10076611-B2,A61M,1
US-9622691-B2,G06F,1
US-9513676-B2,,8
US-9546744-B2,,193
US-9254356-B2,,87
US-9313902-B2,,71
US-9474616-B2,,144
US-9169572-B2,,11
US-9183552-B2,,42
US-9234897-B2,,45
US-9381070-B2,,66
US-9436499-B2,,53
US-8935238-B2,,1
US-8962897-B2,,71
US-9048913-B2,H01Q,2
US-9304293-B2,,8
US-9475565-B2,,24
US-8992589-B2,,28
US-9584738-B2,,3
US-9265451-B2,,13
US-9211492-B2,,11
US-9089261-B2,A61B,4
US-10153508-B2,,8
US-9326388-B2,,10
US-9087697-B2,,25
US-9240234-B2,,21
US-9230173-B2,,7
US-9245179-B2,,7
US-8944512-B2,,6
US-9317315-B2,,3
US-9347655-B2,G03F,1
US-9155586-B2,A61B,7
US-9457510-B2,G09F,1
US-9044021-B2,F27D,1
US-9636072-B2,G01T,2
US-9320252-B2,,20
US-8945691-B2,,45
US-9290941-B2,,31
US-9244831-B2,,19
US-10144609-B2,,12
US-9018083-B2,,40
US-10075410-B2,,65
US-9381396-B2,,22
US-9434030-B2,,43
US-10007151-B2,,10
US-10083308-B2,,226
US-9281167-B2,,15
US-9452241-B2,,87
US-9313702-B2,,27
US-9458215-B2,,29
US-8955530-B2,,20
US-9138878-B2,,12
US-9555845-B2,,31
US-9084461-B2,,13
US-8932956-B2,,15
US-10130434-B2,,9
US-9211434-B2,,69
US-8932532-B2,,17
US-9051055-B2,,13
US-9226006-B2,H04N,28
US-9014947-B2,,11
US-9240539-B2,,6
US-9639133-B2,,6
US-9384632-B2,G07F,1
US-9202992-B2,B23K,1
US-9347655-B2,G06K,2
US-9187733-B2,,31
US-9448381-B2,,7
US-9424588-B2,,78
US-10009023-B2,,10
Query:
SELECT
  t."publication_number",
  title_item.value:"text"::STRING AS "title"
FROM
  PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."title_localized") title_item
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
  AND title_item.value:"language"::STRING = 'en'
LIMIT 100;
Answer:
Too long, hard cut:
publication_number,title
US-8401259-B2,Image diagnosis support system
US-7713107-B2,Polishing tool
US-7210809-B2,Decorative optical display
US-7753768-B2,Suit variable mahjong tile and a mahjong gaming apparatus with suit variable mahjong tiles
US-8782680-B2,Method and apparatus for displaying interactions with media by members of a social software system
US-7064926-B2,Cartridge case with chip retaining features
US-6826024-B2,Power line with power shutdown device including detection line
US-8500773-B2,Spring detach joint for delivering a detachable implantable device
US-7407455-B2,Lacrosse head having a wide catching area and channeled thongs
US-7939517-B2,"1,4,6-androstatriene-3,17-dione (“ATD”) for therapeutic uses"
US-8479285-B2,"Method, computer program and apparatus for controlling access to a computer resource and obtaining a baseline therefor"
US-8076590-B2,Printed circuit board
US-6700780-B2,Apparatus for cooling electronics
US-7215291-B2,Antenna device
US-6891207-B2,Electrostatic discharge protection networks for triple well semiconductor devices
US-7368812-B2,Interposers for chip-scale packages and intermediates thereof
US-7892937-B2,Methods of forming capacitors
US-8400279-B2,Wireless communication tag and wireless communication system
US-8606746-B2,Privacy management policy hub
US-7219894-B2,Board games with player-wearable costume components
US-8859091-B2,"Colored diffusion sheets, methods of manufacture thereof and articles comprising the same"
US-7529222-B2,Method and apparatus for medium access control for a decentralized network with adapted beamforming and power control
US-7290526-B2,Throttle body having fuel return passage and vehicle
US-8613847-B2,Method of applying polyelectrolyte multilayer film for corrosion control
US-7748515-B2,Storage conveyor
US-7337159-B2,System and method for sharing of expert knowledge
US-8551305-B2,Apparatus for treating water or wastewater
US-7057227-B2,"Gate structure in flash memory cell and method of forming the same, and method of forming dielectric film"
US-7459814-B2,Hybrid induction motor
US-7914399-B2,Golf ball
US-7952972-B2,"Write-once optical disc, and method and apparatus for recording/playback management information on/from optical disc"
US-8268510-B2,Fuel cell fabrication using photopolymer based processes
US-7973510-B2,Apparatus for controlling inverter
US-8336272-B2,Device and method for locking two building boards
US-7920184-B2,CMOS active pixel sensor with a sample and hold circuit having multiple injection capacitors and a fully differential charge mode linear synthesizer with skew control
US-8250158-B2,Electronic message filter
US-6901752-B2,Exhaust processor with variable tuning system and method of operating such exhaust processor
US-9258696-B2,Method for secure network based route optimization in mobile networks
US-8449766-B2,Device for capturing odor and/or taste-generating substances present in water flowing in a network
US-6786750-B2,Self-locating connector
US-7109787-B2,High-efficiency circuit for demodulating carriers in quadrature
US-8135033-B2,Method of communicating between layers of a protocol stack and apparatus therefor
US-8599821-B2,"Method, terminal and network device for changing status of a packet switched domain"
US-8084991-B2,"Power reception device, electronic apparatus, and non-contact power transmission system"
US-7255702-B2,Bone milling instrument
US-8133224-B2,Medical instrument
US-6880183-B2,Portable hip-bathing device
US-7516580-B2,Construction bracket for creating a longitudinal roof venting space
US-7476705-B2,Aqueous dispersions of polyurethane compositions
US-9637570-B2,Method and apparatus for reducing fouling
US-9056087-B2,"Methods of healing or preventing inflammation, damage and other changes that occur prior to, during or immediately after a myocardial event with thymosin beta 4, analogues, isoforms and other derivatives"
US-7379604-B2,Device and process for coding video images by motion compensation
US-8361260-B2,Automobiles having a radiant barrier
US-8288138-B2,Conversion of biomass into ethanol
US-8736596-B2,Liquid crystal display panel and display device having the display panel
US-8363660-B2,Arrangement and method relating to identification of hardware units
US-7611604-B2,Method and device for the production of purified steam
US-7779016-B2,Parallel execution of operations for a partitioned binary radix tree on a parallel computer
US-9358141-B2,Stent deployment device
US-8490898-B2,Spray electrode
US-7605880-B2,Liquid crystal display
US-8603806-B2,Materials and methods for cell-based assays
US-7800214-B2,Semiconductor device
US-8109748-B2,Gear tooth and external gear pump
US-7777025-B2,Transition state analog inhibitors of ricin A-chain
US-8562357-B2,Interactive educational system and method
US-7703576-B2,Fire escape apparatus
US-7624970-B2,Method for the absorption of a gas in a liquid and an apparatus for this
US-7742014-B2,Task light
US-6900997-B2,Load matched alternator system with fault protecti
Query:
SELECT
  t."publication_number",
  t."application_number",
  t."grant_date"
FROM
  PATENTS.PATENTS.PUBLICATIONS t
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
  AND t."grant_date" BETWEEN 20150101 AND 20181231
LIMIT 100
Answer:
publication_number,application_number,grant_date
US-9258696-B2,US-36937409-A,20160209
US-9637570-B2,US-48305709-A,20170502
US-9056087-B2,US-48808402-A,20150616
US-9358141-B2,US-54702005-A,20160607
US-8998077-B2,US-68234810-A,20150407
US-9175419-B2,US-74796908-A,20151103
US-8930853-B2,US-84463104-A,20150106
US-9468034-B2,US-87051010-A,20161011
US-9450127-B2,US-99580409-A,20160920
US-9182061-B2,US-201013320145-A,20151110
US-8955530-B2,US-201113008707-A,20150217
US-9203087-B2,US-201113107003-A,20151201
US-9073609-B2,US-201113244632-A,20150707
US-8988092-B2,US-201113305028-A,20150324
US-9402555-B2,US-201113339590-A,20160802
US-9436209-B2,US-201113824551-A,20160906
US-9169209-B2,US-201114115623-A,20151027
US-9225604-B2,US-201213439957-A,20151229
US-8997282-B2,US-201213468424-A,20150407
US-8953160-B2,US-201213471341-A,20150210
US-8947874-B2,US-201213492725-A,20150203
US-9272110-B2,US-201213534984-A,20160301
US-9197224-B2,US-201213549262-A,20151124
US-9074467-B2,US-201213554470-A,20150707
US-8949431-B2,US-201213590516-A,20150203
US-9255843-B2,US-201213626421-A,20160209
US-9005617-B2,US-201213657120-A,20150414
US-9056409-B2,US-201213657425-A,20150616
US-9458205-B2,US-201213679684-A,20161004
US-9482416-B2,US-201214357687-A,20161101
US-9252201-B2,US-201313780942-A,20160202
US-9110842-B2,US-201313845977-A,20150818
US-9236883-B2,US-201313872857-A,20160112
US-8986686-B2,US-201313873458-A,20150324
US-9477984-B2,US-201313886041-A,20161025
US-9335115-B2,US-201313926274-A,20160510
US-8991274-B2,US-201313927938-A,20150331
US-9261171-B2,US-201314011973-A,20160216
US-9277223-B2,US-201314037999-A,20160301
US-9451434-B2,US-201314091894-A,20160920
US-9446487-B2,US-201314105716-A,20160920
US-9011414-B2,US-201314140652-A,20150421
US-9353204-B2,US-201314429598-A,20160531
US-9607689-B2,US-201314646596-A,20170328
US-10041312-B2,US-201314651459-A,20180807
US-9518050-B2,US-201314653048-A,20161213
US-9091580-B2,US-201414147217-A,20150728
US-9023198-B2,US-201414152442-A,20150505
US-9071005-B2,US-201414162295-A,20150630
US-9452411-B2,US-201414177291-A,20160927
US-9644126-B2,US-201414195788-A,20170509
US-9319600-B2,US-201414202621-A,20160419
US-9549783-B2,US-201414212113-A,20170124
US-9121741-B2,US-201414217693-A,20150901
US-9332804-B2,US-201414271750-A,20160510
US-9143653-B2,US-201414273924-A,20150922
US-9458427-B2,US-201414279432-A,20161004
US-9018083-B2,US-201414286513-A,20150428
US-9529876-B2,US-201414296938-A,20161227
US-9102692-B2,US-201414297790-A,20150811
US-9190163-B2,US-201414328913-A,20151117
US-9514683-B2,US-201414415082-A,20161206
US-10062462-B2,US-201414469499-A,20180828
US-9335556-B2,US-201414476896-A,20160510
US-9257761-B2,US-201414494939-A,20160209
US-10076283-B2,US-201414539437-A,20180918
US-10001837-B2,US-201414580754-A,20180619
US-10009187-B2,US-201414762659-A,20180626
US-10156150-B2,US-201414769208-A,20181218
US-10034502-B2,US-201514592454-A,20180731
US-9248837-B2,US-201514619462-A,20160202
US-9409501-B2,US-201514628229-A,20160809
US-10105461-B2,US-201514703538-A,20181023
US-9452153-B2,US-201514720705-A,20160927
US-10137406-B2,US-201514736819-A,20181127
US-10130244-B2,US-201514737766-A,20181120
US-9214830-B2,US-201514789382-A,20151215
US-9580500-B2,US-201514795022-A,20170228
US-9503862-B2,US-201514800260-A,20161122
US-9489670-B2,US-201514836456-A,20161108
US-10141118-B2,US-201515108912-A,20181127
US-10003448-B2,US-201515116118-A,20180619
US-10080984-B2,US-201515310889-A,20180925
US-10068136-B2,US-201614996885-A,20180904
US-10087451-B2,US-201615131083-A,20181002
US-10085896-B2,US-201615138600-A,20181002
US-9619944-B2,US-201615158381-A,20170411
US-9556263-B2,US-201615176774-A,20170131
US-10114669-B2,US-201615180160-A,20181030
US-9539268-B2,US-201615211827-A,20170110
US-10004808-B2,US-201615215000-A,20180626
US-10144233-B2,US-201615546665-A,20181204
US-10160782-B2,US-201615566097-A,20181225
US-10135219-B2,US-201715428925-A,20181120
US-10147221-B2,US-201715457184-A,20181204
US-10089048-B2,US-201715475959-A,20181002
US-10139042-B2,US-201715654560-A,20181127
US-10086527-B2,US-201715666037-A,20181002
US-9197484-B2,US-201313939144-A,20151124
US-9423740-B2,US-201313948281-A,20160823
Query:
SELECT
  t."publication_number",
  t."application_number",
  t."grant_date"
FROM
  PATENTS.PATENTS.PUBLICATIONS t
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
LIMIT 100;
Answer:
publication_number,application_number,grant_date
US-8857551-B2,US-201314079579-A,20141014
US-9370027-B2,US-201314081328-A,20160614
US-9042351-B2,US-201314089249-A,20150526
US-10561638-B2,US-201314099882-A,20200218
US-8962445-B2,US-201314104575-A,20150224
US-9270639-B2,US-201314142560-A,20160223
US-8938152-B2,US-201414152474-A,20150120
US-9389656-B2,US-201414168546-A,20160712
US-9482287-B2,US-201414178937-A,20161101
US-9386020-B2,US-201414183837-A,20160705
US-10142276-B2,US-201414192119-A,20181127
US-9216545-B2,US-201414225456-A,20151222
US-9548844-B2,US-201214234545-A,20170117
US-9111730-B2,US-201414273002-A,20150818
US-9340798-B2,US-201414276615-A,20160517
US-10324723-B2,US-201414321957-A,20190618
US-9190745-B2,US-201414326927-A,20151117
US-9380603-B2,US-201114360592-A,20160628
US-9650743-B2,US-201314421210-A,20170516
US-10140934-B2,US-201414429991-A,20181127
US-9556907-B2,US-201314440366-A,20170131
US-9567200-B2,US-201314441959-A,20170214
US-10722723-B2,US-201414452617-A,20200728
US-9188941-B2,US-201414457948-A,20151117
US-9048861-B2,US-201414473486-A,20150602
US-9460689-B2,US-201414478706-A,20161004
US-9318050-B2,US-201414486886-A,20160419
US-10533556-B2,US-201414504182-A,20200114
US-9520094-B2,US-201414519755-A,20161213
US-9412846-B2,US-201414527609-A,20160809
US-10070142-B2,US-201414538272-A,20180904
US-9585927-B2,US-201414555366-A,20170307
US-9415120-B2,US-201514595540-A,20160816
US-10533291-B2,US-201514596095-A,20200114
US-9329543-B2,US-201514627387-A,20160503
US-10487804-B2,US-201514644743-A,20191126
US-9502685-B2,US-201514741453-A,20161122
US-9434993-B2,US-201514749717-A,20160906
US-10120886-B2,US-201514798461-A,20181106
US-9343259-B2,US-201514815265-A,20160517
US-10025922-B2,US-201514818527-A,20180717
US-10093135-B2,US-201514837362-A,20181009
US-11058417-B2,US-201414897921-A,20210713
US-10791626-B2,US-201414913766-A,20200929
US-10040253-B2,US-201514926589-A,20180807
US-10268050-B2,US-201514935322-A,20190423
US-9595167-B2,US-201514937371-A,20170314
US-9425382-B2,US-201514949869-A,20160823
US-10292858-B2,US-201514951926-A,20190521
US-10439992-B2,US-201615011822-A,20191008
US-10463632-B2,US-201615046426-A,20191105
US-10040372-B2,US-201615051556-A,20180807
US-11043142-B2,US-201615065028-A,20210622
US-10096317-B2,US-201615131833-A,20181009
US-10620487-B2,US-201615135776-A,20200414
US-9616746-B2,US-201615142291-A,20170411
US-10132013-B2,US-201615147110-A,20181120
US-10075410-B2,US-201615153666-A,20180911
US-11055623-B2,US-201615186758-A,20210706
US-10501667-B2,US-201615238117-A,20191210
US-10614930-B2,US-201615250268-A,20200407
US-11100138-B2,US-201615262900-A,20210824
US-10294485-B2,US-201615266348-A,20190521
US-10420148-B2,US-201615267885-A,20190917
US-10192648-B2,US-201615270312-A,20190129
US-10799929-B2,US-201615280887-A,20201013
US-10132055-B2,US-201615288432-A,20181120
US-10306558-B2,US-201615297992-A,20190528
US-10266255-B2,US-201515301120-A,20190423
US-11229607-B2,US-201515321458-A,20220125
US-11099445-B2,US-201615327823-A,20210824
US-10918669-B2,US-201515329220-A,20210216
US-10104056-B2,US-201615334578-A,20181016
US-10170592-B2,US-201615339423-A,20190101
US-10949373-B2,US-201615351412-A,20210316
US-10637868-B2,US-201615353122-A,20200428
US-10828230-B2,US-201615376956-A,20201110
US-10612778-B2,US-201715398636-A,20200407
US-10891534-B2,US-201715403917-A,20210112
US-10827186-B2,US-201715403935-A,20201103
US-10798073-B2,US-201715421377-A,20201006
US-10574908-B2,US-201715422846-A,20200225
US-10199059-B2,US-201715430790-A,20190205
US-10178137-B2,US-201715444503-A,20190108
US-10377792-B2,US-201715457650-A,20190813
US-10141686-B2,US-201715459105-A,20181127
US-11154290-B2,US-201715468372-A,20211026
US-10891268-B2,US-201715472430-A,20210112
US-10141468-B2,US-201715480342-A,20181127
US-10941196-B2,US-201515502777-A,20210309
US-10543714-B2,US-201515504212-A,20200128
US-10513055-B2,US-201515504420-A,20191224
US-10968393-B2,US-201515511036-A,20210406
US-10630153-B2,US-201515525662-A,20200421
US-10418599-B2,US-201515531988-A,20190917
US-10128451-B2,US-201615534270-A,20181113
US-10150865-B2,US-201615535580-A,20181211
US-10483008-B2,US-201615545510-A,20191119
US-10619236-B2,US-201615550412-A,20200414
US-10634183-B2,US-201615551388-A,20200428
Query:
SELECT
  t."publication_number",
  abstract_item.value:"text"::STRING AS "abstract_text"
FROM
  PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."abstract_localized") abstract_item
WHERE
  t."country_code" = 'US'
  AND t."kind_code" = 'B2'
LIMIT 100
Answer:
Too long, hard cut:
publication_number,abstract_text
US-10981319-B2,"A blow-molded plastic structure has a hollow interior portion formed during a blow-molding process, and includes first and second outer portions that are spaced apart from each other, with the hollow interior portion disposed there between. The structure includes a pattern of structural stiffening features that are integrally formed in the second outer portion. The pattern of structural stiffening features includes a plurality of tripodal depressions disposed in rows and columns and a plurality of convex regions disposed in rows and columns between the plurality of tripodal depressions. Each convex region has a maximum height between the first and second outer portions. Each of the tripodal depressions extends into the hollow interior portion, includes three indentations disposed adjacent the first outer portion, and includes an island spaced away from the first outer portion. The island has three sides, each of which is disposed adjacent one of the three indentations."
US-10981319-B2,"A blow-molded plastic structure has a hollow interior portion formed during a blow-molding process, and includes first and second outer portions that are spaced apart from each other, with the hollow interior portion disposed there between. The structure includes a pattern of structural stiffening features that are integrally formed in the second outer portion. The pattern of structural stiffening features includes a plurality of tripodal depressions disposed in rows and columns and a plurality of convex regions disposed in rows and columns between the plurality of tripodal depressions. Each convex region has a maximum height between the first and second outer portions. Each of the tripodal depressions extends into the hollow interior portion, includes three indentations disposed adjacent the first outer portion, and includes an island spaced away from the first outer portion. The island has three sides, each of which is disposed adjacent one of the three indentations."
US-10555257-B2,"A method for operating a station associated with an access node includes receiving one or more wake-up radio (WUR) Beacons, wherein the one or more WUR beacons each comprises timing information and an identifier associated with the access node, and wherein the station is configured to receive WUR Beacons to that a first timing information with a WUR receiver, and reporting, to the access node, information about the one or more WUR Beacons, the information comprising at least one of second timing information, signal quality information, or error information."
US-10555257-B2,"A method for operating a station associated with an access node includes receiving one or more wake-up radio (WUR) Beacons, wherein the one or more WUR beacons each comprises timing information and an identifier associated with the access node, and wherein the station is configured to receive WUR Beacons to that a first timing information with a WUR receiver, and reporting, to the access node, information about the one or more WUR Beacons, the information comprising at least one of second timing information, signal quality information, or error information."
US-10803366-B2,"The present invention relates to a method for extracting an output data set, wherein the method includes the following steps receiving an input data set; wherein the input data set comprises at least one textual input data set and at least one visual input data set; processing the at least one textual input data set using natural language processing into at least one textual output data set; processing the at least one visual input data set using image processing into at least one visual output data set, and outputting the output data set, including the at least one textual output data set and/or the at least one visual output data set. Further, the present invention is related to a computer program product and system."
US-10803366-B2,"The present invention relates to a method for extracting an output data set, wherein the method includes the following steps receiving an input data set; wherein the input data set comprises at least one textual input data set and at least one visual input data set; processing the at least one textual input data set using natural language processing into at least one textual output data set; processing the at least one visual input data set using image processing into at least one visual output data set, and outputting the output data set, including the at least one textual output data set and/or the at least one visual output data set. Further, the present invention is related to a computer program product and system."
US-10560841-B2,"Disclosed are systems, methods, and non-transitory computer-readable media for facilitating anonymized communication sessions. An anonymized communication platform receives a request to initiate an anonymized communication session between a first user and a second user of an online service. The
End Exploring Related Columns
Task: What is the publication number of US patent under the B2 classification granted during 2015 to 2018, with the highest originality score based on the diversity of 4-digits IPC codes from its backward citations?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: ```sql
SELECT "COLUMN_NAME" FROM DATABASE.SCHEMA.TABLE WHERE ... ``` (Adjust "DATABASE", "SCHEMA", and "TABLE" to match actual names, ensure all column names are enclosed in double quotations)
Follow the answer format like: The publication number of the U.S. patent under the B2 classification granted during 2015 to 2018 with the highest originality score based on the diversity of 4-digit IPC codes from its backward citations is:

```csv
Publication_Number
number:str
(Attention: answer in one row)
```.
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book"
However, if the string is not decided, you may use fuzzy query and ignore upper or lower case. e.g. Get articles that mention "education".
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.
Be careful of information in nested columns. e.g. When it comes to completed purchase, `hits.eCommerceAction.action_type` Indicates the type of ecommerce action and '6' represents completed purchases.
Be careful one country may have different country_name and country_region in different columns in a database.
Don't be misled by examples. For instance, a question related to Android development on StackOverflow might include tags like 'android-layout,' 'android-activity,' or 'android-intent.' However, you should not limit your analysis to just these three tags; instead, consider all tags related to Android: "tags" LIKE '%android%'.

2025-01-24 01:56:01 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:56:01 - root - INFO - ```sql
WITH citing_patents AS (
    SELECT
        t."publication_number" AS citing_publication_number,
        c.value::VARIANT:"publication_number"::STRING AS cited_publication_number
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        p."publication_number" AS cited_publication_number,
        SUBSTR(ipc_item.value::VARIANT:"code"::STRING, 0, 4) AS ipc_4
    FROM
        PATENTS.PATENTS.PUBLICATIONS p,
        LATERAL FLATTEN(input => p."ipc") ipc_item
),
ipc_counts AS (
    SELECT
        cp.citing_publication_number,
        cic.ipc_4,
        COUNT(*) AS ipc_count
    FROM
        citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp.cited_publication_number = cic.cited_publication_number
    WHERE
        cic.ipc_4 IS NOT NULL
    GROUP BY
        cp.citing_publication_number,
        cic.ipc_4
),
total_citations AS (
    SELECT
        cp.citing_publication_number,
        COUNT(*) AS total_citation_count
    FROM
        citing_patents cp
    GROUP BY
        cp.citing_publication_number
),
originality_scores AS (
    SELECT
        ic.citing_publication_number,
        1 - SUM(POWER(ic.ipc_count / tc.total_citation_count, 2)) AS originality
    FROM
        ipc_counts ic
    JOIN total_citations tc
        ON ic.citing_publication_number = tc.citing_publication_number
    GROUP BY
        ic.citing_publication_number
)
SELECT
    os.citing_publication_number AS "Publication_Number"
FROM
    originality_scores os
ORDER BY
    os.originality DESC NULLS LAST
LIMIT 1;
```
2025-01-24 01:56:01 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:56:01 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:56:01 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:56:03 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-24 01:56:03 - snowflake.connector.connection - INFO - closed
2025-01-24 01:56:03 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:56:03 - root - INFO - itercount: 1
2025-01-24 01:56:03 - root - INFO - 0
2025-01-24 01:56:03 - root - INFO - results: 
Publication_Number
US-9284409-B2


2025-01-24 01:56:03 - root - INFO - Please check the answer again by reviewing What is the publication number of US patent under the B2 classification granted during 2015 to 2018, with the highest originality score based on the diversity of 4-digits IPC codes from its backward citations?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: The publication number of the U.S. patent under the B2 classification granted during 2015 to 2018 with the highest originality score based on the diversity of 4-digit IPC codes from its backward citations is:

```csv
Publication_Number
number:str
(Attention: answer in one row)
``` The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Publication_Number
US-9284409-B2
Current sql:
WITH citing_patents AS (
    SELECT
        t."publication_number" AS citing_publication_number,
        c.value::VARIANT:"publication_number"::STRING AS cited_publication_number
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        p."publication_number" AS cited_publication_number,
        SUBSTR(ipc_item.value::VARIANT:"code"::STRING, 0, 4) AS ipc_4
    FROM
        PATENTS.PATENTS.PUBLICATIONS p,
        LATERAL FLATTEN(input => p."ipc") ipc_item
),
ipc_counts AS (
    SELECT
        cp.citing_publication_number,
        cic.ipc_4,
        COUNT(*) AS ipc_count
    FROM
        citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp.cited_publication_number = cic.cited_publication_number
    WHERE
        cic.ipc_4 IS NOT NULL
    GROUP BY
        cp.citing_publication_number,
        cic.ipc_4
),
total_citations AS (
    SELECT
        cp.citing_publication_number,
        COUNT(*) AS total_citation_count
    FROM
        citing_patents cp
    GROUP BY
        cp.citing_publication_number
),
originality_scores AS (
    SELECT
        ic.citing_publication_number,
        1 - SUM(POWER(ic.ipc_count / tc.total_citation_count, 2)) AS originality
    FROM
        ipc_counts ic
    JOIN total_citations tc
        ON ic.citing_publication_number = tc.citing_publication_number
    GROUP BY
        ic.citing_publication_number
)
SELECT
    os.citing_publication_number AS "Publication_Number"
FROM
    originality_scores os
ORDER BY
    os.originality DESC NULLS LAST
LIMIT 1;
2025-01-24 01:56:54 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:56:54 - root - INFO - ```sql
WITH citing_patents AS (
    SELECT
        t."publication_number" AS citing_publication_number,
        c.value::VARIANT:"publication_number"::STRING AS cited_publication_number
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        p."publication_number" AS cited_publication_number,
        SUBSTR(ipc_item.value::VARIANT:"code"::STRING, 0, 4) AS ipc_4
    FROM
        PATENTS.PATENTS.PUBLICATIONS p,
        LATERAL FLATTEN(input => p."ipc") ipc_item
),
ipc_counts AS (
    SELECT
        cp.citing_publication_number,
        cic.ipc_4,
        COUNT(*) AS ipc_count
    FROM
        citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp.cited_publication_number = cic.cited_publication_number
    WHERE
        cic.ipc_4 IS NOT NULL
    GROUP BY
        cp.citing_publication_number,
        cic.ipc_4
),
total_citations AS (
    SELECT
        cp.citing_publication_number,
        COUNT(*) AS total_citation_count
    FROM
        citing_patents cp
    GROUP BY
        cp.citing_publication_number
),
originality_scores AS (
    SELECT
        ic.citing_publication_number,
        ROUND(1 - SUM(POWER(ic.ipc_count::FLOAT / tc.total_citation_count, 2)), 4) AS originality
    FROM
        ipc_counts ic
    JOIN total_citations tc
        ON ic.citing_publication_number = tc.citing_publication_number
    GROUP BY
        ic.citing_publication_number
)
SELECT
    os.citing_publication_number AS "Publication_Number"
FROM
    originality_scores os
ORDER BY
    os.originality DESC NULLS LAST
LIMIT 1;
```
2025-01-24 01:56:54 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:56:54 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:56:54 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:56:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-24 01:56:56 - snowflake.connector.connection - INFO - closed
2025-01-24 01:56:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:56:56 - root - INFO - itercount: 2
2025-01-24 01:56:56 - root - INFO - 0
2025-01-24 01:56:56 - root - INFO - results: 
Publication_Number
US-10059084-B2


2025-01-24 01:56:56 - root - INFO - Please check the answer again by reviewing What is the publication number of US patent under the B2 classification granted during 2015 to 2018, with the highest originality score based on the diversity of 4-digits IPC codes from its backward citations?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: The publication number of the U.S. patent under the B2 classification granted during 2015 to 2018 with the highest originality score based on the diversity of 4-digit IPC codes from its backward citations is:

```csv
Publication_Number
number:str
(Attention: answer in one row)
``` The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Publication_Number
US-10059084-B2
Current sql:
WITH citing_patents AS (
    SELECT
        t."publication_number" AS citing_publication_number,
        c.value::VARIANT:"publication_number"::STRING AS cited_publication_number
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        p."publication_number" AS cited_publication_number,
        SUBSTR(ipc_item.value::VARIANT:"code"::STRING, 0, 4) AS ipc_4
    FROM
        PATENTS.PATENTS.PUBLICATIONS p,
        LATERAL FLATTEN(input => p."ipc") ipc_item
),
ipc_counts AS (
    SELECT
        cp.citing_publication_number,
        cic.ipc_4,
        COUNT(*) AS ipc_count
    FROM
        citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp.cited_publication_number = cic.cited_publication_number
    WHERE
        cic.ipc_4 IS NOT NULL
    GROUP BY
        cp.citing_publication_number,
        cic.ipc_4
),
total_citations AS (
    SELECT
        cp.citing_publication_number,
        COUNT(*) AS total_citation_count
    FROM
        citing_patents cp
    GROUP BY
        cp.citing_publication_number
),
originality_scores AS (
    SELECT
        ic.citing_publication_number,
        ROUND(1 - SUM(POWER(ic.ipc_count::FLOAT / tc.total_citation_count, 2)), 4) AS originality
    FROM
        ipc_counts ic
    JOIN total_citations tc
        ON ic.citing_publication_number = tc.citing_publication_number
    GROUP BY
        ic.citing_publication_number
)
SELECT
    os.citing_publication_number AS "Publication_Number"
FROM
    originality_scores os
ORDER BY
    os.originality DESC NULLS LAST
LIMIT 1;
2025-01-24 01:57:36 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-01-24 01:57:36 - root - INFO - ```sql
WITH citing_patents AS (
    SELECT
        t."publication_number" AS citing_publication_number,
        c.value::VARIANT:"publication_number"::STRING AS cited_publication_number
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."citation") c
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."grant_date" BETWEEN 20150101 AND 20181231
),
cited_ipc_codes AS (
    SELECT
        p."publication_number" AS cited_publication_number,
        SUBSTR(ipc_item.value::VARIANT:"code"::STRING, 1, 4) AS ipc_4
    FROM
        PATENTS.PATENTS.PUBLICATIONS p,
        LATERAL FLATTEN(input => p."ipc") ipc_item
),
ipc_counts AS (
    SELECT
        cp.citing_publication_number,
        cic.ipc_4,
        COUNT(*) AS ipc_count
    FROM
        citing_patents cp
    LEFT JOIN cited_ipc_codes cic
        ON cp.cited_publication_number = cic.cited_publication_number
    WHERE
        cic.ipc_4 IS NOT NULL
    GROUP BY
        cp.citing_publication_number,
        cic.ipc_4
),
total_citations AS (
    SELECT
        cp.citing_publication_number,
        COUNT(*) AS total_citation_count
    FROM
        citing_patents cp
    GROUP BY
        cp.citing_publication_number
),
originality_scores AS (
    SELECT
        ic.citing_publication_number,
        ROUND(1 - SUM(POWER(ic.ipc_count::FLOAT / tc.total_citation_count, 2)), 4) AS originality
    FROM
        ipc_counts ic
    JOIN total_citations tc
        ON ic.citing_publication_number = tc.citing_publication_number
    GROUP BY
        ic.citing_publication_number
)
SELECT
    os.citing_publication_number AS "Publication_Number"
FROM
    originality_scores os
ORDER BY
    os.originality DESC NULLS LAST
LIMIT 1;
```
2025-01-24 01:57:36 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-24 01:57:36 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-24 01:57:36 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-24 01:57:38 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-24 01:57:38 - snowflake.connector.connection - INFO - closed
2025-01-24 01:57:38 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-24 01:57:38 - root - INFO - itercount: 3
2025-01-24 01:57:38 - root - INFO - 0
2025-01-24 01:57:38 - root - INFO - Total iteration counts: 3
