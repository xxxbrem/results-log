2025-01-18 23:55:07 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:55:46 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:55:46 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:55:46 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:55:46 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:55:47 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:55:47 - snowflake.connector.connection - INFO - closed
2025-01-18 23:55:47 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:55:48 - root - INFO - SQL:
-- 1. Get distinct assignee names
SELECT DISTINCT "assignee_harmonized"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Results:
Too long, hard cut:
assignee_harmonized
"[
  {
    ""country_code"": """",
    ""name"": ""CHONGQING VOCATIONAL INST ENG""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""KUNSHAN ZHUOLIDA PREC METAL PARTS CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""INNER MONGOLIA TONGFANG TECH CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""JIANHU COUNTY XINYUAN ROPE CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""DONGQIANG LIANZHOU COPPER FOIL CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""QINGYUAN ELECTRIC POWER PLANNING AND DESIGN INST CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SICHUAN ACAD OF MEDICAL SCIENCES SICHUAN PROVINCIAL PEOPLES HOSPITAL""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""JINGJIANG SHENGBLUE POLICE EQUIPMENT MFG CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""LI WENGUANG""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""TIAN JINGWEN""
  },
  {
    ""country_code"": """",
    ""name"": ""ZHOU HONGTAO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SUZHOU KAIEN YOUHE ENV ENGINEERING CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SHIWAN KUNLUO YUQING AUTOMOBILE PART LTD COMPANY""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""UNION SWITCH & SIGNAL CO""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""LEACH FREDERICK I""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""FANSTEEL INC""
  }
]"
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""BERGMANN ELEKTRICITAETS WERKE""
  }
]"
"[
  {
    ""country_code"": ""CH"",
    ""name"": ""LAMBERT S""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""NEWLON JR GEORGE R""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""DELAWARE TOOL STEEL CORP""
  }
]"
"[
  {
    ""country_code"": ""MX"",
    ""name"": ""SERVICIOS CONDUMEX SA""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""USM CORP""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""CHAMBERS BROTHERS CO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""ILLINOIS TOOL WORKS""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""FORD MOTOR CO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""HARRY ALONZO FURMAN""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""LEAR SIEGLER INC""
  }
]"
"[
  {
    ""country_code"": ""CH"",
    ""name"": ""AMBERG INGENIEURBUREAU FA R""
  },
  {
    ""country_code"": ""CH"",
    ""name"": ""W R & DR W HEIERLI DIPL BAUING""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""BRIDGER C F T""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""KIMBERLY CLARK CO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""JAPAN TOBACCO INC""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""GARDISETTE GMBH""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""CIBA GEIGY AG""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""COMMW IND GASES""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SMS MEER GMBH""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""MICRON TECHNOLOGY INC""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""BIHLER WILLI""
  }
]"
"[
  {
    ""country_code"": ""IL"",
    ""name"": ""MODU LTD""
  }
]"
"[
  {
    ""country_code"": ""JP"",
    ""name"": ""NEC ELECTRONICS CORP""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""KENNAMETAL INC""
  }
]"
"[
  {
    ""country_code"": ""IN"",
    ""name"": ""HUGHES SYSTIQUE PRIVATE LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""LEO PHARMA AS""
  }
]"
"[
  {
    ""country_code"": ""CH"",
    ""name"": ""RIETER AG MASCHF""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""KEEN PERSONAL MEDIA""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""GAF CORP""
  }
]"
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""UNIV MAINZ JOHANNES GUTENBERG""
  }
]"
"[
  {
    ""country_code"": ""FR"",
    ""name"": ""DEPRAT JEAN SA SA""
  }
]"
"[
  {
    ""country_code"": ""FR"",
    ""name"": ""ETUDE REALISA CYBERNETIQUE IND""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SHEVELKIN NIKOLAJ P""
  }
]"
"[
  {
    ""country_code"": ""SU"",
    ""name"": ""UNIV KAZAKHSKY""
  }
]"
"[
  {
    ""country_code"": ""SU"",
    ""name"": ""KRYLOV NIKOLAJ""
  },
  {
    ""country_code"": ""SU"",
    ""name"": ""AFANASEVA SVETLANA M""
  },
  {
    ""country_code"": ""SU"",
    ""name"": ""FILIPPOVA VERA S""
  }
]"
"[
  {
    ""country_code"": ""CN"",
    ""name"": ""TRANSCEIVING SYSTEM TECHNOLOGY""
  }
]"
"[
  {
    ""country_code"": ""SE"",
    ""name"": ""LUNNER SVEN-ERIC""
  },
  {
    ""country_code"": ""SE"",
    ""name"": ""GUOZHU YE""
  },
  {
    ""country_code"": ""FI"",
    ""name"": ""OUTOKUMPU OY""
  }
]"
"[
  {
    ""country_code"": ""CZ"",
    ""name"": ""BENNETT JAMES""
  },
  {
    ""country_code"": ""US"",
    ""name"": ""BROADCOM CORP""
  }
]"
"[
  {
    ""c

2025-01-18 23:55:48 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:55:48 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:55:48 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:55:49 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:55:49 - snowflake.connector.connection - INFO - closed
2025-01-18 23:55:49 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:55:49 - root - INFO - SQL:
-- 2. Get distinct filing dates
SELECT DISTINCT "filing_date"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Results:
Too long, hard cut:
filing_date
20140515
20100518
20130221
20171211
20181221
20171023
19940714
19960725
19960625
19980715
19941019
19971020
19951023
20020822
20200504
20001214
19720128
20020306
19660808
19470128
19550425
19530326
19741024
19590525
20050718
19221220
19360402
19731219
19281105
19700423
19711203
19780130
19790802
19791004
19481215
19870114
20020124
20200922
20200501
20021105
19911220
20070803
20080602
20060613
19980415
20051025
19981216
19960409
20121109
20180606
20051005
20151006
19951201
19690201
19650209
20141103
19890309
19820407
19671012
19671030
20141219
20170720
20220708
20220105
20240213
20090610
20120810
20150424
20060720
19831018
20050603
19931126
20030224
20100616
20200821
20200221
20210929
20220701
20230626
19860421
20041008
20220706
20150116
19740409
20090730
20120521
20130531
20210922
20100602
19830701
19921016
19511103
19940610
19960910
20020315
19830323
19931231
20010613
19830312
19750902
19790925
19800726
20000424
20130226
20221005
20240326
20190512
19771123
19740418
19860606
20200213
20100723
20210125
19880810
20210707
20240212
19941026
19981229
19961203
19980512
20090511
20060116
19531231
19210922
19070218
19261110
19591228
19650415
19600107
19410313
19370611
19510409
19640413
19390107
19991217
19690213
19711108
19841203
19361229
20230621
19980903
20050411
20010619
19760323
19970726
20150220
20090603
20211205
20151209
20040205
20160809
20101116
20171101
19870715
19690317
20080605
20140501
20160629
20220817
19860721
20130116
19080702
19350503
19330519
19650301
19250227
19670810
19260615
19240403
19561121
19620813
19260831
19290525
19550310
19850507
19740417
19480427
19640228
20210506
20211025
20230517
20230321
19940228
19780406
19890215
20070101
20080402
20090112
18970103
19851216
19400510
20001226
19140331
19520307
19450516
19321026
19730130
19750327
19950316
19930423
20060724
19740928
19621213
20090208
20050214
19910430
19931209
19790717
20071210
20150226
20200831
20210110
19730615
19930630
20090202
19871123
19130701
20101124
20130430
19781013
19880819
19941214
20110711
20131107
19450117
19561217
19080323
19330718
19700330
19941017
19651011
19681231
19530714
19440708
19651024
19040930
19640925
19661209
19620818
20130509
20150727
20230308
20010501
20140725
20130828
19750418
19900524
19860628
20051003
19920428
18971009
19970109
20000413
19890224
19990201
19661213
19710809
19690725
19790313
20021228
19860918
19960814
19881220
20060802
19730908
19931125
19771028
20240111
20151122
19960727
19860115
19850607
19851204
20190406
19780221
19780730
19660830
19930510
19870717
19800407
20080427
19801014
19901229
20110716
20200627
19900428
19451027
19601208
19640728
19050905
19020529
19260708
19300604
19780617
19950622
19990918
19540910
19401030
19350312
19701020
18971230
19070424
19541027
19310502
19120104
19170926
19650831
19861113
19630715
19801125
19520123
19100928
19460813
19500311
19740207
19650208
19451023
19011101
19420305
19040318
19500818
19700107
19771201
19941221
19820409
19390701
19500609
19120629
19520828
19991106
20190818
19751016
20071103
19850816
19810803
20111003
20081011
20131019
19390920
19480828
19690612
18930429
19551229
19470801
19561128
19670523
19800107
19731110
19460228
19410613
19440728
19301212
19580805
18990209
18951015
19590807
20100618
20110105
20130311
20130312
20140818
20170619
20151228
20170320
20180608
20190926
19860512
19751015
19771021
19920608
19980730
20211130
20031205
20060525
20100108
20021129
20030217
20061127
20180725
19811106
19721228
20030127
19501215
19610828
19641014
19130519
19350121
19511124
19140127
19380112
19131025
19740718
19770708
19880112
19850227
19901213
19861008
20001218
19990413
19690505
20010713
20141203
20150729
20031225
20061128
20120911
19920224
19951121
19971205
20020726
20150321
19981019
20060920
19830117
19760207
20150915
20150415
20150813
20180112
20181031
20220119
20221221
20050228
20000711
20140704
20231102
20230906
19990616
20120503
19790402
19720103
19751001
20171214
20201022
19750414
20050830
20071030
20020711
20170905
20190319
20210421
20240229
19871229
20070321
20140520
20170927
20091204
20191104
20191031
20040505
20061113
19840502
19981120
19940316
19860526
19910717
20150204
19860828
19640729
20050421
20160905
19840305
19920717
19720919
20130822
19911009
19670306
19810916
20200226
20200120
20240415
20231006
19951026
20060210
19850403
19990217
20160425
19880601
20060829
19971231
20070601
20080702
19521105
20121127
19660627
19670104
19501108
19650823
19680905
19521017
19441201
19231030
19520308
19110913
19280211
19391128
19511026
19520612
19330201
19080623
19120101
19690625
19270111
19580910
19750728
19270405
19920110
19970819
19850502
19990825
19990824
19680821
19540706
19670828
19380722
20030403
19961213
20040120
20100322
19750609
20141204
20150713
20140707
20051121
19700818
20060629
20050615
20190109
20210104
19850712
20191204
19840306
20070906
19840629
19891021
19910521
20140212
20200901
20140716
19920521
19830914
19140714
19491122
19130116
19620228
19211020
19500905
19531012
19670721
19720615
19590406
19730620
19241103
19651018
19

2025-01-18 23:55:49 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:55:49 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:55:49 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:55:51 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:55:51 - snowflake.connector.connection - INFO - closed
2025-01-18 23:55:51 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:55:51 - root - INFO - SQL:
-- 3. Retrieve CPC symbols
SELECT t."application_number", f.value:"symbol"::STRING AS "cpc_symbol"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
LIMIT 1000;
Results:
Too long, hard cut:
application_number,cpc_symbol
CN-202120792804-U,
CN-202120815039-U,
CN-202120852001-U,
CN-202120852001-U,
CN-202120852001-U,
CN-202120910254-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120964083-U,
CN-202120967770-U,
CN-202120967770-U,
CN-202121047830-U,
CN-202121080208-U,
CN-202121089159-U,
CN-202121140271-U,
CN-202121141975-U,
CN-202121149114-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121203563-U,
CN-202121203563-U,
CN-202121277736-U,
CN-202121277736-U,
CN-202121277736-U,
CN-202121277736-U,
CN-202121356723-U,
CN-202121363250-U,
CN-202121363250-U,
CN-202121402058-U,
CN-202121479735-U,
CN-202121517407-U,
CN-202121517620-U,
CN-202121588779-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121655920-U,
CN-202121655920-U,
CN-202121693770-U,
CN-202121700360-U,
CN-202121700360-U,
CN-202121705934-U,
CN-202121749202-U,
CN-202121780169-U,
CN-202121804463-U,
CN-202121860462-U,
CN-202121860462-U,
CN-202121860462-U,
CN-202121860462-U,
CN-202121921898-U,
CN-202121948417-U,
CN-202122059616-U,
CN-202122132890-U,
CN-202122218073-U,
CN-202122218073-U,
CN-202122458059-U,
CN-202122458059-U,
CN-202122458059-U,
CN-202122458059-U,
CN-202122554998-U,
CN-202122562382-U,
CN-202122626791-U,
CN-202122644484-U,
CN-202122705494-U,
CN-202122713501-U,
CN-202122885759-U,
CN-202123064552-U,
CN-202123094192-U,
CN-202123104462-U,
CN-202123104462-U,
CN-202123104462-U,
CN-202123105707-U,
CN-202123105707-U,
CN-202123105707-U,
CN-202123125862-U,
CN-202123177192-U,
CN-202123240288-U,
CN-202123261499-U,
CN-202123266343-U,
CN-202123292801-U,
CN-202123362575-U,
CN-202123373747-U,
CN-202123400546-U,
CN-202123406171-U,
CN-202123422819-U,
CN-202123430141-U,
CN-202123438150-U,
CN-202220006602-U,
CN-202220011269-U,
CN-202220084066-U,
CN-202220087393-U,
CN-202220120630-U,
CN-202220123732-U,
CN-202220132738-U,
CN-202220144731-U,
CN-202220148649-U,
CN-202220152204-U,
CN-202220184321-U,
CN-202220211939-U,
CN-202220214790-U,
CN-202220232182-U,
CN-202220233897-U,
CN-202220250078-U,
CN-202220273370-U,
CN-202220273689-U,
CN-202220295587-U,
CN-202220327474-U,
CN-202220339085-U,
CN-202220355178-U,
CN-202220384994-U,
CN-202220410262-U,
CN-202220411423-U,
CN-202220423825-U,
CN-202220448390-U,
CN-202220461595-U,
CN-202220485837-U,
CN-202220485837-U,
CN-202220485837-U,
CN-202220539540-U,
CN-202220560695-U,
CN-202220593012-U,
CN-202220641458-U,
CN-202220665938-U,
CN-202220674688-U,
CN-202220716534-U,
CN-202220743493-U,
CN-202220747782-U,
CN-202220812778-U,
CN-202220818091-U,
CN-202220907259-U,
CN-202220912116-U,
CN-202220951084-U,
CN-202220964426-U,
CN-202220966440-U,
CN-202221056421-U,
CN-202221068563-U,
CN-202221090725-U,
CN-202221092236-U,
CN-202221093405-U,
CN-202221113690-U,
CN-202221118161-U,
CN-202221175876-U,
CN-202221325198-U,
CN-202221329530-U,
CN-202221331973-U,
CN-202221365761-U,
CN-202221377882-U,
CN-202221394453-U,
CN-202221422894-U,
CN-202221503492-U,
CN-202221513813-U,
CN-202221529992-U,
CN-202221693102-U,
CN-202221776167-U,
CN-202221828826-U,
CN-202221868243-U,
CN-202221888539-U,
CN-202222027196-U,
CN-202222136139-U,
CN-202222170171-U,
CN-202222329635-U,
CN-202222329635-U,
CN-202222385236-U,
CN-202222393929-U,
CN-202222414640-U,
CN-202222478233-U,
CN-202222481864-U,
CN-202222493998-U,
CN-202222493998-U,
CN-202222570264-U,
CN-202222660030-U,
CN-202222666388-U,
CN-202222710886-U,
CN-202222721849-U,
CN-202222724681-U,
CN-202222728421-U,
CN-202222734643-U,
CN-202222740672-U,
CN-202222793701-U,
CN-202222840945-U,
CN-202222894356-U,
CN-202222981322-U,
CN-202222983438-U,
CN-202222990067-U,
CN-202223071825-U,
CN-202223081115-U,
CN-202223082818-U,
CN-202223140790-U,
CN-202223143852-U,
CN-202223158211-U,
CN-202223164980-U,
CN-202223167513-U,
CN-202223167835-U,
CN-202223169196-U,
CN-202223172884-U,
CN-202223178194-U,
CN-202223179871-U,
CN-202223197035-U,
CN-202223256103-U,
CN-202223257541-U,
CN-202223259537-U,
CN-202223268777-U,
CN-202223373454-U,
CN-202223426562-U,
CN-202223480158-U,
CN-202223488252-U,
CN-202223512225-U,
CN-202223544169-U,
CN-202223547281-U,
CN-202223551435-U,
CN-202223574689-U,
CN-202223584872-U,
CN-202223610871-U,
CN-202223612289-U,
CN-202320002479-U,
CN-202320048569-U,
CN-202320064640-U,
CN-202320085957-U,
CN-202320115819-U,
CN-202320141389-U,
CN-202320152038-U,
CN-202320179645-U,
CN-202320185841-U,
CN-202320191149-U,
CN-202320200343-U,
CN-202320224174-U,
CN-202320236952-U,
CN-202320241068-U,
CN-202320248747-U,
CN-202320252126-U,
CN-202320257874-U,
CN-202320262639-U,
CN-202320296299-U,
CN-202320299889-U,
CN-202320319919-U,
CN-202320335029-U,
CN-202320336382-U,
CN-202320395317-U,
CN-202320411077-U,
CN-202320411077-U,
CN-202320430532-U,
CN-202320457641-U,
CN-202320468557-U,
CN-202320562493-U,
CN-202320569982-U,
CN-20232059

2025-01-18 23:55:51 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:55:51 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:55:51 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:55:53 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 23:55:53 - snowflake.connector.connection - INFO - closed
2025-01-18 23:55:53 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:56:44 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:56:44 - root - INFO - ```sql
SELECT t."application_number", f.value::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE f.value::STRING LIKE 'A61%'
LIMIT 1000;
```
2025-01-18 23:56:44 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:56:44 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:56:44 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:56:45 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 23:56:45 - snowflake.connector.connection - INFO - closed
2025-01-18 23:56:45 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:57:34 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:57:34 - root - INFO - ```sql
SELECT t."application_number", f.value::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```
2025-01-18 23:57:34 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:57:34 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:57:34 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:57:35 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:57:35 - snowflake.connector.connection - INFO - closed
2025-01-18 23:57:35 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:57:35 - root - INFO - SQL:
SELECT t."application_number", f.value::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Results:
Too long, hard cut:
application_number,ipc_code
US-201715551385-A,"{""code"":""A61B17/115"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715551385-A,"{""code"":""A61B17/072"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715565380-A,"{""code"":""B60K28/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715565380-A,"{""code"":""B60W40/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715582870-A,"{""code"":""G06F3/041"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715582870-A,"{""code"":""G06F3/044"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04L29/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04L29/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04N21/475"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04L29/12"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04N21/845"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715592743-A,"{""code"":""H04M15/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715592743-A,"{""code"":""H04W4/24"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715592743-A,"{""code"":""H04W24/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G11B20/10"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""H04N21/234"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G11B27/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G06F3/16"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""H04N21/233"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""H04S7/00"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G06T15/20"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/06"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/37"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/46"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/73"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/81"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61Q1/10"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/92"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/14"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""G02B27/30"",""first"":false,""inventive"":false,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/40"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S3/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/024"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/023"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/0233"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B62D33/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B62D33/027"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B60R19/32"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B62D33/03"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715633854-A,"{""code"":""G06Q30/02"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715633854-A,"{""code"":""G06Q10/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715640860-A,"{""code"":""A01C21/00"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715643916-A,"{""code"":""G01M13/00"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715644030-A,"{""code"":""B65F1/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715644030-A,"{""code"":""B65F1/16"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715644030-A,"{""code"":""B65F1/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K31/57"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/06"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K9/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""B65D83/20"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K31/573"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/12"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/26"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/10"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""co

2025-01-18 23:57:35 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:57:35 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:57:35 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:57:37 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 23:57:37 - snowflake.connector.connection - INFO - closed
2025-01-18 23:57:37 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:58:16 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:58:16 - root - INFO - ```sql
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```
2025-01-18 23:58:16 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:58:16 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:58:16 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:58:17 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:58:17 - snowflake.connector.connection - INFO - closed
2025-01-18 23:58:18 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:58:18 - root - INFO - SQL:
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Results:
Too long, hard cut:
application_number,ipc_code
US-60260508-A,F01L1/34
US-62262109-A,H01M2/16
US-62423309-A,C07H21/04
US-62423309-A,C12Q1/68
US-63039009-A,A01K1/03
US-63331909-A,G06Q10/10
US-63331909-A,G06F3/00
US-63567909-A,A46B17/04
US-63567909-A,A46B17/08
US-63567909-A,A46B11/00
US-63567909-A,A46B9/08
US-63567909-A,A46B15/00
US-64700909-A,G01N1/02
US-64700909-A,G01N33/22
US-64700909-A,B04C3/06
US-64700909-A,G01N1/22
US-64700909-A,B04C9/00
US-66062010-A,H04N23/40
US-66062010-A,G06K9/00
US-69982110-A,G02B21/00
US-71172510-A,H04W72/12
US-71172510-A,H04L1/18
US-71172510-A,H04L1/16
US-71172510-A,H04B7/0417
US-73611509-A,D05B87/00
US-78215510-A,H04M11/00
US-78365310-A,E04F17/00
US-78516310-A,H04B1/16
US-78516310-A,H04B1/06
US-78516310-A,H04B14/02
US-78516310-A,H04L27/00
US-78516310-A,H04L25/03
US-78516310-A,H04B3/54
US-78516310-A,H04L27/26
US-78516310-A,H04M9/00
US-78516310-A,H04B3/06
US-78516310-A,H04L25/02
US-78516310-A,H04L1/18
US-78516310-A,H04B7/00
US-78516310-A,H04J11/00
US-78516310-A,H04L1/00
US-78516310-A,H04B1/00
US-78603710-A,G11B20/00
US-78603710-A,H04L29/08
US-78603710-A,H04L29/06
US-78603710-A,G06F17/30
US-78603710-A,H04W4/021
US-78603710-A,H04W4/029
US-78603710-A,H04W4/02
US-79742110-A,H01Q1/24
US-79916010-A,H02G15/02
US-81344410-A,C21C7/068
US-81344410-A,C21B/
US-81344410-A,C21B3/00
US-81344410-A,C01F11/22
US-81344410-A,C21C7/076
US-81344410-A,C23G1/36
US-81362710-A,F02C9/28
US-81362710-A,F02C9/26
US-81362710-A,F02C9/00
US-81362710-A,F02C7/22
US-81362710-A,F02C7/26
US-81859110-A,H04L12/56
US-81995910-A,A61M16/06
US-81995910-A,A61M16/12
US-81995910-A,A61M16/00
US-81995910-A,A62B18/02
US-81995910-A,A61N1/39
US-81995910-A,A61N1/36
US-81995910-A,A61M16/08
US-81995910-A,A61H31/02
US-81995910-A,A61M16/20
US-86760109-A,F16B7/02
US-87302910-A,B31B50/64
US-87302910-A,G01N27/453
US-88676910-A,G10L15/04
US-88676910-A,H04N21/4402
US-88676910-A,G10L15/26
US-88676910-A,G10L15/22
US-88676910-A,H04N7/173
US-89409010-A,G06Q30/02
US-89409010-A,G06F17/24
US-89499310-A,F01D5/18
US-90254410-A,C12M1/34
US-91683510-A,G06F3/042
US-92150609-A,A61C17/22
US-92150609-A,A61C17/34
US-92150609-A,A46B15/00
US-92150609-A,A61C17/32
US-92150609-A,A46B13/02
US-94859210-A,H01R43/00
US-96346910-A,B65D51/04
US-96346910-A,B65D43/22
US-98383311-A,H03H9/17
US-98383311-A,B05C5/00
US-98383311-A,B41J2/16
US-98383311-A,B41J2/14
US-98383311-A,H03H3/02
US-98383311-A,H10N30/87
US-98383311-A,H10N30/853
US-98383311-A,H10N30/85
US-98383311-A,H10N30/20
US-98383311-A,H10N30/097
US-98383311-A,H10N30/093
US-98383311-A,H10N30/079
US-98383311-A,H10N30/077
US-98383311-A,H10N30/06
US-98383311-A,H10N30/01
US-98383311-A,B41J2/045
US-98466711-A,G01M7/02
US-98680111-A,G06K19/077
US-98680111-A,H01L23/58
US-98680111-A,H01L23/488
US-201113009347-A,B29C45/14
US-201113009347-A,H01M8/12
US-201113009708-A,G16B20/20
US-201113009708-A,G16B30/10
US-201113009708-A,G16B5/00
US-201113009708-A,G16B20/10
US-201113009708-A,G01N31/00
US-201113009708-A,G01N33/50
US-201113009708-A,G01N33/48
US-201113015568-A,E01B23/00
US-201113024484-A,H01M8/18
US-201113024484-A,H01M8/06
US-201113024484-A,C25B9/18
US-201113024484-A,C25B11/03
US-201113026081-A,H04L45/60
US-201113026081-A,H04L45/28
US-201113026081-A,H04L45/028
US-201113026081-A,H04L45/122
US-201113026081-A,G06F15/16
US-201113042153-A,G06N5/00
US-201113050024-A,G03G15/00
US-200913059620-A,H04M1/72412
US-200913059620-A,H04B7/00
US-200913059620-A,H04Q5/22
US-200913059620-A,G06F17/00
US-200913059620-A,G05B19/00
US-200913059620-A,H04B1/38
US-200913059620-A,G06K7/06
US-200913059624-A,A61K47/48
US-201113066599-A,G09G5/00
US-201113066599-A,G09G3/20
US-201113066599-A,G09G3/14
US-201113066599-A,G09G3/32
US-201113066599-A,G06F3/038
US-201113075827-A,G01R23/02
US-201113075827-A,G06F19/00
US-201113083508-A,A61F2/06
US-201113088674-A,H04N23/90
US-201113088674-A,H04N5/262
US-201113088674-A,H04N7/18
US-201113092480-A,H04L29/12
US-201113092480-A,G06F13/38
US-201113092480-A,H04L29/06
US-201113092480-A,G06F13/40
US-201113092480-A,G06F13/10
US-201113092480-A,G06F15/16
US-201113094150-A,H04W24/00
US-201113094150-A,H04W64/00
US-201113101041-A,A63B41/00
US-201113104403-A,C10L1/10
US-201113104669-A,H04L69/40
US-201113104669-A,G01R31/08
US-200913121520-A,H05B44/00
US-200913121520-A,H01J1/62
US-200913131636-A,H04N9/31
US-200913131636-A,G09G5/02
US-200913131636-A,H04N9/73
US-201113136963-A,A61B17/00
US-201113136963-A,D07B1/02
US-201113136963-A,A61B17/06
US-201113136963-A,A61B17/04
US-201013142928-A,C07K1/16
US-201013142928-A,C07K1/14
US-201013142928-A,C07K1/34
US-201013142928-A,C07K14/51
US-201013142928-A,C07K1/36
US-201013145047-A,H04B10/43
US-201013145047-A,H04B10/40
US-201013145047-A,H04B10/60
US-201013145047-A,H04B10/27
US-201013145047-A,H04B10/272
US-201013145047-A,H04B10/50
US-201013145047-A,H03G3/20
US-201113150493-A,H10B10/00
US-201113150493-A,H01L21/20
US-201113150493-A,H01L21/302
US-201113150493-A,H01L21/324
US-201113150493-A,H01L21/322
US-201113150493-A,H01L21/36
US-201113150493-A,H01L21/461
US-201113151081-A,H01L21/205
US-201113156511-A,A61F2/66
US-201113156511-A

2025-01-18 23:58:18 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:58:18 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:58:18 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:58:19 - snowflake.connector.connection - INFO - closed
2025-01-18 23:58:20 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:58:42 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:58:42 - root - INFO - ```sql
SELECT DISTINCT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
LIMIT 1000;
```
2025-01-18 23:58:42 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:58:42 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:58:42 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:58:43 - snowflake.connector.cursor - INFO - Number of results in first chunk: 149
2025-01-18 23:58:43 - snowflake.connector.connection - INFO - closed
2025-01-18 23:58:43 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:58:44 - root - INFO - SQL:
SELECT DISTINCT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
LIMIT 1000;
Results:
filing_year
2007
1961
1890
1969
1977
1938
1983
2004
1928
1944
1880
1988
1998
1934
1885
1949
1912
1945
1997
1981
1887
1956
1958
1933
1882
1909
1984
1967
1911
1940
1939
2001
1980
1902
1999
1982
1918
1972
1846
1986
2011
1950
2013
1908
1954
1985
1960
1903
1888
1955
1919
1968
1941
1935
1901
1904
1860
1877
1943
1966
1886
1978
1898
1979
1989
2009
1995
1907
1953
2014
1974
1916
1853
2008
1993
1937
1964
1895
2010
1991
1929
1994
1892
1951
2020
1920
1930
1926
2018
2006
1973
1925
1924
1897
1900
1896
2024
1947
1952
1992
1931
1927
1881
2012
1957
1923
1867
2017
1899
2005
1976
1970
1915
2000
1987
1906
1932
1971
1965
2021
1942
2015
2022
1905
1963
1921
1883
1891
2019
1962
2002
1948
1913
1910
1946
2016
1996
1893
1975
1889
1959
1917
1894
2023
2003
1922
1914
1990
1936

2025-01-18 23:58:44 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:58:44 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:58:44 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:58:45 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:58:45 - snowflake.connector.connection - INFO - closed
2025-01-18 23:58:45 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:58:46 - root - INFO - SQL:
-- 7. Count applications per assignee
SELECT "assignee_harmonized", COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
GROUP BY "assignee_harmonized"
LIMIT 1000;
Results:
Too long, hard cut:
assignee_harmonized,application_count
"[
  {
    ""country_code"": ""MX"",
    ""name"": ""ROBERT BOSCH MEXICO SIST AUTOMOTRICES S A DE C V""
  },
  {
    ""country_code"": ""DE"",
    ""name"": ""BOSCH GMBH ROBERT""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""DOLBY LABORATORIES LICENSING CORP""
  }
]",17
"[
  {
    ""country_code"": ""BE"",
    ""name"": ""VAN ISACKER FREDERIK""
  },
  {
    ""country_code"": ""BE"",
    ""name"": ""KEMPISCHE BRIK CENTRALE""
  }
]",1
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""WEBER MASCHB GMBH""
  }
]",2
"[
  {
    ""country_code"": ""SG"",
    ""name"": ""AGENCY FOR SCIENCE TECHNOLGY AND RES""
  }
]",1
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""MAHO AG""
  }
]",2
"[
  {
    ""country_code"": ""CN"",
    ""name"": ""GUANGZHOU KANGRUN BIOTECHNOLOGY CO LTD""
  },
  {
    ""country_code"": ""CN"",
    ""name"": ""Bioland Laboratory""
  }
]",1
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""BAYER AG""
  }
]",265
"[
  {
    ""country_code"": ""RO"",
    ""name"": ""INST DE FIZICA SI TEHNOLOGIA M""
  }
]",1
"[
  {
    ""country_code"": ""JP"",
    ""name"": ""SUMCO TECHXIV CORP""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""ZHEJIANG HONG SHAN YU HOME TEXTILE CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""JIANGSU WABER POWER TECH CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""UNIV WUHAN DONGHU""
  },
  {
    ""country_code"": """",
    ""name"": ""FU MINGWEI""
  },
  {
    ""country_code"": """",
    ""name"": ""MEI ZHIJIE""
  },
  {
    ""country_code"": """",
    ""name"": ""XU HAO""
  },
  {
    ""country_code"": """",
    ""name"": ""LIU HUI""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""ARCO CHEM TECH""
  }
]",9
"[
  {
    ""country_code"": """",
    ""name"": ""WALRAVEN T""
  },
  {
    ""country_code"": """",
    ""name"": ""DEVINE J""
  },
  {
    ""country_code"": """",
    ""name"": ""MAROPIS N""
  },
  {
    ""country_code"": """",
    ""name"": ""ELMORE W""
  }
]",1
"[
  {
    ""country_code"": ""GB"",
    ""name"": ""CLARKE SHANE PATRICK""
  },
  {
    ""country_code"": ""GB"",
    ""name"": ""CLARKE VALERIE DAWN ROSE""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""TOSHIBA MICRO ELECTRONICS""
  },
  {
    ""country_code"": """",
    ""name"": ""TOSHIBA CORP""
  }
]",6
"[
  {
    ""country_code"": """",
    ""name"": ""SANGAKU RENKEI KIKO KYUSHU KK""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""JIANGSU FASTEN CABLE CO LTD""
  },
  {
    ""country_code"": """",
    ""name"": ""CHINA RAILWAY MAJOR BRIDGE RECONNAISSANCE & DESIGN INST CO LTD""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""EHRLICH ROBERT""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""CHONGQING TIEMA SPECIAL VEHICLE CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""JIANGSU YU XIANG CONSTRUCTION DEV GROUP CO LTD""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""OKAYA ELECTRIC INDUSTRY CO""
  }
]",8
"[
  {
    ""country_code"": """",
    ""name"": ""CASHWAY TECHNOLOGY CO LTD""
  }
]",3
"[
  {
    ""country_code"": ""TW"",
    ""name"": ""UNIK WORLD IND CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""ZHONGHAN WEIER HUBEI ELECTRICAL TECH CO LTD""
  }
]",1
"[
  {
    ""country_code"": ""LU"",
    ""name"": ""FLOORING IND LTD SARL""
  }
]",5
"[
  {
    ""country_code"": """",
    ""name"": ""SINA NEWCHANCE NEW ENERGY TECH CORP LTD""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""BLACK & DECKER INC""
  }
]",30
"[
  {
    ""country_code"": """",
    ""name"": ""SUZHOU SUZHU FOUNDRY MACHINERY MFT CO LTD""
  }
]",3
"[
  {
    ""country_code"": """",
    ""name"": ""KUNSHAN FULONG HOUSEHOLD SUPPL""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""TIANJIN CHUANGJIN VACUUM COATING PRODUCT CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""CHONGQING CHANGAN AUTOMOBILE CO LTD""
  }
]",52
"[
  {
    ""country_code"": ""US"",
    ""name"": ""GENENTECH INC""
  },
  {
    ""country_code"": ""CA"",
    ""name"": ""XENON PHARMACEUTICALS INC""
  }
]",2
"[
  {
    ""country_code"": ""NL"",
    ""name"": ""WAVIN BV""
  }
]",3
"[
  {
    ""country_code"": """",
    ""name"": ""SUZHOU SANTONG VACUUM PLATED FILM CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""CHIN HSIAO-CHIEH""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""YU HUI""
  }
]",3
"[
  {
    ""country_code"": """",
    ""name"": ""FOSHAN SHUNDE MIDEA ELECTRICAL HEATING APPLIANCES MFG CO LTD""
  }
]",53
"[
  {
    ""country_code"": """",
    ""name"": ""SHENYANG CHANGPU SUPERHARD PREC TOOLS CO LTD""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""SUZUTEC CO LTD""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""WANDER AG DR A""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""WUHAN HULI LOGISTICS CO LTD""
  }
]",1
"[
  {
    ""country_co

2025-01-18 23:58:46 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:58:46 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:58:46 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:58:47 - snowflake.connector.connection - INFO - closed
2025-01-18 23:58:47 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:59:09 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:59:09 - root - INFO - ```sql
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year",
       COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
GROUP BY "filing_year"
LIMIT 1000;
```
2025-01-18 23:59:09 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:59:09 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:59:09 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:59:11 - snowflake.connector.cursor - INFO - Number of results in first chunk: 149
2025-01-18 23:59:11 - snowflake.connector.connection - INFO - closed
2025-01-18 23:59:11 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:59:11 - root - INFO - SQL:
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year",
       COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
GROUP BY "filing_year"
LIMIT 1000;
Results:
filing_year,application_count
1933,236
1958,514
1956,519
1969,1427
1938,346
1977,3104
1961,566
2007,8908
1890,4
2001,6756
1980,3350
1904,136
1860,1
1877,4
1891,9
1978,3274
1898,51
1988,4780
1998,5253
1934,298
1885,4
2009,9235
1995,4487
1953,387
1907,197
1909,155
1882,3
1989,4557
1991,4143
1929,264
1999,5753
1972,2737
1982,3520
1918,111
1846,1
2013,13378
1908,160
1954,478
1946,302
1955,472
1919,149
1942,211
2003,7573
2023,12510
1922,159
1981,3511
1997,5324
1887,3
1951,354
2002,6843
1910,164
1948,300
1913,275
2000,5995
1987,4473
1906,189
1932,219
1996,4848
2016,23528
1893,18
2010,9508
2015,17850
2022,19621
1963,544
1921,208
1905,149
1883,2
1986,4300
2017,28627
1899,110
2004,7764
1983,3850
1928,243
2006,8729
1973,3016
2018,30997
1925,203
2024,1355
1924,174
1900,81
1896,44
1897,44
1979,3323
1927,211
1881,2
1957,493
2012,10943
1923,166
1867,1
2011,9704
1950,357
2020,33291
1926,214
1920,173
1930,272
1967,1011
1984,3869
1911,228
1940,289
1939,309
1971,2190
1931,263
1912,276
1945,256
1990,4593
1936,335
1914,197
2019,28952
1962,573
2005,8423
1970,1478
1915,171
1976,3051
1985,4022
1960,552
1903,111
1888,3
1974,3091
2014,15574
1916,173
1853,1
1959,575
1917,143
1894,34
1943,270
1994,4146
1892,10
1902,100
1944,248
1880,1
2021,31517
1965,942
1966,1036
1886,3
1941,288
1968,1085
1935,314
1901,91
1949,329
1992,4313
1952,382
1947,327
1975,3234
1889,10
2008,9433
1993,4436
1937,295
1895,28
1964,857

2025-01-18 23:59:11 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:59:11 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:59:11 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:59:12 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 23:59:12 - snowflake.connector.connection - INFO - closed
2025-01-18 23:59:12 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:59:43 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-18 23:59:43 - root - INFO - ```sql
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE f.value:"code"::STRING LIKE '%A61%'
LIMIT 1000;
```
2025-01-18 23:59:43 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:59:43 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:59:43 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:59:45 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-18 23:59:45 - snowflake.connector.connection - INFO - closed
2025-01-18 23:59:45 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-18 23:59:45 - root - INFO - SQL:
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE f.value:"code"::STRING LIKE '%A61%'
LIMIT 1000;
Results:
Too long, hard cut:
application_number,ipc_code
US-201715646914-A,A61B18/00
US-201715646914-A,A61B18/12
US-201715646914-A,A61B90/00
US-201715646914-A,A61B18/14
US-201715718852-A,A61B17/00
US-201715718852-A,A61B17/068
US-201715718852-A,A61B17/072
US-201715857933-A,A61K31/231
US-201715857933-A,A61K35/36
US-201815872564-A,A61B5/11
US-201815872564-A,A61B5/00
US-201815879415-A,A61N1/375
US-201815879415-A,A61N1/36
US-201815879415-A,A61N1/05
US-201815946129-A,A61K35/644
US-201815946129-A,A61K9/08
US-201815946129-A,A61K45/06
US-201815946129-A,A61P35/00
US-201815946129-A,A61K9/00
US-201815946129-A,A61K31/337
US-201815953492-A,A61K31/7084
US-201815953492-A,A61K45/06
US-201815989845-A,A61F2/01
US-201816008088-A,A61F2/30
US-201816008088-A,A61F2/44
US-201816017938-A,A61F5/455
US-201816017938-A,A61H19/00
US-201716073474-A,A61B90/50
US-201716073474-A,A61B17/29
US-201716073474-A,A61B34/37
US-201816101591-A,A61L31/12
US-201816101591-A,A61B17/00
US-201816101591-A,A61B17/80
US-201816101591-A,A61B17/86
US-201816101591-A,A61B17/70
US-201816101591-A,A61L31/08
US-201816101591-A,A61L31/10
US-201816101591-A,A61B17/72
US-201816101591-A,A61L31/18
US-201816214520-A,A61B90/00
US-201916265150-A,A61M39/06
US-201916265150-A,A61M39/16
US-201916265150-A,A61M39/26
US-201916265150-A,A61M39/10
US-201816333905-A,A61N5/10
US-201716348943-A,A61P31/16
US-201716348943-A,A61K39/145
US-201716348943-A,A61K9/51
US-201916365481-A,A61M1/00
US-201916375485-A,A61B90/98
US-201916375485-A,A61B34/20
US-201916375485-A,A61B17/24
US-201916375485-A,A61B17/32
US-201916375485-A,A61B90/00
US-201916399245-A,A61Q1/06
US-201916399245-A,A61K8/891
US-201916399245-A,A61K8/81
US-201916399388-A,A61K47/34
US-201916399388-A,A61K9/51
US-201916399388-A,A61P27/12
US-201916399388-A,A61K31/05
US-201916399388-A,A61K9/00
US-201916399388-A,A61K47/10
US-201916399388-A,A61K31/047
US-201916399388-A,A61K47/24
US-201916399388-A,A61K9/06
US-201916420814-A,A61F2/915
US-201916420814-A,A61F2/90
US-201916420814-A,A61B17/221
US-201916420814-A,A61B17/00
US-201916420814-A,A61B17/12
US-201916420814-A,A61F2/00
US-201916420814-A,A61F2/82
US-201916420814-A,A61F2/92
US-201916420814-A,A61M25/01
US-201916420814-A,A61F2/95
US-201916420814-A,A61F2/966
US-201916420814-A,A61F2/91
US-201916503978-A,A61B5/1455
US-201916503978-A,A61B5/00
US-201916503978-A,A61B5/145
US-201916505771-A,A61K51/08
US-201916505771-A,A61K35/768
US-201916505771-A,A61N5/10
US-201916505771-A,A61K9/00
US-201916505771-A,A61K45/06
US-201916505771-A,A61K41/00
US-201916541845-A,A61N5/06
US-201916566216-A,A61B8/00
US-201916566216-A,A61B8/08
US-201916566216-A,A61B8/14
US-201916570582-A,A61B8/08
US-201816607798-A,A61N1/372
US-201816607798-A,A61N1/36
US-201816631674-A,A61B5/00
US-201816631674-A,A61B5/11
US-201816631674-A,A61B3/00
US-201816631674-A,A61B3/113
US-201816631674-A,A61B3/14
US-201716640287-A,A61F2/66
US-201816651426-A,A61K35/741
US-201916677546-A,A61C7/08
US-11200305-A,A61B17/04
US-11200305-A,A61B17/00
US-11200305-A,A61B17/06
US-18285305-A,A61B8/10
US-18285305-A,A61B3/10
US-19652905-A,A61K31/7076
US-21543505-A,A61B5/296
US-21543505-A,A61B5/00
US-21543505-A,A61B8/12
US-21543505-A,A61B5/01
US-21543505-A,A61B8/08
US-21543505-A,A61B6/03
US-21543505-A,A61B8/06
US-24113905-A,A61K39/395
US-26675505-A,A61B5/363
US-26675505-A,A61N1/39
US-26675505-A,A61N1/362
US-32508506-A,A61K31/202
US-32508506-A,A61K31/714
US-32508506-A,A61K31/4415
US-32508506-A,A61K31/375
US-32508506-A,A61K33/06
US-32508506-A,A61K31/355
US-32508506-A,A61K9/48
US-32508506-A,A61K9/64
US-32508506-A,A61K31/525
US-33297506-A,A61B5/02
US-36596806-A,A61K31/138
US-36596806-A,A61K31/56
US-37602906-A,A61K9/20
US-37602906-A,A61K31/496
US-39431106-A,A61K31/375
US-39431106-A,A61K31/122
US-39431106-A,A61K31/12
US-39431106-A,A61K45/06
US-41592606-A,A61K9/20
US-41592606-A,A61K31/195
US-41592606-A,A61K31/551
US-41592606-A,A61K31/375
US-42867406-A,A61K38/48
US-42867406-A,A61M31/00
US-44612106-A,A61H1/00
US-51147606-A,A61B5/00
US-54710305-A,A61K47/48
US-54710305-A,A61K47/36
US-56856705-A,A61M5/315
US-56856705-A,A61M5/32
US-56856705-A,A61M5/00
US-59192206-A,A61K38/28
US-59192206-A,A61K38/17
US-59192206-A,A61K39/395
US-66060705-A,A61B5/07
US-66060705-A,A61B1/00
US-66060705-A,A61B5/00
US-66060705-A,A61B1/04
US-66443707-A,A61P31/00
US-66443707-A,A61K31/7004
US-67660407-A,A61B5/103
US-67660407-A,A61B5/00
US-67660407-A,A61B5/107
US-67660407-A,A61B5/02
US-70455507-A,A61K31/498
US-74601007-A,A61K31/427
US-74601007-A,A61K31/433
US-74601007-A,A61K31/496
US-74601007-A,A61K31/405
US-74601007-A,A61K31/4439
US-74601007-A,A61K31/454
US-74601007-A,A61K31/5377
US-74601007-A,A61K31/497
US-79076107-A,A61B6/00
US-83102707-A,A61B17/56
US-83102707-A,A61F2/44
US-85730707-A,A61B6/00
US-85988207-A,A61K36/87
US-85988207-A,A61K31/7008
US-85988207-A,A61F7/08
US-86856207-A,A61K35/38
US-86856207-A,A61F2/06
US-86856207-A,A61L29/00
US-86856207-A,A61L27/50
US-86856207-A,A61L27/36
US-86856207-A,A61L31/00
US-86856207-A,A61B19/00
US-86856207-A,A61L27/24
US-86856207-A,A61L2/00
US-86856207-A,A61F13/00
US-86856207-A,A61K35/22
US-87586607-A,A61G7/018
US

2025-01-18 23:59:45 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-18 23:59:45 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-18 23:59:45 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-18 23:59:47 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-18 23:59:47 - snowflake.connector.connection - INFO - closed
2025-01-18 23:59:47 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 00:00:50 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 00:00:50 - root - INFO - ```sql
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
```
2025-01-19 00:00:50 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 00:00:50 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 00:00:50 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 00:00:52 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 00:00:52 - snowflake.connector.connection - INFO - closed
2025-01-19 00:00:52 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 00:00:52 - root - INFO - SQL:
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Results:
Too long, hard cut:
application_number,ipc_code
US-60260508-A,F01L1/34
US-62262109-A,H01M2/16
US-62423309-A,C07H21/04
US-62423309-A,C12Q1/68
US-63039009-A,A01K1/03
US-63331909-A,G06Q10/10
US-63331909-A,G06F3/00
US-63567909-A,A46B17/04
US-63567909-A,A46B17/08
US-63567909-A,A46B11/00
US-63567909-A,A46B9/08
US-63567909-A,A46B15/00
US-64700909-A,G01N1/02
US-64700909-A,G01N33/22
US-64700909-A,B04C3/06
US-64700909-A,G01N1/22
US-64700909-A,B04C9/00
US-66062010-A,H04N23/40
US-66062010-A,G06K9/00
US-69982110-A,G02B21/00
US-71172510-A,H04W72/12
US-71172510-A,H04L1/18
US-71172510-A,H04L1/16
US-71172510-A,H04B7/0417
US-73611509-A,D05B87/00
US-78215510-A,H04M11/00
US-78365310-A,E04F17/00
US-78516310-A,H04B1/16
US-78516310-A,H04B1/06
US-78516310-A,H04B14/02
US-78516310-A,H04L27/00
US-78516310-A,H04L25/03
US-78516310-A,H04B3/54
US-78516310-A,H04L27/26
US-78516310-A,H04M9/00
US-78516310-A,H04B3/06
US-78516310-A,H04L25/02
US-78516310-A,H04L1/18
US-78516310-A,H04B7/00
US-78516310-A,H04J11/00
US-78516310-A,H04L1/00
US-78516310-A,H04B1/00
US-78603710-A,G11B20/00
US-78603710-A,H04L29/08
US-78603710-A,H04L29/06
US-78603710-A,G06F17/30
US-78603710-A,H04W4/021
US-78603710-A,H04W4/029
US-78603710-A,H04W4/02
US-79742110-A,H01Q1/24
US-79916010-A,H02G15/02
US-81344410-A,C21C7/068
US-81344410-A,C21B/
US-81344410-A,C21B3/00
US-81344410-A,C01F11/22
US-81344410-A,C21C7/076
US-81344410-A,C23G1/36
US-81362710-A,F02C9/28
US-81362710-A,F02C9/26
US-81362710-A,F02C9/00
US-81362710-A,F02C7/22
US-81362710-A,F02C7/26
US-81859110-A,H04L12/56
US-81995910-A,A61M16/06
US-81995910-A,A61M16/12
US-81995910-A,A61M16/00
US-81995910-A,A62B18/02
US-81995910-A,A61N1/39
US-81995910-A,A61N1/36
US-81995910-A,A61M16/08
US-81995910-A,A61H31/02
US-81995910-A,A61M16/20
US-86760109-A,F16B7/02
US-87302910-A,B31B50/64
US-87302910-A,G01N27/453
US-88676910-A,G10L15/04
US-88676910-A,H04N21/4402
US-88676910-A,G10L15/26
US-88676910-A,G10L15/22
US-88676910-A,H04N7/173
US-89409010-A,G06Q30/02
US-89409010-A,G06F17/24
US-89499310-A,F01D5/18
US-90254410-A,C12M1/34
US-91683510-A,G06F3/042
US-92150609-A,A61C17/22
US-92150609-A,A61C17/34
US-92150609-A,A46B15/00
US-92150609-A,A61C17/32
US-92150609-A,A46B13/02
US-94859210-A,H01R43/00
US-96346910-A,B65D51/04
US-96346910-A,B65D43/22
US-98383311-A,H03H9/17
US-98383311-A,B05C5/00
US-98383311-A,B41J2/16
US-98383311-A,B41J2/14
US-98383311-A,H03H3/02
US-98383311-A,H10N30/87
US-98383311-A,H10N30/853
US-98383311-A,H10N30/85
US-98383311-A,H10N30/20
US-98383311-A,H10N30/097
US-98383311-A,H10N30/093
US-98383311-A,H10N30/079
US-98383311-A,H10N30/077
US-98383311-A,H10N30/06
US-98383311-A,H10N30/01
US-98383311-A,B41J2/045
US-98466711-A,G01M7/02
US-98680111-A,G06K19/077
US-98680111-A,H01L23/58
US-98680111-A,H01L23/488
US-201113009347-A,B29C45/14
US-201113009347-A,H01M8/12
US-201113009708-A,G16B20/20
US-201113009708-A,G16B30/10
US-201113009708-A,G16B5/00
US-201113009708-A,G16B20/10
US-201113009708-A,G01N31/00
US-201113009708-A,G01N33/50
US-201113009708-A,G01N33/48
US-201113015568-A,E01B23/00
US-201113024484-A,H01M8/18
US-201113024484-A,H01M8/06
US-201113024484-A,C25B9/18
US-201113024484-A,C25B11/03
US-201113026081-A,H04L45/60
US-201113026081-A,H04L45/28
US-201113026081-A,H04L45/028
US-201113026081-A,H04L45/122
US-201113026081-A,G06F15/16
US-201113042153-A,G06N5/00
US-201113050024-A,G03G15/00
US-200913059620-A,H04M1/72412
US-200913059620-A,H04B7/00
US-200913059620-A,H04Q5/22
US-200913059620-A,G06F17/00
US-200913059620-A,G05B19/00
US-200913059620-A,H04B1/38
US-200913059620-A,G06K7/06
US-200913059624-A,A61K47/48
US-201113066599-A,G09G5/00
US-201113066599-A,G09G3/20
US-201113066599-A,G09G3/14
US-201113066599-A,G09G3/32
US-201113066599-A,G06F3/038
US-201113075827-A,G01R23/02
US-201113075827-A,G06F19/00
US-201113083508-A,A61F2/06
US-201113088674-A,H04N23/90
US-201113088674-A,H04N5/262
US-201113088674-A,H04N7/18
US-201113092480-A,H04L29/12
US-201113092480-A,G06F13/38
US-201113092480-A,H04L29/06
US-201113092480-A,G06F13/40
US-201113092480-A,G06F13/10
US-201113092480-A,G06F15/16
US-201113094150-A,H04W24/00
US-201113094150-A,H04W64/00
US-201113101041-A,A63B41/00
US-201113104403-A,C10L1/10
US-201113104669-A,H04L69/40
US-201113104669-A,G01R31/08
US-200913121520-A,H05B44/00
US-200913121520-A,H01J1/62
US-200913131636-A,H04N9/31
US-200913131636-A,G09G5/02
US-200913131636-A,H04N9/73
US-201113136963-A,A61B17/00
US-201113136963-A,D07B1/02
US-201113136963-A,A61B17/06
US-201113136963-A,A61B17/04
US-201013142928-A,C07K1/16
US-201013142928-A,C07K1/14
US-201013142928-A,C07K1/34
US-201013142928-A,C07K14/51
US-201013142928-A,C07K1/36
US-201013145047-A,H04B10/43
US-201013145047-A,H04B10/40
US-201013145047-A,H04B10/60
US-201013145047-A,H04B10/27
US-201013145047-A,H04B10/272
US-201013145047-A,H04B10/50
US-201013145047-A,H03G3/20
US-201113150493-A,H10B10/00
US-201113150493-A,H01L21/20
US-201113150493-A,H01L21/302
US-201113150493-A,H01L21/324
US-201113150493-A,H01L21/322
US-201113150493-A,H01L21/36
US-201113150493-A,H01L21/461
US-201113151081-A,H01L21/205
US-201113156511-A,A61F2/66
US-201113156511-A

2025-01-19 00:00:52 - root - INFO - itercount: 0
2025-01-19 00:00:52 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
None
The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
**Relevant columns and potential usage:**

- `"assignee_harmonized"`: to obtain the assignee names.
- `"filing_date"`: to determine the filing dates of applications.
- `"cpc"`: to access the CPC classification codes of patents.
- `"application_number"`: to identify individual applications.
- `"cpc"."symbol"`: to filter applications in the 'A61' category.

**Conditions that may be used:**

- Filtering `"cpc"."symbol"` codes that start with 'A61'.
- Grouping by `"assignee_harmonized"` to count applications per assignee.
- Extracting the year from `"filing_date"` for year-wise analysis.

---

**SQL Queries:**

```sql
-- 1. Get distinct assignee names
SELECT DISTINCT "assignee_harmonized"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 2. Get distinct filing dates
SELECT DISTINCT "filing_date"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
```

```sql
-- 3. Retrieve CPC symbols
SELECT t."application_number", f.value:"symbol"::STRING AS "cpc_symbol"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
LIMIT 1000;
```

```sql
-- 4. Find applications in CPC category 'A61'
SELECT t."application_number"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"symbol"::STRING LIKE 'A61%'
LIMIT 1000;
```

```sql
-- 5. List assignees with applications in 'A61' category
SELECT DISTINCT t."assignee_harmonized"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"symbol"::STRING LIKE 'A61%'
LIMIT 1000;
```

```sql
-- 6. Get filing years from filing dates
SELECT DISTINCT YEAR(TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE "filing_date" IS NOT NULL
LIMIT 1000;
```

```sql
-- 7. Count applications per assignee
SELECT "assignee_harmonized", COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
GROUP BY "assignee_harmonized"
LIMIT 1000;
```

```sql
-- 8. Count applications per year
SELECT YEAR(TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year", COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE "filing_date" IS NOT NULL
GROUP BY "filing_year"
LIMIT 1000;
```

```sql
-- 9. Get CPC symbols for a specific assignee
SELECT f.value:"symbol"::STRING AS "cpc_symbol"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
WHERE t."assignee_harmonized" = 'Specific Assignee Name'
LIMIT 1000;
```

```sql
-- 10. Find filing dates for applications in 'A61' category
SELECT DISTINCT t."filing_date"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
WHERE f.value:"symbol"::STRING LIKE 'A61%'
LIMIT 1000;
```

---

*Note: Replace 'Specific Assignee Name' with the actual assignee name when performing the query.*Query:
-- 1. Get distinct assignee names
SELECT DISTINCT "assignee_harmonized"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Answer:
Too long, hard cut:
assignee_harmonized
"[
  {
    ""country_code"": """",
    ""name"": ""CHONGQING VOCATIONAL INST ENG""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""KUNSHAN ZHUOLIDA PREC METAL PARTS CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""INNER MONGOLIA TONGFANG TECH CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""JIANHU COUNTY XINYUAN ROPE CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""DONGQIANG LIANZHOU COPPER FOIL CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""QINGYUAN ELECTRIC POWER PLANNING AND DESIGN INST CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SICHUAN ACAD OF MEDICAL SCIENCES SICHUAN PROVINCIAL PEOPLES HOSPITAL""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""JINGJIANG SHENGBLUE POLICE EQUIPMENT MFG CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""LI WENGUANG""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""TIAN JINGWEN""
  },
  {
    ""country_code"": """",
    ""name"": ""ZHOU HONGTAO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SUZHOU KAIEN YOUHE ENV ENGINEERING CO LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SHIWAN KUNLUO YUQING AUTOMOBILE PART LTD COMPANY""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""UNION SWITCH & SIGNAL CO""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""LEACH FREDERICK I""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""FANSTEEL INC""
  }
]"
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""BERGMANN ELEKTRICITAETS WERKE""
  }
]"
"[
  {
    ""country_code"": ""CH"",
    ""name"": ""LAMBERT S""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""NEWLON JR GEORGE R""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""DELAWARE TOOL STEEL CORP""
  }
]"
"[
  {
    ""country_code"": ""MX"",
    ""name"": ""SERVICIOS CONDUMEX SA""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""USM CORP""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""CHAMBERS BROTHERS CO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""ILLINOIS TOOL WORKS""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""FORD MOTOR CO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""HARRY ALONZO FURMAN""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""LEAR SIEGLER INC""
  }
]"
"[
  {
    ""country_code"": ""CH"",
    ""name"": ""AMBERG INGENIEURBUREAU FA R""
  },
  {
    ""country_code"": ""CH"",
    ""name"": ""W R & DR W HEIERLI DIPL BAUING""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""BRIDGER C F T""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""KIMBERLY CLARK CO""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""JAPAN TOBACCO INC""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""GARDISETTE GMBH""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""CIBA GEIGY AG""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""COMMW IND GASES""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SMS MEER GMBH""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""MICRON TECHNOLOGY INC""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""BIHLER WILLI""
  }
]"
"[
  {
    ""country_code"": ""IL"",
    ""name"": ""MODU LTD""
  }
]"
"[
  {
    ""country_code"": ""JP"",
    ""name"": ""NEC ELECTRONICS CORP""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""KENNAMETAL INC""
  }
]"
"[
  {
    ""country_code"": ""IN"",
    ""name"": ""HUGHES SYSTIQUE PRIVATE LTD""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""LEO PHARMA AS""
  }
]"
"[
  {
    ""country_code"": ""CH"",
    ""name"": ""RIETER AG MASCHF""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""KEEN PERSONAL MEDIA""
  }
]"
"[
  {
    ""country_code"": ""US"",
    ""name"": ""GAF CORP""
  }
]"
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""UNIV MAINZ JOHANNES GUTENBERG""
  }
]"
"[
  {
    ""country_code"": ""FR"",
    ""name"": ""DEPRAT JEAN SA SA""
  }
]"
"[
  {
    ""country_code"": ""FR"",
    ""name"": ""ETUDE REALISA CYBERNETIQUE IND""
  }
]"
"[
  {
    ""country_code"": """",
    ""name"": ""SHEVELKIN NIKOLAJ P""
  }
]"
"[
  {
    ""country_code"": ""SU"",
    ""name"": ""UNIV KAZAKHSKY""
  }
]"
"[
  {
    ""country_code"": ""SU"",
    ""name"": ""KRYLOV NIKOLAJ""
  },
  {
    ""country_code"": ""SU"",
    ""name"": ""AFANASEVA SVETLANA M""
  },
  {
    ""country_code"": ""SU"",
    ""name"": ""FILIPPOVA VERA S""
  }
]"
"[
  {
    ""country_code"": ""CN"",
    ""name"": ""TRANSCEIVING SYSTEM TECHNOLOGY""
  }
]"
"[
  {
    ""country_code"": ""SE"",
    ""name"": ""LUNNER SVEN-ERIC""
  },
  {
    ""country_code"": ""SE"",
    ""name"": ""GUOZHU YE""
  },
  {
    ""country_code"": ""FI"",
    ""name"": ""OUTOKUMPU OY""
  }
]"
"[
  {
    ""country_code"": ""CZ"",
    ""name"": ""BENNETT JAMES""
  },
  {
    ""country_code"": ""US"",
    ""name"": ""BROADCOM CORP""
  }
]"
"[
  {
    ""c
Query:
-- 2. Get distinct filing dates
SELECT DISTINCT "filing_date"
FROM PATENTS.PATENTS.PUBLICATIONS
LIMIT 1000;
Answer:
Too long, hard cut:
filing_date
20140515
20100518
20130221
20171211
20181221
20171023
19940714
19960725
19960625
19980715
19941019
19971020
19951023
20020822
20200504
20001214
19720128
20020306
19660808
19470128
19550425
19530326
19741024
19590525
20050718
19221220
19360402
19731219
19281105
19700423
19711203
19780130
19790802
19791004
19481215
19870114
20020124
20200922
20200501
20021105
19911220
20070803
20080602
20060613
19980415
20051025
19981216
19960409
20121109
20180606
20051005
20151006
19951201
19690201
19650209
20141103
19890309
19820407
19671012
19671030
20141219
20170720
20220708
20220105
20240213
20090610
20120810
20150424
20060720
19831018
20050603
19931126
20030224
20100616
20200821
20200221
20210929
20220701
20230626
19860421
20041008
20220706
20150116
19740409
20090730
20120521
20130531
20210922
20100602
19830701
19921016
19511103
19940610
19960910
20020315
19830323
19931231
20010613
19830312
19750902
19790925
19800726
20000424
20130226
20221005
20240326
20190512
19771123
19740418
19860606
20200213
20100723
20210125
19880810
20210707
20240212
19941026
19981229
19961203
19980512
20090511
20060116
19531231
19210922
19070218
19261110
19591228
19650415
19600107
19410313
19370611
19510409
19640413
19390107
19991217
19690213
19711108
19841203
19361229
20230621
19980903
20050411
20010619
19760323
19970726
20150220
20090603
20211205
20151209
20040205
20160809
20101116
20171101
19870715
19690317
20080605
20140501
20160629
20220817
19860721
20130116
19080702
19350503
19330519
19650301
19250227
19670810
19260615
19240403
19561121
19620813
19260831
19290525
19550310
19850507
19740417
19480427
19640228
20210506
20211025
20230517
20230321
19940228
19780406
19890215
20070101
20080402
20090112
18970103
19851216
19400510
20001226
19140331
19520307
19450516
19321026
19730130
19750327
19950316
19930423
20060724
19740928
19621213
20090208
20050214
19910430
19931209
19790717
20071210
20150226
20200831
20210110
19730615
19930630
20090202
19871123
19130701
20101124
20130430
19781013
19880819
19941214
20110711
20131107
19450117
19561217
19080323
19330718
19700330
19941017
19651011
19681231
19530714
19440708
19651024
19040930
19640925
19661209
19620818
20130509
20150727
20230308
20010501
20140725
20130828
19750418
19900524
19860628
20051003
19920428
18971009
19970109
20000413
19890224
19990201
19661213
19710809
19690725
19790313
20021228
19860918
19960814
19881220
20060802
19730908
19931125
19771028
20240111
20151122
19960727
19860115
19850607
19851204
20190406
19780221
19780730
19660830
19930510
19870717
19800407
20080427
19801014
19901229
20110716
20200627
19900428
19451027
19601208
19640728
19050905
19020529
19260708
19300604
19780617
19950622
19990918
19540910
19401030
19350312
19701020
18971230
19070424
19541027
19310502
19120104
19170926
19650831
19861113
19630715
19801125
19520123
19100928
19460813
19500311
19740207
19650208
19451023
19011101
19420305
19040318
19500818
19700107
19771201
19941221
19820409
19390701
19500609
19120629
19520828
19991106
20190818
19751016
20071103
19850816
19810803
20111003
20081011
20131019
19390920
19480828
19690612
18930429
19551229
19470801
19561128
19670523
19800107
19731110
19460228
19410613
19440728
19301212
19580805
18990209
18951015
19590807
20100618
20110105
20130311
20130312
20140818
20170619
20151228
20170320
20180608
20190926
19860512
19751015
19771021
19920608
19980730
20211130
20031205
20060525
20100108
20021129
20030217
20061127
20180725
19811106
19721228
20030127
19501215
19610828
19641014
19130519
19350121
19511124
19140127
19380112
19131025
19740718
19770708
19880112
19850227
19901213
19861008
20001218
19990413
19690505
20010713
20141203
20150729
20031225
20061128
20120911
19920224
19951121
19971205
20020726
20150321
19981019
20060920
19830117
19760207
20150915
20150415
20150813
20180112
20181031
20220119
20221221
20050228
20000711
20140704
20231102
20230906
19990616
20120503
19790402
19720103
19751001
20171214
20201022
19750414
20050830
20071030
20020711
20170905
20190319
20210421
20240229
19871229
20070321
20140520
20170927
20091204
20191104
20191031
20040505
20061113
19840502
19981120
19940316
19860526
19910717
20150204
19860828
19640729
20050421
20160905
19840305
19920717
19720919
20130822
19911009
19670306
19810916
20200226
20200120
20240415
20231006
19951026
20060210
19850403
19990217
20160425
19880601
20060829
19971231
20070601
20080702
19521105
20121127
19660627
19670104
19501108
19650823
19680905
19521017
19441201
19231030
19520308
19110913
19280211
19391128
19511026
19520612
19330201
19080623
19120101
19690625
19270111
19580910
19750728
19270405
19920110
19970819
19850502
19990825
19990824
19680821
19540706
19670828
19380722
20030403
19961213
20040120
20100322
19750609
20141204
20150713
20140707
20051121
19700818
20060629
20050615
20190109
20210104
19850712
20191204
19840306
20070906
19840629
19891021
19910521
20140212
20200901
20140716
19920521
19830914
19140714
19491122
19130116
19620228
19211020
19500905
19531012
19670721
19720615
19590406
19730620
19241103
19651018
19
Query:
-- 3. Retrieve CPC symbols
SELECT t."application_number", f.value:"symbol"::STRING AS "cpc_symbol"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."cpc") f
LIMIT 1000;
Answer:
Too long, hard cut:
application_number,cpc_symbol
CN-202120792804-U,
CN-202120815039-U,
CN-202120852001-U,
CN-202120852001-U,
CN-202120852001-U,
CN-202120910254-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120939992-U,
CN-202120964083-U,
CN-202120967770-U,
CN-202120967770-U,
CN-202121047830-U,
CN-202121080208-U,
CN-202121089159-U,
CN-202121140271-U,
CN-202121141975-U,
CN-202121149114-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121151286-U,
CN-202121203563-U,
CN-202121203563-U,
CN-202121277736-U,
CN-202121277736-U,
CN-202121277736-U,
CN-202121277736-U,
CN-202121356723-U,
CN-202121363250-U,
CN-202121363250-U,
CN-202121402058-U,
CN-202121479735-U,
CN-202121517407-U,
CN-202121517620-U,
CN-202121588779-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121646993-U,
CN-202121655920-U,
CN-202121655920-U,
CN-202121693770-U,
CN-202121700360-U,
CN-202121700360-U,
CN-202121705934-U,
CN-202121749202-U,
CN-202121780169-U,
CN-202121804463-U,
CN-202121860462-U,
CN-202121860462-U,
CN-202121860462-U,
CN-202121860462-U,
CN-202121921898-U,
CN-202121948417-U,
CN-202122059616-U,
CN-202122132890-U,
CN-202122218073-U,
CN-202122218073-U,
CN-202122458059-U,
CN-202122458059-U,
CN-202122458059-U,
CN-202122458059-U,
CN-202122554998-U,
CN-202122562382-U,
CN-202122626791-U,
CN-202122644484-U,
CN-202122705494-U,
CN-202122713501-U,
CN-202122885759-U,
CN-202123064552-U,
CN-202123094192-U,
CN-202123104462-U,
CN-202123104462-U,
CN-202123104462-U,
CN-202123105707-U,
CN-202123105707-U,
CN-202123105707-U,
CN-202123125862-U,
CN-202123177192-U,
CN-202123240288-U,
CN-202123261499-U,
CN-202123266343-U,
CN-202123292801-U,
CN-202123362575-U,
CN-202123373747-U,
CN-202123400546-U,
CN-202123406171-U,
CN-202123422819-U,
CN-202123430141-U,
CN-202123438150-U,
CN-202220006602-U,
CN-202220011269-U,
CN-202220084066-U,
CN-202220087393-U,
CN-202220120630-U,
CN-202220123732-U,
CN-202220132738-U,
CN-202220144731-U,
CN-202220148649-U,
CN-202220152204-U,
CN-202220184321-U,
CN-202220211939-U,
CN-202220214790-U,
CN-202220232182-U,
CN-202220233897-U,
CN-202220250078-U,
CN-202220273370-U,
CN-202220273689-U,
CN-202220295587-U,
CN-202220327474-U,
CN-202220339085-U,
CN-202220355178-U,
CN-202220384994-U,
CN-202220410262-U,
CN-202220411423-U,
CN-202220423825-U,
CN-202220448390-U,
CN-202220461595-U,
CN-202220485837-U,
CN-202220485837-U,
CN-202220485837-U,
CN-202220539540-U,
CN-202220560695-U,
CN-202220593012-U,
CN-202220641458-U,
CN-202220665938-U,
CN-202220674688-U,
CN-202220716534-U,
CN-202220743493-U,
CN-202220747782-U,
CN-202220812778-U,
CN-202220818091-U,
CN-202220907259-U,
CN-202220912116-U,
CN-202220951084-U,
CN-202220964426-U,
CN-202220966440-U,
CN-202221056421-U,
CN-202221068563-U,
CN-202221090725-U,
CN-202221092236-U,
CN-202221093405-U,
CN-202221113690-U,
CN-202221118161-U,
CN-202221175876-U,
CN-202221325198-U,
CN-202221329530-U,
CN-202221331973-U,
CN-202221365761-U,
CN-202221377882-U,
CN-202221394453-U,
CN-202221422894-U,
CN-202221503492-U,
CN-202221513813-U,
CN-202221529992-U,
CN-202221693102-U,
CN-202221776167-U,
CN-202221828826-U,
CN-202221868243-U,
CN-202221888539-U,
CN-202222027196-U,
CN-202222136139-U,
CN-202222170171-U,
CN-202222329635-U,
CN-202222329635-U,
CN-202222385236-U,
CN-202222393929-U,
CN-202222414640-U,
CN-202222478233-U,
CN-202222481864-U,
CN-202222493998-U,
CN-202222493998-U,
CN-202222570264-U,
CN-202222660030-U,
CN-202222666388-U,
CN-202222710886-U,
CN-202222721849-U,
CN-202222724681-U,
CN-202222728421-U,
CN-202222734643-U,
CN-202222740672-U,
CN-202222793701-U,
CN-202222840945-U,
CN-202222894356-U,
CN-202222981322-U,
CN-202222983438-U,
CN-202222990067-U,
CN-202223071825-U,
CN-202223081115-U,
CN-202223082818-U,
CN-202223140790-U,
CN-202223143852-U,
CN-202223158211-U,
CN-202223164980-U,
CN-202223167513-U,
CN-202223167835-U,
CN-202223169196-U,
CN-202223172884-U,
CN-202223178194-U,
CN-202223179871-U,
CN-202223197035-U,
CN-202223256103-U,
CN-202223257541-U,
CN-202223259537-U,
CN-202223268777-U,
CN-202223373454-U,
CN-202223426562-U,
CN-202223480158-U,
CN-202223488252-U,
CN-202223512225-U,
CN-202223544169-U,
CN-202223547281-U,
CN-202223551435-U,
CN-202223574689-U,
CN-202223584872-U,
CN-202223610871-U,
CN-202223612289-U,
CN-202320002479-U,
CN-202320048569-U,
CN-202320064640-U,
CN-202320085957-U,
CN-202320115819-U,
CN-202320141389-U,
CN-202320152038-U,
CN-202320179645-U,
CN-202320185841-U,
CN-202320191149-U,
CN-202320200343-U,
CN-202320224174-U,
CN-202320236952-U,
CN-202320241068-U,
CN-202320248747-U,
CN-202320252126-U,
CN-202320257874-U,
CN-202320262639-U,
CN-202320296299-U,
CN-202320299889-U,
CN-202320319919-U,
CN-202320335029-U,
CN-202320336382-U,
CN-202320395317-U,
CN-202320411077-U,
CN-202320411077-U,
CN-202320430532-U,
CN-202320457641-U,
CN-202320468557-U,
CN-202320562493-U,
CN-202320569982-U,
CN-20232059
Query:
SELECT t."application_number", f.value::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Answer:
Too long, hard cut:
application_number,ipc_code
US-201715551385-A,"{""code"":""A61B17/115"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715551385-A,"{""code"":""A61B17/072"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715565380-A,"{""code"":""B60K28/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715565380-A,"{""code"":""B60W40/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715582870-A,"{""code"":""G06F3/041"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715582870-A,"{""code"":""G06F3/044"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04L29/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04L29/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04N21/475"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04L29/12"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715589903-A,"{""code"":""H04N21/845"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715592743-A,"{""code"":""H04M15/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715592743-A,"{""code"":""H04W4/24"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715592743-A,"{""code"":""H04W24/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G11B20/10"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""H04N21/234"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G11B27/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G06F3/16"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""H04N21/233"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""H04S7/00"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715594390-A,"{""code"":""G06T15/20"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/06"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/37"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/46"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/73"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/81"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61Q1/10"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715609754-A,"{""code"":""A61K8/92"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/14"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""G02B27/30"",""first"":false,""inventive"":false,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/40"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S3/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/024"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/023"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715627917-A,"{""code"":""H01S5/0233"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B62D33/08"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B62D33/027"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B60R19/32"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715629643-A,"{""code"":""B62D33/03"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715633854-A,"{""code"":""G06Q30/02"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715633854-A,"{""code"":""G06Q10/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715640860-A,"{""code"":""A01C21/00"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715643916-A,"{""code"":""G01M13/00"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715644030-A,"{""code"":""B65F1/06"",""first"":true,""inventive"":true,""tree"":[]}"
US-201715644030-A,"{""code"":""B65F1/16"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715644030-A,"{""code"":""B65F1/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K31/57"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/06"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K9/00"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""B65D83/20"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K31/573"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/12"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/26"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""code"":""A61K47/10"",""first"":false,""inventive"":true,""tree"":[]}"
US-201715652971-A,"{""co
Query:
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
LIMIT 1000;
Answer:
Too long, hard cut:
application_number,ipc_code
US-60260508-A,F01L1/34
US-62262109-A,H01M2/16
US-62423309-A,C07H21/04
US-62423309-A,C12Q1/68
US-63039009-A,A01K1/03
US-63331909-A,G06Q10/10
US-63331909-A,G06F3/00
US-63567909-A,A46B17/04
US-63567909-A,A46B17/08
US-63567909-A,A46B11/00
US-63567909-A,A46B9/08
US-63567909-A,A46B15/00
US-64700909-A,G01N1/02
US-64700909-A,G01N33/22
US-64700909-A,B04C3/06
US-64700909-A,G01N1/22
US-64700909-A,B04C9/00
US-66062010-A,H04N23/40
US-66062010-A,G06K9/00
US-69982110-A,G02B21/00
US-71172510-A,H04W72/12
US-71172510-A,H04L1/18
US-71172510-A,H04L1/16
US-71172510-A,H04B7/0417
US-73611509-A,D05B87/00
US-78215510-A,H04M11/00
US-78365310-A,E04F17/00
US-78516310-A,H04B1/16
US-78516310-A,H04B1/06
US-78516310-A,H04B14/02
US-78516310-A,H04L27/00
US-78516310-A,H04L25/03
US-78516310-A,H04B3/54
US-78516310-A,H04L27/26
US-78516310-A,H04M9/00
US-78516310-A,H04B3/06
US-78516310-A,H04L25/02
US-78516310-A,H04L1/18
US-78516310-A,H04B7/00
US-78516310-A,H04J11/00
US-78516310-A,H04L1/00
US-78516310-A,H04B1/00
US-78603710-A,G11B20/00
US-78603710-A,H04L29/08
US-78603710-A,H04L29/06
US-78603710-A,G06F17/30
US-78603710-A,H04W4/021
US-78603710-A,H04W4/029
US-78603710-A,H04W4/02
US-79742110-A,H01Q1/24
US-79916010-A,H02G15/02
US-81344410-A,C21C7/068
US-81344410-A,C21B/
US-81344410-A,C21B3/00
US-81344410-A,C01F11/22
US-81344410-A,C21C7/076
US-81344410-A,C23G1/36
US-81362710-A,F02C9/28
US-81362710-A,F02C9/26
US-81362710-A,F02C9/00
US-81362710-A,F02C7/22
US-81362710-A,F02C7/26
US-81859110-A,H04L12/56
US-81995910-A,A61M16/06
US-81995910-A,A61M16/12
US-81995910-A,A61M16/00
US-81995910-A,A62B18/02
US-81995910-A,A61N1/39
US-81995910-A,A61N1/36
US-81995910-A,A61M16/08
US-81995910-A,A61H31/02
US-81995910-A,A61M16/20
US-86760109-A,F16B7/02
US-87302910-A,B31B50/64
US-87302910-A,G01N27/453
US-88676910-A,G10L15/04
US-88676910-A,H04N21/4402
US-88676910-A,G10L15/26
US-88676910-A,G10L15/22
US-88676910-A,H04N7/173
US-89409010-A,G06Q30/02
US-89409010-A,G06F17/24
US-89499310-A,F01D5/18
US-90254410-A,C12M1/34
US-91683510-A,G06F3/042
US-92150609-A,A61C17/22
US-92150609-A,A61C17/34
US-92150609-A,A46B15/00
US-92150609-A,A61C17/32
US-92150609-A,A46B13/02
US-94859210-A,H01R43/00
US-96346910-A,B65D51/04
US-96346910-A,B65D43/22
US-98383311-A,H03H9/17
US-98383311-A,B05C5/00
US-98383311-A,B41J2/16
US-98383311-A,B41J2/14
US-98383311-A,H03H3/02
US-98383311-A,H10N30/87
US-98383311-A,H10N30/853
US-98383311-A,H10N30/85
US-98383311-A,H10N30/20
US-98383311-A,H10N30/097
US-98383311-A,H10N30/093
US-98383311-A,H10N30/079
US-98383311-A,H10N30/077
US-98383311-A,H10N30/06
US-98383311-A,H10N30/01
US-98383311-A,B41J2/045
US-98466711-A,G01M7/02
US-98680111-A,G06K19/077
US-98680111-A,H01L23/58
US-98680111-A,H01L23/488
US-201113009347-A,B29C45/14
US-201113009347-A,H01M8/12
US-201113009708-A,G16B20/20
US-201113009708-A,G16B30/10
US-201113009708-A,G16B5/00
US-201113009708-A,G16B20/10
US-201113009708-A,G01N31/00
US-201113009708-A,G01N33/50
US-201113009708-A,G01N33/48
US-201113015568-A,E01B23/00
US-201113024484-A,H01M8/18
US-201113024484-A,H01M8/06
US-201113024484-A,C25B9/18
US-201113024484-A,C25B11/03
US-201113026081-A,H04L45/60
US-201113026081-A,H04L45/28
US-201113026081-A,H04L45/028
US-201113026081-A,H04L45/122
US-201113026081-A,G06F15/16
US-201113042153-A,G06N5/00
US-201113050024-A,G03G15/00
US-200913059620-A,H04M1/72412
US-200913059620-A,H04B7/00
US-200913059620-A,H04Q5/22
US-200913059620-A,G06F17/00
US-200913059620-A,G05B19/00
US-200913059620-A,H04B1/38
US-200913059620-A,G06K7/06
US-200913059624-A,A61K47/48
US-201113066599-A,G09G5/00
US-201113066599-A,G09G3/20
US-201113066599-A,G09G3/14
US-201113066599-A,G09G3/32
US-201113066599-A,G06F3/038
US-201113075827-A,G01R23/02
US-201113075827-A,G06F19/00
US-201113083508-A,A61F2/06
US-201113088674-A,H04N23/90
US-201113088674-A,H04N5/262
US-201113088674-A,H04N7/18
US-201113092480-A,H04L29/12
US-201113092480-A,G06F13/38
US-201113092480-A,H04L29/06
US-201113092480-A,G06F13/40
US-201113092480-A,G06F13/10
US-201113092480-A,G06F15/16
US-201113094150-A,H04W24/00
US-201113094150-A,H04W64/00
US-201113101041-A,A63B41/00
US-201113104403-A,C10L1/10
US-201113104669-A,H04L69/40
US-201113104669-A,G01R31/08
US-200913121520-A,H05B44/00
US-200913121520-A,H01J1/62
US-200913131636-A,H04N9/31
US-200913131636-A,G09G5/02
US-200913131636-A,H04N9/73
US-201113136963-A,A61B17/00
US-201113136963-A,D07B1/02
US-201113136963-A,A61B17/06
US-201113136963-A,A61B17/04
US-201013142928-A,C07K1/16
US-201013142928-A,C07K1/14
US-201013142928-A,C07K1/34
US-201013142928-A,C07K14/51
US-201013142928-A,C07K1/36
US-201013145047-A,H04B10/43
US-201013145047-A,H04B10/40
US-201013145047-A,H04B10/60
US-201013145047-A,H04B10/27
US-201013145047-A,H04B10/272
US-201013145047-A,H04B10/50
US-201013145047-A,H03G3/20
US-201113150493-A,H10B10/00
US-201113150493-A,H01L21/20
US-201113150493-A,H01L21/302
US-201113150493-A,H01L21/324
US-201113150493-A,H01L21/322
US-201113150493-A,H01L21/36
US-201113150493-A,H01L21/461
US-201113151081-A,H01L21/205
US-201113156511-A,A61F2/66
US-201113156511-A
Query:
SELECT DISTINCT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
LIMIT 1000;
Answer:
filing_year
2007
1961
1890
1969
1977
1938
1983
2004
1928
1944
1880
1988
1998
1934
1885
1949
1912
1945
1997
1981
1887
1956
1958
1933
1882
1909
1984
1967
1911
1940
1939
2001
1980
1902
1999
1982
1918
1972
1846
1986
2011
1950
2013
1908
1954
1985
1960
1903
1888
1955
1919
1968
1941
1935
1901
1904
1860
1877
1943
1966
1886
1978
1898
1979
1989
2009
1995
1907
1953
2014
1974
1916
1853
2008
1993
1937
1964
1895
2010
1991
1929
1994
1892
1951
2020
1920
1930
1926
2018
2006
1973
1925
1924
1897
1900
1896
2024
1947
1952
1992
1931
1927
1881
2012
1957
1923
1867
2017
1899
2005
1976
1970
1915
2000
1987
1906
1932
1971
1965
2021
1942
2015
2022
1905
1963
1921
1883
1891
2019
1962
2002
1948
1913
1910
1946
2016
1996
1893
1975
1889
1959
1917
1894
2023
2003
1922
1914
1990
1936
Query:
-- 7. Count applications per assignee
SELECT "assignee_harmonized", COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
GROUP BY "assignee_harmonized"
LIMIT 1000;
Answer:
Too long, hard cut:
assignee_harmonized,application_count
"[
  {
    ""country_code"": ""MX"",
    ""name"": ""ROBERT BOSCH MEXICO SIST AUTOMOTRICES S A DE C V""
  },
  {
    ""country_code"": ""DE"",
    ""name"": ""BOSCH GMBH ROBERT""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""DOLBY LABORATORIES LICENSING CORP""
  }
]",17
"[
  {
    ""country_code"": ""BE"",
    ""name"": ""VAN ISACKER FREDERIK""
  },
  {
    ""country_code"": ""BE"",
    ""name"": ""KEMPISCHE BRIK CENTRALE""
  }
]",1
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""WEBER MASCHB GMBH""
  }
]",2
"[
  {
    ""country_code"": ""SG"",
    ""name"": ""AGENCY FOR SCIENCE TECHNOLGY AND RES""
  }
]",1
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""MAHO AG""
  }
]",2
"[
  {
    ""country_code"": ""CN"",
    ""name"": ""GUANGZHOU KANGRUN BIOTECHNOLOGY CO LTD""
  },
  {
    ""country_code"": ""CN"",
    ""name"": ""Bioland Laboratory""
  }
]",1
"[
  {
    ""country_code"": ""DE"",
    ""name"": ""BAYER AG""
  }
]",265
"[
  {
    ""country_code"": ""RO"",
    ""name"": ""INST DE FIZICA SI TEHNOLOGIA M""
  }
]",1
"[
  {
    ""country_code"": ""JP"",
    ""name"": ""SUMCO TECHXIV CORP""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""ZHEJIANG HONG SHAN YU HOME TEXTILE CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""JIANGSU WABER POWER TECH CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""UNIV WUHAN DONGHU""
  },
  {
    ""country_code"": """",
    ""name"": ""FU MINGWEI""
  },
  {
    ""country_code"": """",
    ""name"": ""MEI ZHIJIE""
  },
  {
    ""country_code"": """",
    ""name"": ""XU HAO""
  },
  {
    ""country_code"": """",
    ""name"": ""LIU HUI""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""ARCO CHEM TECH""
  }
]",9
"[
  {
    ""country_code"": """",
    ""name"": ""WALRAVEN T""
  },
  {
    ""country_code"": """",
    ""name"": ""DEVINE J""
  },
  {
    ""country_code"": """",
    ""name"": ""MAROPIS N""
  },
  {
    ""country_code"": """",
    ""name"": ""ELMORE W""
  }
]",1
"[
  {
    ""country_code"": ""GB"",
    ""name"": ""CLARKE SHANE PATRICK""
  },
  {
    ""country_code"": ""GB"",
    ""name"": ""CLARKE VALERIE DAWN ROSE""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""TOSHIBA MICRO ELECTRONICS""
  },
  {
    ""country_code"": """",
    ""name"": ""TOSHIBA CORP""
  }
]",6
"[
  {
    ""country_code"": """",
    ""name"": ""SANGAKU RENKEI KIKO KYUSHU KK""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""JIANGSU FASTEN CABLE CO LTD""
  },
  {
    ""country_code"": """",
    ""name"": ""CHINA RAILWAY MAJOR BRIDGE RECONNAISSANCE & DESIGN INST CO LTD""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""EHRLICH ROBERT""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""CHONGQING TIEMA SPECIAL VEHICLE CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""JIANGSU YU XIANG CONSTRUCTION DEV GROUP CO LTD""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""OKAYA ELECTRIC INDUSTRY CO""
  }
]",8
"[
  {
    ""country_code"": """",
    ""name"": ""CASHWAY TECHNOLOGY CO LTD""
  }
]",3
"[
  {
    ""country_code"": ""TW"",
    ""name"": ""UNIK WORLD IND CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""ZHONGHAN WEIER HUBEI ELECTRICAL TECH CO LTD""
  }
]",1
"[
  {
    ""country_code"": ""LU"",
    ""name"": ""FLOORING IND LTD SARL""
  }
]",5
"[
  {
    ""country_code"": """",
    ""name"": ""SINA NEWCHANCE NEW ENERGY TECH CORP LTD""
  }
]",1
"[
  {
    ""country_code"": ""US"",
    ""name"": ""BLACK & DECKER INC""
  }
]",30
"[
  {
    ""country_code"": """",
    ""name"": ""SUZHOU SUZHU FOUNDRY MACHINERY MFT CO LTD""
  }
]",3
"[
  {
    ""country_code"": """",
    ""name"": ""KUNSHAN FULONG HOUSEHOLD SUPPL""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""TIANJIN CHUANGJIN VACUUM COATING PRODUCT CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""CHONGQING CHANGAN AUTOMOBILE CO LTD""
  }
]",52
"[
  {
    ""country_code"": ""US"",
    ""name"": ""GENENTECH INC""
  },
  {
    ""country_code"": ""CA"",
    ""name"": ""XENON PHARMACEUTICALS INC""
  }
]",2
"[
  {
    ""country_code"": ""NL"",
    ""name"": ""WAVIN BV""
  }
]",3
"[
  {
    ""country_code"": """",
    ""name"": ""SUZHOU SANTONG VACUUM PLATED FILM CO LTD""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""CHIN HSIAO-CHIEH""
  }
]",1
"[
  {
    ""country_code"": """",
    ""name"": ""YU HUI""
  }
]",3
"[
  {
    ""country_code"": """",
    ""name"": ""FOSHAN SHUNDE MIDEA ELECTRICAL HEATING APPLIANCES MFG CO LTD""
  }
]",53
"[
  {
    ""country_code"": """",
    ""name"": ""SHENYANG CHANGPU SUPERHARD PREC TOOLS CO LTD""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""SUZUTEC CO LTD""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""WANDER AG DR A""
  }
]",2
"[
  {
    ""country_code"": """",
    ""name"": ""WUHAN HULI LOGISTICS CO LTD""
  }
]",1
"[
  {
    ""country_co
Query:
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "filing_year",
       COUNT(DISTINCT "application_number") AS "application_count"
FROM PATENTS.PATENTS.PUBLICATIONS
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
GROUP BY "filing_year"
LIMIT 1000;
Answer:
filing_year,application_count
1933,236
1958,514
1956,519
1969,1427
1938,346
1977,3104
1961,566
2007,8908
1890,4
2001,6756
1980,3350
1904,136
1860,1
1877,4
1891,9
1978,3274
1898,51
1988,4780
1998,5253
1934,298
1885,4
2009,9235
1995,4487
1953,387
1907,197
1909,155
1882,3
1989,4557
1991,4143
1929,264
1999,5753
1972,2737
1982,3520
1918,111
1846,1
2013,13378
1908,160
1954,478
1946,302
1955,472
1919,149
1942,211
2003,7573
2023,12510
1922,159
1981,3511
1997,5324
1887,3
1951,354
2002,6843
1910,164
1948,300
1913,275
2000,5995
1987,4473
1906,189
1932,219
1996,4848
2016,23528
1893,18
2010,9508
2015,17850
2022,19621
1963,544
1921,208
1905,149
1883,2
1986,4300
2017,28627
1899,110
2004,7764
1983,3850
1928,243
2006,8729
1973,3016
2018,30997
1925,203
2024,1355
1924,174
1900,81
1896,44
1897,44
1979,3323
1927,211
1881,2
1957,493
2012,10943
1923,166
1867,1
2011,9704
1950,357
2020,33291
1926,214
1920,173
1930,272
1967,1011
1984,3869
1911,228
1940,289
1939,309
1971,2190
1931,263
1912,276
1945,256
1990,4593
1936,335
1914,197
2019,28952
1962,573
2005,8423
1970,1478
1915,171
1976,3051
1985,4022
1960,552
1903,111
1888,3
1974,3091
2014,15574
1916,173
1853,1
1959,575
1917,143
1894,34
1943,270
1994,4146
1892,10
1902,100
1944,248
1880,1
2021,31517
1965,942
1966,1036
1886,3
1941,288
1968,1085
1935,314
1901,91
1949,329
1992,4313
1952,382
1947,327
1975,3234
1889,10
2008,9433
1993,4436
1937,295
1895,28
1964,857
Query:
SELECT t."application_number", f.value:"code"::STRING AS "ipc_code"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE f.value:"code"::STRING LIKE '%A61%'
LIMIT 1000;
Answer:
Too long, hard cut:
application_number,ipc_code
US-201715646914-A,A61B18/00
US-201715646914-A,A61B18/12
US-201715646914-A,A61B90/00
US-201715646914-A,A61B18/14
US-201715718852-A,A61B17/00
US-201715718852-A,A61B17/068
US-201715718852-A,A61B17/072
US-201715857933-A,A61K31/231
US-201715857933-A,A61K35/36
US-201815872564-A,A61B5/11
US-201815872564-A,A61B5/00
US-201815879415-A,A61N1/375
US-201815879415-A,A61N1/36
US-201815879415-A,A61N1/05
US-201815946129-A,A61K35/644
US-201815946129-A,A61K9/08
US-201815946129-A,A61K45/06
US-201815946129-A,A61P35/00
US-201815946129-A,A61K9/00
US-201815946129-A,A61K31/337
US-201815953492-A,A61K31/7084
US-201815953492-A,A61K45/06
US-201815989845-A,A61F2/01
US-201816008088-A,A61F2/30
US-201816008088-A,A61F2/44
US-201816017938-A,A61F5/455
US-201816017938-A,A61H19/00
US-201716073474-A,A61B90/50
US-201716073474-A,A61B17/29
US-201716073474-A,A61B34/37
US-201816101591-A,A61L31/12
US-201816101591-A,A61B17/00
US-201816101591-A,A61B17/80
US-201816101591-A,A61B17/86
US-201816101591-A,A61B17/70
US-201816101591-A,A61L31/08
US-201816101591-A,A61L31/10
US-201816101591-A,A61B17/72
US-201816101591-A,A61L31/18
US-201816214520-A,A61B90/00
US-201916265150-A,A61M39/06
US-201916265150-A,A61M39/16
US-201916265150-A,A61M39/26
US-201916265150-A,A61M39/10
US-201816333905-A,A61N5/10
US-201716348943-A,A61P31/16
US-201716348943-A,A61K39/145
US-201716348943-A,A61K9/51
US-201916365481-A,A61M1/00
US-201916375485-A,A61B90/98
US-201916375485-A,A61B34/20
US-201916375485-A,A61B17/24
US-201916375485-A,A61B17/32
US-201916375485-A,A61B90/00
US-201916399245-A,A61Q1/06
US-201916399245-A,A61K8/891
US-201916399245-A,A61K8/81
US-201916399388-A,A61K47/34
US-201916399388-A,A61K9/51
US-201916399388-A,A61P27/12
US-201916399388-A,A61K31/05
US-201916399388-A,A61K9/00
US-201916399388-A,A61K47/10
US-201916399388-A,A61K31/047
US-201916399388-A,A61K47/24
US-201916399388-A,A61K9/06
US-201916420814-A,A61F2/915
US-201916420814-A,A61F2/90
US-201916420814-A,A61B17/221
US-201916420814-A,A61B17/00
US-201916420814-A,A61B17/12
US-201916420814-A,A61F2/00
US-201916420814-A,A61F2/82
US-201916420814-A,A61F2/92
US-201916420814-A,A61M25/01
US-201916420814-A,A61F2/95
US-201916420814-A,A61F2/966
US-201916420814-A,A61F2/91
US-201916503978-A,A61B5/1455
US-201916503978-A,A61B5/00
US-201916503978-A,A61B5/145
US-201916505771-A,A61K51/08
US-201916505771-A,A61K35/768
US-201916505771-A,A61N5/10
US-201916505771-A,A61K9/00
US-201916505771-A,A61K45/06
US-201916505771-A,A61K41/00
US-201916541845-A,A61N5/06
US-201916566216-A,A61B8/00
US-201916566216-A,A61B8/08
US-201916566216-A,A61B8/14
US-201916570582-A,A61B8/08
US-201816607798-A,A61N1/372
US-201816607798-A,A61N1/36
US-201816631674-A,A61B5/00
US-201816631674-A,A61B5/11
US-201816631674-A,A61B3/00
US-201816631674-A,A61B3/113
US-201816631674-A,A61B3/14
US-201716640287-A,A61F2/66
US-201816651426-A,A61K35/741
US-201916677546-A,A61C7/08
US-11200305-A,A61B17/04
US-11200305-A,A61B17/00
US-11200305-A,A61B17/06
US-18285305-A,A61B8/10
US-18285305-A,A61B3/10
US-19652905-A,A61K31/7076
US-21543505-A,A61B5/296
US-21543505-A,A61B5/00
US-21543505-A,A61B8/12
US-21543505-A,A61B5/01
US-21543505-A,A61B8/08
US-21543505-A,A61B6/03
US-21543505-A,A61B8/06
US-24113905-A,A61K39/395
US-26675505-A,A61B5/363
US-26675505-A,A61N1/39
US-26675505-A,A61N1/362
US-32508506-A,A61K31/202
US-32508506-A,A61K31/714
US-32508506-A,A61K31/4415
US-32508506-A,A61K31/375
US-32508506-A,A61K33/06
US-32508506-A,A61K31/355
US-32508506-A,A61K9/48
US-32508506-A,A61K9/64
US-32508506-A,A61K31/525
US-33297506-A,A61B5/02
US-36596806-A,A61K31/138
US-36596806-A,A61K31/56
US-37602906-A,A61K9/20
US-37602906-A,A61K31/496
US-39431106-A,A61K31/375
US-39431106-A,A61K31/122
US-39431106-A,A61K31/12
US-39431106-A,A61K45/06
US-41592606-A,A61K9/20
US-41592606-A,A61K31/195
US-41592606-A,A61K31/551
US-41592606-A,A61K31/375
US-42867406-A,A61K38/48
US-42867406-A,A61M31/00
US-44612106-A,A61H1/00
US-51147606-A,A61B5/00
US-54710305-A,A61K47/48
US-54710305-A,A61K47/36
US-56856705-A,A61M5/315
US-56856705-A,A61M5/32
US-56856705-A,A61M5/00
US-59192206-A,A61K38/28
US-59192206-A,A61K38/17
US-59192206-A,A61K39/395
US-66060705-A,A61B5/07
US-66060705-A,A61B1/00
US-66060705-A,A61B5/00
US-66060705-A,A61B1/04
US-66443707-A,A61P31/00
US-66443707-A,A61K31/7004
US-67660407-A,A61B5/103
US-67660407-A,A61B5/00
US-67660407-A,A61B5/107
US-67660407-A,A61B5/02
US-70455507-A,A61K31/498
US-74601007-A,A61K31/427
US-74601007-A,A61K31/433
US-74601007-A,A61K31/496
US-74601007-A,A61K31/405
US-74601007-A,A61K31/4439
US-74601007-A,A61K31/454
US-74601007-A,A61K31/5377
US-74601007-A,A61K31/497
US-79076107-A,A61B6/00
US-83102707-A,A61B17/56
US-83102707-A,A61F2/44
US-85730707-A,A61B6/00
US-85988207-A,A61K36/87
US-85988207-A,A61K31/7008
US-85988207-A,A61F7/08
US-86856207-A,A61K35/38
US-86856207-A,A61F2/06
US-86856207-A,A61L29/00
US-86856207-A,A61L27/50
US-86856207-A,A61L27/36
US-86856207-A,A61L31/00
US-86856207-A,A61B19/00
US-86856207-A,A61L27/24
US-86856207-A,A61L2/00
US-86856207-A,A61F13/00
US-86856207-A,A61K35/22
US-87586607-A,A61G7/018
US
End Exploring Related Columns
Task: In which year did the assignee with the most applications in the patent category 'A61' file the most?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: SELECT S."Column_Name" FROM {Database Name}.{Schema Name}.{Table_name} (ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
Year,Number_of_Applications
year:int,num:int(Attention: answer in one row)
```

The assignee with the most applications in the patent category 'A61' filed the highest number of applications in this year..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book" SQL: WHERE "title" LIKE '%book%'
However, if the string is not decided, you may use ILIKE and %. e.g. Get articles that mention "education": SQL: "body" ILIKE '%education%' OR "title" ILIKE '%education%'
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.

2025-01-19 00:01:23 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 00:01:23 - root - INFO - ```sql
WITH cpc_a61_applications AS (
  SELECT DISTINCT t."application_number"
  FROM PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."cpc") f
  WHERE f.value:"symbol"::STRING LIKE 'A61%'
),
assignee_applications AS (
  SELECT ca."application_number", ah.value:"name"::STRING AS "assignee_name", t."filing_date"
  FROM cpc_a61_applications ca
  JOIN PATENTS.PATENTS.PUBLICATIONS t ON ca."application_number" = t."application_number"
  , LATERAL FLATTEN(input => t."assignee_harmonized") ah
),
assignee_counts AS (
  SELECT "assignee_name", COUNT(DISTINCT "application_number") AS "application_count"
  FROM assignee_applications
  GROUP BY "assignee_name"
  ORDER BY "application_count" DESC
  LIMIT 1
),
top_assignee_applications AS (
  SELECT aa.*
  FROM assignee_applications aa
  JOIN assignee_counts ac ON aa."assignee_name" = ac."assignee_name"
)
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "Year",
       COUNT(DISTINCT "application_number") AS "Number_of_Applications"
FROM top_assignee_applications
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
GROUP BY "Year"
ORDER BY "Number_of_Applications" DESC NULLS LAST
LIMIT 1;
```
2025-01-19 00:01:23 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 00:01:23 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 00:01:23 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 00:01:25 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-19 00:01:25 - snowflake.connector.connection - INFO - closed
2025-01-19 00:01:25 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 00:01:25 - root - INFO - itercount: 1
2025-01-19 00:01:25 - root - INFO - No data found for the specified query.

2025-01-19 00:01:25 - root - INFO - Input sql:
WITH cpc_a61_applications AS (
  SELECT DISTINCT t."application_number"
  FROM PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."cpc") f
  WHERE f.value:"symbol"::STRING LIKE 'A61%'
),
assignee_applications AS (
  SELECT ca."application_number", ah.value:"name"::STRING AS "assignee_name", t."filing_date"
  FROM cpc_a61_applications ca
  JOIN PATENTS.PATENTS.PUBLICATIONS t ON ca."application_number" = t."application_number"
  , LATERAL FLATTEN(input => t."assignee_harmonized") ah
),
assignee_counts AS (
  SELECT "assignee_name", COUNT(DISTINCT "application_number") AS "application_count"
  FROM assignee_applications
  GROUP BY "assignee_name"
  ORDER BY "application_count" DESC
  LIMIT 1
),
top_assignee_applications AS (
  SELECT aa.*
  FROM assignee_applications aa
  JOIN assignee_counts ac ON aa."assignee_name" = ac."assignee_name"
)
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "Year",
       COUNT(DISTINCT "application_number") AS "Number_of_Applications"
FROM top_assignee_applications
WHERE TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD') IS NOT NULL
GROUP BY "Year"
ORDER BY "Number_of_Applications" DESC NULLS LAST
LIMIT 1;
The error information is:
 No data found for the specified query.

2025-01-19 00:01:58 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 00:01:58 - root - INFO - It appears that your original query did not return data because the `cpc` field might not contain entries starting with `'A61%'`, or the data in the `assignee_harmonized` field might not be as expected. To resolve this issue, we can use the `ipc` field instead of `cpc`, as the `ipc` field often contains the classification codes you're interested in.

Here is the adjusted SQL query using the `ipc` field:

```sql
WITH ipc_a61_applications AS (
  SELECT DISTINCT t."application_number"
  FROM PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."ipc") f
  WHERE f.value:"code"::STRING LIKE 'A61%'
),
assignee_applications AS (
  SELECT ia."application_number", ah.value:"name"::STRING AS "assignee_name", t."filing_date"
  FROM ipc_a61_applications ia
  JOIN PATENTS.PATENTS.PUBLICATIONS t ON ia."application_number" = t."application_number"
  , LATERAL FLATTEN(input => t."assignee_harmonized") ah
),
assignee_counts AS (
  SELECT "assignee_name", COUNT(DISTINCT "application_number") AS "application_count"
  FROM assignee_applications
  GROUP BY "assignee_name"
  ORDER BY "application_count" DESC
  LIMIT 1
),
top_assignee_applications AS (
  SELECT aa.*
  FROM assignee_applications aa
  JOIN assignee_counts ac ON aa."assignee_name" = ac."assignee_name"
)
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "Year",
       COUNT(DISTINCT "application_number") AS "Number_of_Applications"
FROM top_assignee_applications
WHERE "filing_date" IS NOT NULL
GROUP BY "Year"
ORDER BY "Number_of_Applications" DESC NULLS LAST
LIMIT 1;
```

**Explanation:**

- **Step 1:** We select applications with IPC codes starting with `'A61'`, which corresponds to medical or veterinary science; hygiene.

  ```sql
  WITH ipc_a61_applications AS (
    SELECT DISTINCT t."application_number"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE f.value:"code"::STRING LIKE 'A61%'
  ),
  ```

- **Step 2:** We retrieve the assignee names and filing dates for these applications by flattening the `assignee_harmonized` field.

  ```sql
  assignee_applications AS (
    SELECT ia."application_number", ah.value:"name"::STRING AS "assignee_name", t."filing_date"
    FROM ipc_a61_applications ia
    JOIN PATENTS.PATENTS.PUBLICATIONS t ON ia."application_number" = t."application_number"
    , LATERAL FLATTEN(input => t."assignee_harmonized") ah
  ),
  ```

- **Step 3:** We count the number of applications per assignee and identify the assignee with the most applications.

  ```sql
  assignee_counts AS (
    SELECT "assignee_name", COUNT(DISTINCT "application_number") AS "application_count"
    FROM assignee_applications
    GROUP BY "assignee_name"
    ORDER BY "application_count" DESC
    LIMIT 1
  ),
  ```

- **Step 4:** We extract all applications for the top assignee.

  ```sql
  top_assignee_applications AS (
    SELECT aa.*
    FROM assignee_applications aa
    JOIN assignee_counts ac ON aa."assignee_name" = ac."assignee_name"
  )
  ```

- **Step 5:** Finally, we determine the year in which the assignee filed the most applications.

  ```sql
  SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "Year",
         COUNT(DISTINCT "application_number") AS "Number_of_Applications"
  FROM top_assignee_applications
  WHERE "filing_date" IS NOT NULL
  GROUP BY "Year"
  ORDER BY "Number_of_Applications" DESC NULLS LAST
  LIMIT 1;
  ```

This query should provide the year in which the assignee with the most applications in the patent category `'A61'` filed the highest number of applications.

**Sample Output:**

Assuming the data is present, the output would look like:

```csv
Year,Number_of_Applications
2019,150
```

*Note: The actual numbers will depend on the data in your database.*

**Additional Tips:**

- Ensure that the `ipc` field contains the expected codes. If not, you might need to check other classification fields.
- Verify that the `assignee_harmonized` field has the correct structure and data.
- If you still encounter issues, consider inspecting the intermediate results of each CTE (Common Table Expression) to debug further.
2025-01-19 00:01:58 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 00:01:58 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 00:01:58 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 00:02:00 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 00:02:00 - snowflake.connector.connection - INFO - closed
2025-01-19 00:02:00 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 00:02:01 - root - INFO - itercount: 2
2025-01-19 00:02:01 - root - INFO - 0
2025-01-19 00:02:01 - root - INFO - results: 
Year,Number_of_Applications
1997,16


2025-01-19 00:02:01 - root - INFO - Please check the answer again by reviewing In which year did the assignee with the most applications in the patent category 'A61' file the most?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Year,Number_of_Applications
year:int,num:int(Attention: answer in one row)
```

The assignee with the most applications in the patent category 'A61' filed the highest number of applications in this year. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Year,Number_of_Applications
1997,16
Current sql:
WITH ipc_a61_applications AS (
  SELECT DISTINCT t."application_number"
  FROM PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."ipc") f
  WHERE f.value:"code"::STRING LIKE 'A61%'
),
assignee_applications AS (
  SELECT ia."application_number", ah.value:"name"::STRING AS "assignee_name", t."filing_date"
  FROM ipc_a61_applications ia
  JOIN PATENTS.PATENTS.PUBLICATIONS t ON ia."application_number" = t."application_number"
  , LATERAL FLATTEN(input => t."assignee_harmonized") ah
),
assignee_counts AS (
  SELECT "assignee_name", COUNT(DISTINCT "application_number") AS "application_count"
  FROM assignee_applications
  GROUP BY "assignee_name"
  ORDER BY "application_count" DESC
  LIMIT 1
),
top_assignee_applications AS (
  SELECT aa.*
  FROM assignee_applications aa
  JOIN assignee_counts ac ON aa."assignee_name" = ac."assignee_name"
)
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "Year",
       COUNT(DISTINCT "application_number") AS "Number_of_Applications"
FROM top_assignee_applications
WHERE "filing_date" IS NOT NULL
GROUP BY "Year"
ORDER BY "Number_of_Applications" DESC NULLS LAST
LIMIT 1;
2025-01-19 00:02:32 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 00:02:32 - root - INFO - ```sql
WITH ipc_a61_applications AS (
  SELECT DISTINCT t."application_number"
  FROM PATENTS.PATENTS.PUBLICATIONS t,
  LATERAL FLATTEN(input => t."ipc") f
  WHERE f.value:"code"::STRING LIKE 'A61%'
),
assignee_applications AS (
  SELECT ia."application_number", ah.value:"name"::STRING AS "assignee_name", t."filing_date"
  FROM ipc_a61_applications ia
  JOIN PATENTS.PATENTS.PUBLICATIONS t ON ia."application_number" = t."application_number"
  , LATERAL FLATTEN(input => t."assignee_harmonized") ah
),
assignee_counts AS (
  SELECT "assignee_name", COUNT(DISTINCT "application_number") AS "application_count"
  FROM assignee_applications
  GROUP BY "assignee_name"
  ORDER BY "application_count" DESC
  LIMIT 1
),
top_assignee_applications AS (
  SELECT aa.*
  FROM assignee_applications aa
  JOIN assignee_counts ac ON aa."assignee_name" = ac."assignee_name"
)
SELECT YEAR(TRY_TO_DATE(CAST("filing_date" AS VARCHAR), 'YYYYMMDD')) AS "Year",
       COUNT(DISTINCT "application_number") AS "Number_of_Applications"
FROM top_assignee_applications
WHERE "filing_date" IS NOT NULL
GROUP BY "Year"
ORDER BY "Number_of_Applications" DESC NULLS LAST
LIMIT 1;
```
2025-01-19 00:02:32 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 00:02:32 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 00:02:32 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 00:02:34 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 00:02:34 - snowflake.connector.connection - INFO - closed
2025-01-19 00:02:34 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 00:02:34 - root - INFO - itercount: 3
2025-01-19 00:02:34 - root - INFO - 0
2025-01-19 00:02:34 - root - INFO - Total iteration counts: 3
