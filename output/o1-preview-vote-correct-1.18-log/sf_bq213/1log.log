2025-01-19 03:10:12 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:11:17 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:11:17 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:17 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:17 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:19 - snowflake.connector.cursor - INFO - Number of results in first chunk: 93
2025-01-19 03:11:19 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:19 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:19 - root - INFO - SQL:
SELECT DISTINCT "country_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   LIMIT 1000;
Results:
country_code
TR
BG
DO
JP
HU
DZ
AT
HR
CO
SI
AR
KE
FI
DK
US
DD
PH
DE
MA
PE
UA
MW
IT
OA
CY
RS
LU
NL
CS
LV
MY
FR
SU
AU
CU
LT
KR
RO
NO
MD
PL
CR
JO
NI
CZ
HN
SV
CN
MC
RU
CA
SK
IS
GB
SG
IE
EA
ES
ZW
IN
EC
EP
ZA
CH
SA
MN
PT
CL
NZ
BR
ID
KZ
IL
TW
MT
BE
SE
AP
SM
ME
MX
EE
GE
HK
GT
TN
GR
EG
PA
WO
BA
YU
ZM

2025-01-19 03:11:19 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:19 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:19 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:20 - snowflake.connector.cursor - INFO - Number of results in first chunk: 9
2025-01-19 03:11:20 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:20 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:21 - root - INFO - SQL:
SELECT DISTINCT "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
Results:
kind_code
A2
P9
C1
A1
B1
B2
A
P1
A9

2025-01-19 03:11:21 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:21 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:21 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:22 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:22 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:22 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:22 - root - INFO - SQL:
SELECT DISTINCT "publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
Results:
Too long, hard cut:
publication_date
20210805
20240104
20080508
20070705
20081204
20100617
19080414
19340116
19301216
19581223
18970302
19280515
19231211
19721010
19520603
18860209
20110428
20080117
20200528
20190808
20031218
19131209
19070507
19480810
19410401
18790107
19400813
20131203
20020528
20220524
20141209
20030605
20010508
20070821
20120717
19150112
19561211
19691118
19410826
18771218
19750513
19660607
19710223
19550215
19370330
19700505
18790701
19810113
19811006
19271011
19400130
19430406
19700106
19431228
19760330
19680312
19780418
19280124
19960903
20230207
18860608
19100510
18930214
19560522
19130624
19270906
20030729
20020205
19320628
19240708
19630625
19041213
19290108
19230911
19530303
19990330
18630317
18860202
19951114
19830906
19971007
19070312
19510529
18820425
19890822
18751228
19201116
19150518
19800401
19640107
19620626
19790626
19831101
19930406
19210524
19390620
19330228
19020826
19120723
19480824
19030113
19060814
18860316
18950205
19030811
20090421
19650126
18820131
20030916
20050524
20041214
20041026
20050308
20031223
20210603
20240711
20231012
20031007
20040928
20221018
20061019
20080306
20090101
20090618
20110922
19391024
19441219
19510206
19220207
19300408
19440111
19710628
19020114
18810628
19711221
18940508
20240530
19680123
19140908
19210517
19360512
19410819
20030522
20100121
20020228
20021226
20180913
20151203
19520415
18600911
18631020
19440822
19711026
19310901
19751118
19590714
19440606
20150528
20171228
20210420
20240618
18900624
19950321
19521021
19331226
19540810
19310505
19190325
19960618
19431026
19221219
19910409
20111213
20110830
20080610
20131231
20200414
20210223
20190409
20240820
20230711
20210216
20040624
20160412
20131112
20190402
18840729
18951231
18940109
19431012
19650928
18810308
20201222
20240319
20230509
19130826
19080602
18850714
18930411
18810906
18780514
18980329
19180625
19620904
20040415
20020402
20031028
20120703
20041012
20001212
20170103
19540323
19540629
18591004
18820627
20000627
19840207
19900821
19750805
19871103
20061226
20160628
18740825
19970218
19221114
19281030
19310317
19010409
19020812
19710323
18841118
19550412
19111114
19801104
19980825
19210322
19161024
19780516
19890131
19640630
18930523
18991212
18931003
19760127
19790116
19800701
19860812
19870519
19941004
19970401
19090817
19520115
18870419
19610711
18870705
18761212
19990126
19030203
19121008
20171026
20180621
20200604
20210909
20211007
20030116
20041125
20050922
20221110
20240307
20240502
20230921
20020702
20121211
20221101
20230418
20180628
19510918
19541012
19661004
19030120
19750812
18640524
20190425
20011213
19480706
18780618
19621127
19690916
18830925
19220523
19700428
19630430
19551011
20100622
20150324
20161227
20050628
20080923
20141230
19360623
19400206
18880717
19720229
20150929
19740917
19470520
19270329
19720613
18860525
19660621
18820704
18680505
18681222
18811108
19821012
19180611
19670516
19920616
19861202
19800212
19470304
20070807
18640823
18920531
19171016
20001031
19991026
19550524
19211011
19910611
19851126
19080428
18830731
19341016
19380111
18880918
19501212
18820321
18590510
18820418
19860909
19890214
19891121
20091222
19260629
19031208
19690812
18440320
19851224
19810120
19140113
18970119
19111121
19200504
19250526
19861028
19980922
18820926
19610912
19820824
19900612
19991228
20190307
18711114
18810621
18941009
20060509
20110217
18790520
19120910
19211129
19150126
19120521
20160818
19140818
19001225
19321220
19460611
19001016
20120131
20061107
20110929
18961222
19480713
19920128
19600816
20051227
20051129
20090526
20090210
20070911
20141127
19061009
20220113
20240509
20021217
20060413
20070830
20090827
20110616
20150604
19531006
19501024
19591110
19621016
18850106
19260216
19320621
19680507
20120329
19140630
19560626
19460226
19700317
20040909
20080717
20081127
20111103
20150129
20170914
20200227
19380705
19710316
19550201
19270308
19130916
19750819
19680723
19570305
20190110
18800928
20110531
20020108
20060725
20160927
20190917
20200324
20230307
20010206
20011023
20030506
20100126
20120529
20230110
19510403
19441114
19030929
19700915
19651109
19560515
19380823
18870517
18881113
18910714
19180409
20001128
19771004
19920922
19641124
20230404
18690706
19070917
19670228
18880124
19360922
19060130
18841028
20091112
20010816
20110104
19970527
19980324
20160223
18810405
19131125
19580218
18960107
19000109
18551106
18731223
18890507
19730807
19351217
18900211
19201005
19651102
19970211
19710706
19330711
19870526
19870303
20090616
19090720
19201228
18800810
18391018
19870505
19890404
19940125
19500718
19780606
19840508
19971111
19950221
19550315
19310113
18770227
18950528
19860715
18760104
18760201
20120315
19570430
19460723
20110412
19780321
19080128
19151026
19150601
20170511
20190530
20191121
20190117
20210930
20211111
20020801
20051117
20080327
20091210
20090129
20150423
20100114
20231109
20240118
20200908
20090716
20191126
20220426
20240109
19401126
19720627
19580318
19170501
19251215
19370629
18840108
19730424
19720425
19520715
20120202
20150101
19690318
19590602
194711

2025-01-19 03:11:22 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:22 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:22 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:24 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:24 - root - INFO - SQL:
SELECT DISTINCT "publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 1000;
Results:
Too long, hard cut:
publication_date
20121127
20060829
20120911
20101228
20130312
20140520
20150915
20120807
20200901
20211130
20050830
20190319
20240709
20061128
20040120
20071030
20081028
20090303
20091229
20140318
20100309
20100914
20100504
20200225
20190716
20230131
20150526
20020709
20110927
20230919
20231031
20230829
20030415
20051122
20021119
20060523
20191015
20211123
20100427
20080527
20080624
20090331
20130514
20220322
20220215
20160426
20191022
20130604
20110419
20240702
20101019
20090203
20051101
20110503
20080318
20190205
20200512
20180918
20170228
20231003
20220329
20210427
20150609
20080122
20070206
20110913
20130917
20050906
20150519
20210803
20201110
20200915
20220628
20220125
20230214
20200804
20221115
20170314
20030225
20220823
20060502
20031021
20140415
20141223
20160920
20220712
20240227
20220705
20031202
20190101
20170509
20181023
20180925
20021210
20030902
20090310
20091006
20060613
20130226
20130430
20101116
20160809
20200922
20240326
20240213
20230321
20021105
20151006
20100518
20051025
20061205
20210629
20230613
20240102
20041116
20130625
20131105
20040106
20150203
20210119
20150303
20200114
20170117
20230103
20160712
20190723
20020205
20050524
20090421
20131203
20120717
20030916
20220524
20141209
20230207
20020528
20070821
20030729
20050308
20041026
20041214
20050125
20160315
20141111
20200218
20220111
20230808
20240806
20110816
20101012
20030701
20141125
20160301
20161108
20160126
20160524
20180821
20170404
20020917
20120515
20190507
20170418
20201215
20210525
20240903
20020212
20030513
20130326
20220419
20130423
20050208
20081007
20031014
20041207
20080226
20080101
20070327
20120403
20050726
20220118
20201117
20230704
20211102
20231024
20060516
20160830
20191203
20221220
20190416
20041102
20040113
20030610
20080729
20110719
20100420
20120724
20060530
20200609
20151215
20191008
20181002
20200505
20210720
20200825
20050809
20020924
20191112
20220531
20060822
20100928
20231212
20230314
20030114
20051213
20100511
20160405
20140211
20150630
20130528
20100727
20110628
20150217
20150707
20200421
20181204
20210316
20230725
20210608
20050503
20230425
20170214
20181113
20090929
20230926
20020716
20020910
20020423
20050201
20030304
20090505
20140401
20210713
20170124
20220719
20211228
20071113
20150512
20140610
20240123
20240507
20110301
20110111
20111108
20130129
20140527
20020409
20050329
20070828
20150120
20110705
20110614
20160517
20201208
20200317
20190108
20240514
20040831
20030211
20080108
20020319
20080923
20120131
20121211
20150324
20050628
20060509
20051129
20161227
20100622
20141230
20051227
20061107
20221101
20230418
20091222
20150929
20090210
20090526
20070807
20070911
20021112
20020312
20050920
20070612
20061010
20140729
20140513
20190528
20140204
20090818
20150127
20150901
20090901
20050104
20040914
20050412
20070116
20130709
20060328
20111115
20140909
20160531
20080415
20150811
20200908
20201229
20220426
20191126
20020806
20070130
20100302
20151013
20080325
20080617
20240109
20080916
20211214
20211207
20190326
20070522
20080520
20111101
20040810
20140218
20181106
20110315
20130730
20160614
20041123
20240305
20070109
20040330
20191210
20210413
20130820
20150421
20131001
20160503
20200121
20130402
20230801
20050301
20110208
20140121
20020416
20180828
20190129
20150106
20200623
20060228
20080805
20030819
20230411
20150414
20050621
20100608
20160816
20030121
20060404
20121120
20040302
20050322
20120110
20071009
20091110
20121204
20040601
20080715
20181225
20160726
20200616
20220920
20140902
20150728
20161011
20190813
20181211
20030708
20070724
20221213
20231107
20170110
20071204
20160823
20150825
20050215
20101214
20210928
20201124
20220809
20240220
20190625
20100216
20160802
20081202
20041109
20050405
20080422
20100112
20090714
20140812
20020507
20060704
20080708
20120605
20120228
20200721
20220927
20230124
20040406
20160913
20071016
20140304
20061121
20121218
20060425
20121023
20040127
20071225
20111018
20031230
20051004
20200818
20050607
20030715
20060801
20050816
20100330
20070320
20210810
20181009
20230912
20140617
20041019
20061031
20040309
20040622
20160419
20140930
20160621
20210504
20220906
20221004
20220222
20110621
20090811
20090407
20020326
20141104
20151117
20070213
20040907
20110222
20161213
20070731
20030805
20110809
20060124
20100615
20131029
20030624
20081223
20060606
20110322
20151222
20221011
20120904
20141202
20210817
20160119
20060808
20120710
20080506
20021001
20120320
20100601
20120124
20180731
20190514
20190820
20190423
20200630
20200303
20220405
20230328
20220816
20240430
20070710
20020604
20190122
20100202
20120619
20190312
20100413
20050802
20040824
20080909
20090324
20080212
20110308
20130716
20121030
20140826
20210831
20220726
20211221
20220104
20100629
20151103
20210727
20220621
20141014
20050111
20240813
20170207
20020813
20030429
20090414
20091013
20100525
20031216
20230228
20210914
20101207
20111004
20130924
20070227
20210406
20110215
20190924
20161115
20191001
20070703
20120626
20110712
20080603
20160112
20030909
20021022
20090519
20200929
20210615
20240528
202308

2025-01-19 03:11:24 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:26 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:26 - root - INFO - SQL:
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-8521396-B2,G06F19/00
US-9247876-B2,G02B7/09
US-9247876-B2,A61B3/00
US-9247876-B2,A61B3/14
US-9247876-B2,A61B3/12
US-9247876-B2,A61B3/10
US-8723487-B2,H02M1/42
US-8723487-B2,H02M7/02
US-9278232-B2,A61N5/06
US-8758938-B2,H01M4/13
US-8402104-B2,G06F15/16
US-8872639-B2,H04B3/58
US-8872639-B2,B60K35/00
US-8872639-B2,G06F3/01
US-8872639-B2,B60Q1/00
US-8872639-B2,G06F3/0481
US-8872639-B2,G02B27/01
US-9042220-B2,H04L12/937
US-9042220-B2,H04L12/931
US-9042220-B2,H04L12/863
US-9042220-B2,H04L12/861
US-9042220-B2,H04L12/869
US-9042220-B2,H04L12/26
US-9224188-B2,G06T7/00
US-9224188-B2,G06T3/00
US-8830357-B2,H04N23/75
US-8830357-B2,H04N5/262
US-8830357-B2,H04N5/76
US-8835171-B2,G01N33/92
US-8835171-B2,C12Q1/34
US-8835171-B2,G01N33/50
US-8816789-B2,H03B5/32
US-8909173-B2,H04B1/38
US-8909173-B2,H04M1/7243
US-8909173-B2,H04M1/72409
US-8903102-B2,H02B1/00
US-8903102-B2,H04R1/10
US-8802220-B2,B32B3/00
US-8928865-B2,G01C15/00
US-8928865-B2,G01C15/02
US-8928865-B2,G01S17/34
US-8928865-B2,G01S17/89
US-8911410-B2,A61M37/00
US-8911410-B2,A61M5/20
US-8911410-B2,A61M5/32
US-8848411-B2,G11C15/04
US-9652521-B2,G06F7/00
US-9652521-B2,G06F17/30
US-8643321-B2,H02P7/00
US-8643321-B2,H02H7/085
US-9376833-B2,E05B1/00
US-9376833-B2,A61L2/18
US-9376833-B2,A61L2/10
US-9376833-B2,E05B63/00
US-8518364-B2,C01G47/00
US-8518364-B2,C01G35/00
US-8518364-B2,C01G41/00
US-8518364-B2,C01G39/06
US-8518364-B2,C01G55/00
US-8518364-B2,C01G27/00
US-8615244-B2,H04W24/10
US-8842047-B2,H01Q5/321
US-8842047-B2,H01Q5/328
US-8842047-B2,H01Q1/38
US-8842047-B2,H01Q9/04
US-8815122-B2,C09K11/08
US-8815122-B2,C09K11/77
US-9052538-B2,G09G3/36
US-9052538-B2,G02F1/133
US-9052538-B2,G09G5/00
US-8856234-B2,G06F17/30
US-8856234-B2,H04L29/06
US-8856234-B2,G06F15/16
US-8856234-B2,G06F17/24
US-9211492-B2,C04B38/00
US-9211492-B2,C04B41/00
US-9211492-B2,F01M13/04
US-9211492-B2,B01D45/08
US-9593581-B2,F01D5/02
US-9593581-B2,F01D11/02
US-9292737-B2,G06Q20/04
US-9292737-B2,G06V30/40
US-9292737-B2,G06V30/10
US-9292737-B2,G06V30/224
US-9342526-B2,G06F7/00
US-9342526-B2,G06F17/30
US-9342526-B2,G06F9/50
US-9342526-B2,G06F3/06
US-8939137-B2,F41B5/22
US-8939137-B2,F41B5/14
US-9047554-B2,G06K15/02
US-9047554-B2,G06F3/12
US-9047554-B2,G06T11/60
US-9047554-B2,G06T11/00
US-9088106-B2,H01R24/64
US-9088106-B2,H05K1/02
US-9088106-B2,H05K1/11
US-9088106-B2,H01R13/6466
US-9088106-B2,H05K1/14
US-8737388-B2,H04L12/56
US-9323683-B2,G06F12/08
US-9323683-B2,G06F11/34
US-9323683-B2,G06F12/02
US-9323683-B2,G06F11/20
US-9323683-B2,G06F11/10
US-8878121-B2,H04N25/00
US-8878121-B2,H01L27/146
US-8878121-B2,H01L31/00
US-8878121-B2,H01L27/148
US-8995452-B2,H04L12/46
US-8995452-B2,H04L12/28
US-8995452-B2,H04L45/58
US-9218976-B2,H01L21/4763
US-9218976-B2,H01L21/3205
US-9218976-B2,H01L21/28
US-9218976-B2,H01L21/8238
US-9218976-B2,H01L29/66
US-9218976-B2,H01L29/49
US-9437584-B2,B81C1/00
US-9437584-B2,H01L23/34
US-9437584-B2,H01L25/065
US-9437584-B2,H01L25/16
US-9437584-B2,H01L25/11
US-9437584-B2,H01L23/40
US-9437584-B2,H01L25/04
US-9482626-B2,G01R27/04
US-9482626-B2,G01N22/00
US-9482626-B2,G01N22/02
US-9482626-B2,G01R27/32
US-8894288-B2,B64C27/12
US-8894288-B2,B64D33/08
US-8894288-B2,F16C33/66
US-8894288-B2,B64D13/08
US-8894288-B2,F16C37/00
US-11031602-B2,H01M50/503
US-11031602-B2,H01M50/531
US-11031602-B2,B60L50/64
US-11031602-B2,H01M4/70
US-11031602-B2,H01M50/543
US-11031602-B2,H01M50/55
US-9649467-B2,A61M16/10
US-9649467-B2,C01B21/24
US-9649467-B2,A61M16/12
US-9649467-B2,A61M16/06
US-9649467-B2,A61M15/08
US-9649467-B2,B01D53/00
US-9649467-B2,A61M15/00
US-9522418-B2,B21B35/00
US-9522418-B2,B21B31/02
US-9522418-B2,B21B13/06
US-9522418-B2,B21B1/088
US-9522418-B2,B21B1/08
US-9522418-B2,B21B45/02
US-9522418-B2,B21D1/02
US-10109894-B2,H01M10/6565
US-10109894-B2,H01M10/6556
US-10109894-B2,H01M10/663
US-10109894-B2,H01M10/647
US-10109894-B2,H01M10/615
US-10109894-B2,H01M10/613
US-10109894-B2,H01M10/60
US-10109894-B2,H01M10/6571
US-10109894-B2,H01M10/625
US-10109894-B2,B60K1/04
US-10109894-B2,H01M10/6562
US-10109894-B2,H01M50/271
US-10109894-B2,H01M50/249
US-10109894-B2,H01M50/209
US-9374093-B2,H03K3/00
US-9374093-B2,H03K19/0185
US-9374093-B2,H03B1/00
US-9200455-B2,E04F13/08
US-9200455-B2,E04F13/06
US-9200455-B2,E04D13/04
US-9200455-B2,E04C2/38
US-9200455-B2,E04F19/06
US-9344086-B2,H03K5/08
US-9344086-B2,H03K19/00
US-9344086-B2,H03K5/24
US-9151039-B2,E04B1/70
US-9151039-B2,E04B1/66
US-8918251-B2,B60R16/023
US-8918251-B2,B60R25/00
US-8918251-B2,B60R25/04
US-9408896-B2,A61K39/00
US-9084802-B2,A61K9/00
US-9084802-B2,A61K31/21
US-9084802-B2,A01N47/00
US-9084802-B2,A61K31/65
US-9084802-B2,A61K47/02
US-10030011-B2,C07D417/12
US-10030011-B2,A61K31/437
US-10030011-B2,A61K31/428
US-10030011-B2,C07D471/04
US-10030011-B2,A61K31/4188
US-10030011-B2,C07D513/04
US-10030011-B2,C07D417/14
US-10030011-B2,A61K31/4168
US-10030011-B2,C07D235/30
US-9124016-B2,H01R13/422
US-9124016-B2,H01R13/506
US-9124016-B2,H01R13/52
US-9124016-B2,H01R31/08
US-10823164-B2,F04B43/02
US-10823164-B2,F04B43/04
US-10823164-B2,F04B4

2025-01-19 03:11:26 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:27 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:27 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:28 - root - INFO - SQL:
SELECT DISTINCT f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Results:
Too long, hard cut:
ipc_code
G06Q10/10
B29C45/14
F16K31/06
C07D263/48
B01D33/39
A61Q5/00
D06F39/08
H01L21/00
H04Q3/00
B64C13/30
B05B12/12
A61K31/165
H01L23/02
C12N15/29
H04W28/26
H01M8/124
C09D11/52
B65H3/34
H04W88/00
B21D22/06
C07D491/056
H01L21/761
F04C15/00
F01D25/12
G06F1/12
H04L47/76
H04B10/2513
F01C21/10
A44C9/02
F16B5/06
A61M60/82
B30B3/04
H01L21/477
H01M50/213
G11C11/4076
H01L25/065
A61B3/14
G01N22/00
H01M10/647
G06T3/00
H03K19/00
G06F17/10
A61K47/02
C08B37/00
G01N30/02
G10K11/168
A01K67/00
F02B19/02
A61B90/30
B65D88/02
A01J5/017
C07K14/485
B01D71/02
C08F220/68
A46B9/04
C09D175/04
A61F2/08
G03G5/06
C12Q1/6883
A61K35/74
G09F9/00
C22C38/42
H02M3/158
A61B1/32
H01L29/739
H04B7/0413
A61B90/14
A61L2/20
D01F9/22
C09D11/08
B23Q5/10
H01M4/485
B23B3/22
F28F3/12
G21C13/024
B01D36/00
C12C13/10
C08J3/21
B64G1/28
G02B15/177
B01J35/00
G05B17/02
E21B43/16
A01N43/06
H04L65/612
B42C1/00
H04W68/00
G01S5/16
E01B9/42
G06F16/435
B22F10/80
B42B5/12
A61K47/08
B22F10/00
G01S3/36
F23Q9/14
C07K14/395
F21Y103/00
F24F8/192
C04B103/00
G01R33/34
G01T3/08
C09K8/487
C07C29/50
C23C22/80
A61K8/9794
F15B21/14
G06F9/45
H01M8/1007
E02B3/02
G01B11/02
B60K11/08
H04B10/17
E06B7/09
H01R33/00
G01R31/3187
B60R21/215
C23C16/34
F04D29/051
H01M4/68
E05B79/10
G01N23/083
C08G77/34
B60K3/04
C07D413/10
H04L47/6275
E04D13/08
H04B10/2525
A63B21/002
G11B20/10
H04N21/8358
C12N15/49
C12N15/12
C12N15/19
A61K36/284
B01J47/022
C10B15/02
C22B58/00
F02D41/02
G01S3/783
A63F13/88
A61K36/804
C02F103/02
G01T1/167
G03B15/00
H01Q9/30
G02F1/313
F16L33/02
B60T1/06
F01P5/04
C06B47/00
H04N21/2543
F21K9/90
C25D21/18
F01M11/10
A63F1/18
C22F1/04
F16H48/26
C11D1/62
G01B7/28
G03C5/00
B60L53/12
A47L11/24
B01D47/05
B29C63/00
H01L31/101
F27B15/09
B60R16/04
B29C70/30
A61K33/22
B25C1/06
G06F30/39
G01S11/00
C07C215/60
H01M50/426
B23K37/053
G01R22/06
A23J3/14
H02K33/10
B04B7/06
H01G11/56
C25B13/02
A61M60/135
H01J49/26
G11B5/596
A23J7/00
A42B1/06
B26D5/00
F04D29/08
C08F220/16
A41F1/00
F16H37/04
F04C2/16
G06F16/9035
H03D7/16
H01M50/529
A61K31/421
B65D85/68
A61K31/395
F02B75/22
B65D47/36
G03C1/494
G01S1/02
D04H1/4391
H02K41/03
E05B81/14
C07D307/45
G11B15/46
G11B19/26
G05B11/32
B29C45/82
C08L23/04
C07K5/10
B05D1/38
C07C29/147
H01P3/02
H04M1/72418
B29C44/04
A61P3/14
F16C33/72
H01C1/148
F02B43/04
F24F1/46
C07D471/18
A61B17/225
G06V10/26
H04N21/237
C08K5/25
H10N35/00
G06Q50/34
A61B5/38
B23P21/00
A46B13/04
B63H9/061
C07D213/86
A23B4/052
B23K37/08
F25B21/00
A43C11/16
B60T8/38
H04L47/27
F02B37/10
H01R13/6592
C08L13/00
C10B53/02
C12P7/22
H01J37/147
H01J61/40
G08B1/00
A24D1/02
C03B9/24
B24B37/30
D06M11/47
F27D3/10
G21K4/00
G11B5/58
B62M6/40
A61B90/00
G02C7/02
B60W10/06
H04W4/24
H04L27/38
G01N30/88
G06F13/20
B22F3/24
H01L25/16
F25B30/06
H04B1/02
A61B5/296
B29K105/00
B29C41/02
A61F2/958
F21W107/00
A61G7/057
H04L9/08
H02K11/33
B29C64/188
H01L27/08
G06K9/22
F02C9/28
H04W28/08
H04L12/931
G02B27/10
C07D215/48
H04W72/54
G06T3/40
G01J3/26
G06F3/0489
C09K11/08
B64D33/08
A61K31/4188
H01L31/00
H01M50/543
H01M10/60
A61F2/46
H04W74/00
A23C11/10
F24C7/06
H04L12/803
H04L12/753
H01L27/144
B01D11/04
H02H9/00
G06F16/51
H10B51/10
C08G63/183
F04B35/04
A61P27/04
H02N2/00
C10N40/30
H04N19/91
A01H6/14
G09F3/02
G02F1/1345
H04M11/02
A61C9/00
H03M13/11
A61N1/37
H10B41/41
H01Q25/04
H01Q21/00
G02B7/02
A61P35/02
B41F13/00
C21C7/076
F01C20/18
F01C1/24
A61K31/497
G01R11/32
F24F11/84
B05B12/02
G06F16/53
C08J5/00
B29C33/58
H04R5/04
G01R33/36
H04L47/20
F26B5/06
H01L21/263
C10M159/00
A61B17/122
A01N43/70
H03K7/02
B30B11/00
F21V7/00
A47G19/22
G02B1/00
H03K17/08
H03K17/10
A61M60/861
C08F110/06
G01N21/17
G02B6/00
B05B11/00
B64F1/32
B07B1/46
G06K5/00
B65D43/12
A01G23/099
B01J23/56
H03M7/40
H04N19/00
A47B81/06
B60Q1/18
B29C44/34
H01J7/24
H03G5/00
G01B11/10
G03B11/04
C09K19/20
H04B10/112
C08F120/12
G01L1/24
H04N19/88
E21B10/16
B23K101/12
H01R9/18
A61K9/127
C02F103/18
A61L24/06
C12C7/047
H03F1/32
G05F1/70
F16H57/05
C12Q1/44
E04D3/30
H05B45/48
B29C64/118
A61J1/10
C09J163/10
G06F13/32
H03K17/689
A43B21/26
G06F12/0811
H01J49/10
G01J3/51
B41F9/00
G06F1/3212
C12Q1/6874
F42B12/46
E02B11/00
E05B85/10
B66B19/00
B23K1/20
G06F1/3225
G06V10/28
H03K17/04
C07J71/00
B01D46/26
F16D3/20
C09C3/08
B23Q3/06
B62K5/05
C09J133/08
G01N23/201
F24D3/18
H01M50/598
E05D11/10
G01N37/00
C23C14/00
F02B37/16
B65G37/02
B02C18/22
F16C33/36
H04N21/8545
A63C17/01
C22B3/22
H02K33/12
B65D43/16
H04N5/3745
E21B44/04
B24D13/14
G11B23/30
F22B37/32
F02F1/36
F21V21/08
G11B5/035
C08F8/14
H01C7/12
F41C23/02
G21K1/04
C25B1/04
F15B15/20
C07D277/68
H01B17/60
F16J15/447
B21F1/00
H01F1/16
H01L23/64
H01F1/12
G07F17/16
F16G11/00
H01M50/528
H01J37/302
B41F31/08
G02B6/132
D06F58/28
B60J11/00
F21V29/508
G11C16/12
D01D5/253
B62K21/04
H03L7/183
H02M3/18
E05C9/12
H01Q5/364
F16H55/30
F25D3/02
C07C233/02
G09F5/00
B66C23/84
H01L29/68
F16N31/00
D06F71/36
E02F9/06
E02D19/00
E05F11/38
D04H1/492
E03F9/00
H01G4/018
H04W92/24
B61F5/28
G01F11/02
B01D21/34
B23K9/167
B08B3/06
C08K5/357
C03B19/08
B01D45/00
C08F14/14
G04G21/00
G02B30/10
C07D209/40
F02D41/18
F42D1/05
H01L29/92
H01B5/14
B60K6/543
C08F210/08
G01S19/23
C09J131/

2025-01-19 03:11:28 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:29 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:29 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:51 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:11:51 - root - INFO - It appears there's a small syntax error in your SQL query causing the compilation error. Specifically:

1. **Missing closing single quote `'`**: In your `WHERE` clause, the string `'B2"` has an opening single quote but a closing double quote. It should be `'B2'`.

2. **Unnecessary `::VARIANT` casting**: Since `f.value` is already of type `VARIANT`, you don't need to cast it again before accessing its fields.

3. **Syntax for accessing keys in a VARIANT**: When extracting values from a `VARIANT` column in Snowflake, you should use the colon `:` notation directly on the `VARIANT` without additional casting.

Here is the corrected SQL query:

```sql
SELECT 
    t."publication_number", 
    f.value:"code"::STRING AS "ipc_code"
FROM 
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE 
    t."country_code" = 'US' 
    AND t."kind_code" = 'B2'
    AND f.value:"first"::BOOLEAN = TRUE
LIMIT 1000;
```

**Explanation:**

- **Corrected Quotes**: Changed `"B2"` to `'B2'` in the `WHERE` clause.
- **Accessing VARIANT Fields**: Used `f.value:"code"::STRING` to extract the `"code"` field from the JSON object.
- **Checking the "first" Field**: Used `f.value:"first"::BOOLEAN = TRUE` to filter only the main IPC codes.

This query should now run without the syntax error.
2025-01-19 03:11:51 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:51 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:51 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:52 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:52 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:52 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:53 - root - INFO - SQL:
SELECT 
    t."publication_number", 
    f.value:"code"::STRING AS "ipc_code"
FROM 
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE 
    t."country_code" = 'US' 
    AND t."kind_code" = 'B2'
    AND f.value:"first"::BOOLEAN = TRUE
LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-8210142-B2,F01L1/34
US-8338035-B2,H01M2/16
US-8609829-B2,C07H21/04
US-8240274-B2,A01K1/03
US-8904292-B2,G06F3/00
US-8480325-B2,A46B9/08
US-9028758-B2,G01N33/22
US-8462223-B2,H04N23/40
US-7944609-B2,G02B21/00
US-10236950-B2,H04B7/0417
US-8733262-B2,D05B87/00
US-8248448-B2,H04M11/00
US-8590235-B2,E04F17/00
US-8086194-B2,H04B1/06
US-8086194-B2,H04J11/00
US-8587485-B2,H01Q1/24
US-8383945-B2,H02G15/02
US-8246716-B2,C21C7/076
US-8915088-B2,F02C7/22
US-8644322-B2,H04L12/56
US-8967144-B2,A61M16/00
US-8500357-B2,F16B7/02
US-8480874-B2,G01N27/453
US-8707381-B2,H04N7/173
US-9038000-B2,G06F17/24
US-8777568-B2,F01D5/18
US-8349603-B2,C12M1/34
US-8508509-B2,G06F3/042
US-9144476-B2,A46B13/02
US-8739403-B2,H01R43/00
US-8381946-B2,B65D43/22
US-8573754-B2,B41J2/16
US-8573754-B2,B41J2/045
US-8950264-B2,G01M7/02
US-8421224-B2,G06K19/077
US-8574791-B2,H01M8/12
US-8700341-B2,G16B20/20
US-8700341-B2,G01N33/48
US-8328111-B2,E01B23/00
US-9169572-B2,H01M8/06
US-8554928-B2,H04L45/122
US-8554928-B2,G06F15/16
US-8560474-B2,G06N5/00
US-8768237-B2,G03G15/00
US-8704641-B2,H04Q5/22
US-9089610-B2,A61K47/48
US-8830213-B2,G06F3/038
US-8751177-B2,G06F19/00
US-8523936-B2,A61F2/06
US-8619133-B2,H04N7/18
US-8806065-B2,G06F15/16
US-8385941-B2,H04W24/00
US-8672784-B2,A63B41/00
US-8790422-B2,C10L1/10
US-8630165-B2,G01R31/08
US-8638032-B2,H01J1/62
US-9106878-B2,G09G5/02
US-9028530-B2,A61B17/04
US-8648178-B2,C07K14/51
US-8653433-B2,H03G3/20
US-8486813-B2,H01L21/322
US-8497217-B2,H01L21/205
US-8628835-B2,A61F2/66
US-8905204-B2,F16D51/00
US-8897303-B2,H04L12/28
US-8572200-B2,G06F15/16
US-8521013-B2,H05B3/62
US-9329365-B2,G02B13/14
US-8893348-B2,B60S1/38
US-8903697-B2,G06F17/50
US-8830758-B2,G11C7/06
US-8851114-B2,F16L37/32
US-9040017-B2,A61K51/04
US-8893136-B2,G06F9/46
US-8745158-B2,G06F15/16
US-8229217-B2,H04N23/12
US-8229217-B2,G06K9/00
US-8731418-B2,G03G15/00
US-9505537-B2,B65B3/26
US-8967952-B2,F01B25/02
US-8560532-B2,G06F7/00
US-8864258-B2,B41J29/38
US-8527532-B2,G06F17/30
US-8966958-B2,G01N15/10
US-8651274-B2,B65D73/00
US-9047835-B2,G09G5/10
US-8770955-B2,F01C1/18
US-9009284-B2,G06F15/173
US-9181436-B2,A61K8/02
US-9152566-B2,G06F12/08
US-8726214-B2,G06F17/50
US-8830177-B2,G09G5/00
US-9276150-B2,C08L83/04
US-8599051-B2,H03M1/06
US-9002672-B2,G01D18/00
US-8570796-B2,G11C11/00
US-8484114-B2,G06Q40/00
US-8902586-B2,H05K5/00
US-8804390-B2,H02M7/44
US-8905370-B2,F16M13/00
US-10748170-B2,G06Q30/00
US-8882161-B2,E05C3/16
US-9053245-B2,G06F11/00
US-9309435-B2,C09D133/00
US-8659067-B2,H01L29/76
US-8981843-B2,G05F1/12
US-8920395-B2,A61M1/00
US-9004917-B2,A61C19/045
US-9317982-B2,H04Q1/00
US-9150444-B2,C02F3/00
US-9103795-B2,G01N21/00
US-8883715-B2,A61K31/00
US-8883715-B2,A61K9/08
US-9083005-B2,H01L21/00
US-9265617-B2,A61F2/44
US-9157667-B2,F25B7/00
US-9288612-B2,H04W92/18
US-9288612-B2,H04W4/80
US-8830752-B2,G11C16/04
US-8957450-B2,H01L33/62
US-8967362-B2,G07F9/00
US-9438017-B2,H02G3/08
US-8862330-B2,A01B69/00
US-9169941-B2,F16K31/06
US-10284859-B2,H04N7/12
US-9466599-B2,H02H9/00
US-8856379-B2,G06F15/16
US-9091060-B2,E04B1/86
US-9087841-B2,H01L23/52
US-10959775-B2,A61B18/14
US-9156164-B2,B25J9/16
US-9256652-B2,G06F17/30
US-9244073-B2,G01N33/53
US-9316812-B2,G02B3/02
US-9514786-B2,G06T11/20
US-9449376-B2,G06K9/34
US-8933415-B2,G21K5/04
US-9469007-B2,B24B23/02
US-9459437-B2,G02B21/20
US-10328238-B2,A61B18/00
US-9245396-B2,G08B1/08
US-10597993-B2,E21B43/38
US-9167430-B2,G06F7/04
US-9354613-B2,G04G9/02
US-8956998-B2,A01N43/36
US-9424108-B2,G06F3/00
US-9384860-B2,G11C7/00
US-9254730-B2,B60J5/04
US-9342879-B2,G06K9/00
US-9088091-B2,H01R13/58
US-9223221-B2,H01L21/461
US-9365566-B2,C07D471/04
US-10281986-B2,G06F3/01
US-10807121-B2,B05D3/04
US-9496997-B2,H04L5/00
US-10155792-B2,C07K14/195
US-8942488-B2,G06K9/62
US-9419066-B2,H05B33/26
US-9419066-B2,H10K99/00
US-9299147-B2,G06K9/32
US-9599587-B2,G11C16/04
US-9150564-B2,A61K31/54
US-10116022-B2,H01M12/08
US-9064653-B2,H01H5/18
US-9165600-B2,G11B5/584
US-9361055-B2,G06F3/12
US-9428653-B2,C09D4/00
US-9625558-B2,G01R11/32
US-10105711-B2,B07B7/08
US-9536693-B2,H01H7/08
US-10130893-B2,A63H33/08
US-10282491-B2,G06F17/50
US-10568778-B2,A61F13/42
US-10073951-B2,G06F19/00
US-10507419-B2,B01D33/073
US-10122318-B2,G05B15/00
US-10359209-B2,F24F11/30
US-9346656-B2,B66C13/06
US-10059084-B2,B32B5/16
US-9274095-B2,G06K9/00
US-9427641-B2,G06F19/00
US-10588576-B2,A61N2/00
US-10569071-B2,A61M37/00
US-10562654-B2,B65B29/02
US-10119947-B2,G01N33/00
US-10814225-B2,A63F13/426
US-10294784-B2,E21B49/08
US-10152693-B2,G06Q10/10
US-9451817-B2,H04M1/00
US-10114692-B2,H03M13/37
US-10306320-B2,H04N21/472
US-10402122-B2,G06F3/06
US-10351411-B2,B67D1/00
US-10611098-B2,B29C48/30
US-10611098-B2,B29C67/00
US-10153723-B2,H02S10/30
US-10234639-B2,G02B6/38
US-10148977-B2,H04N19/513
US-9499521-B2,C07D233/78
US-10201799-B2,B01J19/32
US-10375190-B2,G06F15/16
US-10614229-B2,G06F21/60
US-11002493-B2,F28D20/02
US-10172339-B2,A01K97/06
US-10820990-B2,A61F2/24
US-11383851-B2,B64D31/04
US-10392991-B2,F01N3/20
US-10884008-B2,B01L3/00
US

2025-01-19 03:11:53 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:53 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:53 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:54 - snowflake.connector.cursor - INFO - Number of results in first chunk: 201
2025-01-19 03:11:54 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:54 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:55 - root - INFO - SQL:
SELECT t."publication_number", t."publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS t
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   AND t."publication_date" BETWEEN 20220601 AND 20220831
   LIMIT 1000;
Results:
publication_number,publication_date
US-11404853-B2,20220802
US-11373466-B2,20220628
US-11382705-B2,20220712
US-11397148-B2,20220726
US-11394231-B2,20220719
US-11408811-B2,20220809
US-11416022-B2,20220816
US-11393239-B2,20220719
US-11353091-B2,20220607
US-11372255-B2,20220628
US-11383851-B2,20220712
US-11396572-B2,20220726
US-11407017-B2,20220809
US-11360542-B2,20220614
US-11379962-B2,20220705
US-11370724-B2,20220628
US-11416001-B2,20220816
US-11396732-B2,20220726
US-11374026-B2,20220628
US-11369217-B2,20220628
US-11407829-B2,20220809
US-11399950-B2,20220802
US-11381283-B2,20220705
US-11409410-B2,20220809
US-11412923-B2,20220816
US-11384000-B2,20220712
US-11369714-B2,20220628
US-11373467-B2,20220628
US-11407174-B2,20220809
US-11376718-B2,20220705
US-11427279-B2,20220830
US-11424341-B2,20220823
US-11379973-B2,20220705
US-11428135-B2,20220830
US-11407366-B2,20220809
US-11377840-B2,20220705
US-11388258-B2,20220712
US-11375403-B2,20220628
US-11363222-B2,20220614
US-11380354-B2,20220705
US-11392814-B2,20220719
US-11396158-B2,20220726
US-11431960-B2,20220830
US-11368189-B2,20220621
US-11408566-B2,20220809
US-11386539-B2,20220712
US-11389955-B2,20220719
US-11368762-B2,20220621
US-11375960-B2,20220705
US-11404307-B2,20220802
US-11407307-B2,20220809
US-11410365-B2,20220809
US-11386741-B2,20220712
US-11370085-B2,20220628
US-11385163-B2,20220712
US-11391553-B2,20220719
US-11430607-B2,20220830
US-11381650-B2,20220705
US-11394671-B2,20220719
US-11381908-B2,20220705
US-11400796-B2,20220802
US-11405983-B2,20220802
US-11364337-B2,20220621
US-11407574-B2,20220809
US-11393841-B2,20220719
US-11417842-B2,20220816
US-11375809-B2,20220705
US-11385961-B2,20220712
US-11386886-B2,20220712
US-11352686-B2,20220607
US-11352465-B2,20220607
US-11391059-B2,20220719
US-11380765-B2,20220705
US-11376319-B2,20220705
US-11367437-B2,20220621
US-11428911-B2,20220830
US-11422364-B2,20220823
US-11398593-B2,20220726
US-11384177-B2,20220712
US-11354261-B2,20220607
US-11396939-B2,20220726
US-11401845-B2,20220802
US-11365041-B2,20220621
US-11418715-B2,20220816
US-11382018-B2,20220705
US-11412960-B2,20220816
US-11351355-B2,20220607
US-11364500-B2,20220621
US-11396506-B2,20220726
US-11386278-B2,20220712
US-11372388-B2,20220628
US-11374644-B2,20220628
US-11387209-B2,20220712
US-11428067-B2,20220830
US-11418602-B2,20220816
US-11357437-B2,20220614
US-11376346-B2,20220705
US-11376070-B2,20220705
US-11352335-B2,20220607
US-11401923-B2,20220802
US-11430204-B2,20220830
US-11376885-B2,20220705
US-11372439-B2,20220628
US-11401219-B2,20220802
US-11392816-B2,20220719
US-11363375-B2,20220614
US-11419318-B2,20220823
US-11371080-B2,20220628
US-11429930-B2,20220830
US-11402589-B2,20220802
US-11356221-B2,20220607
US-11382847-B2,20220712
US-11407172-B2,20220809
US-11400006-B2,20220802
US-11391070-B2,20220719
US-11407775-B2,20220809
US-11422371-B2,20220823
US-11354278-B2,20220607
US-11390055-B2,20220719
US-11382363-B2,20220712
US-11401234-B2,20220802
US-11400486-B2,20220802
US-11397228-B2,20220726
US-11353321-B2,20220607
US-11363536-B2,20220614
US-11400138-B2,20220802
US-11393967-B2,20220719
US-11353839-B2,20220607
US-11423539-B2,20220823
US-11388673-B2,20220712
US-11398087-B2,20220726
US-11424563-B2,20220823
US-11375590-B2,20220628
US-11421473-B2,20220823
US-11421276-B2,20220823
US-11414872-B2,20220816
US-11378383-B2,20220705
US-11401428-B2,20220802
US-11422402-B2,20220823
US-11410148-B2,20220809
US-11409969-B2,20220809
US-11374640-B2,20220628
US-11352902-B2,20220607
US-11389834-B2,20220719
US-11351045-B2,20220607
US-11392648-B2,20220719
US-11395931-B2,20220726
US-11410444-B2,20220809
US-11424884-B2,20220823
US-11422523-B2,20220823
US-11420401-B2,20220823
US-11360211-B2,20220614
US-11398338-B2,20220726
US-11412422-B2,20220809
US-11354655-B2,20220607
US-11387213-B2,20220712
US-11375479-B2,20220628
US-11405208-B2,20220802
US-11420656-B2,20220823
US-11378746-B2,20220705
US-11375241-B2,20220628
US-11380566-B2,20220705
US-11416699-B2,20220816
US-11412231-B2,20220809
US-11412974-B2,20220816
US-11423376-B2,20220823
US-11363813-B2,20220621
US-11426634-B2,20220830
US-11365729-B2,20220621
US-11419647-B2,20220823
US-11375912-B2,20220705
US-11416109-B2,20220816
US-11376109-B2,20220705
US-11393351-B2,20220719
US-11406832-B2,20220809
US-11379726-B2,20220705
US-11426701-B2,20220830
US-11430084-B2,20220830
US-11421980-B2,20220823
US-11374056-B2,20220628
US-11382760-B2,20220712
US-11413710-B2,20220816
US-11387621-B2,20220712
US-11373280-B2,20220628
US-11423146-B2,20220823
US-11400365-B2,20220802
US-11411015-B2,20220809
US-11373404-B2,20220628
US-11421011-B2,20220823
US-11384463-B2,20220712
US-11413537-B2,20220816
US-11414016-B2,20220816
US-11415428-B2,20220816
US-11374401-B2,20220628
US-11397326-B2,20220726
US-11406524-B2,20220809
US-11390722-B2,20220719
US-11389656-B2,20220719
US-11374186-B2,20220628
US-11369979-B2,20220628
US-11391381-B2,20220719

2025-01-19 03:11:55 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:55 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:55 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:56 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:56 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:56 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:56 - root - INFO - SQL:
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   AND t."publication_date" BETWEEN 20220601 AND 20220831
   LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-11389955-B2,F15B9/09
US-11389955-B2,B25J9/16
US-11389955-B2,B25J15/02
US-11389955-B2,F15B15/10
US-11389955-B2,G06F17/00
US-11389955-B2,B25J9/14
US-11389955-B2,B25J15/00
US-11389955-B2,F15B15/14
US-11389955-B2,F15B13/04
US-11368762-B2,H04N21/81
US-11368762-B2,H04N21/24
US-11368762-B2,G06V10/764
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/06
US-11375960-B2,A61B5/00
US-11375960-B2,A61B5/11
US-11404307-B2,H01L23/00
US-11404307-B2,H04B1/40
US-11404307-B2,H01L23/528
US-11404307-B2,H01L21/768
US-11404307-B2,H01L23/535
US-11407307-B2,B60K17/02
US-11407307-B2,B60K17/16
US-11407307-B2,B60K23/04
US-11407307-B2,F16H48/36
US-11407307-B2,B60K1/02
US-11410365-B2,G06F3/0482
US-11410365-B2,G06T7/20
US-11410365-B2,G06T13/40
US-11410365-B2,G06F3/04845
US-11410365-B2,G06T7/70
US-11410365-B2,G06T7/194
US-11410365-B2,G06T19/00
US-11386741-B2,G07F17/34
US-11386741-B2,G06T7/80
US-11386741-B2,G07F17/32
US-11386741-B2,G06T7/73
US-11370085-B2,B24C3/06
US-11370085-B2,B24C3/32
US-11370085-B2,B24C9/00
US-11370085-B2,B24C7/00
US-11370085-B2,B24C3/22
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,B23D77/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/012
US-11430607-B2,H01G2/06
US-11430607-B2,H01G4/008
US-11430607-B2,H01G4/232
US-11430607-B2,H01G4/228
US-11430607-B2,H01G4/12
US-11430607-B2,H01G4/248
US-11430607-B2,H01G4/30
US-11368189-B2,G06F21/60
US-11368189-B2,H04W12/041
US-11368189-B2,H04W12/06
US-11368189-B2,H04L9/08
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11408566-B2,E21B47/06
US-11408566-B2,E21B43/01
US-11408566-B2,E21B34/00
US-11408566-B2,E21B43/017
US-11408566-B2,F17D1/20
US-11408566-B2,F17D3/12
US-11408566-B2,F17D3/01
US-11386539-B2,H01L21/67
US-11386539-B2,G06T7/00
US-11373466-B2,G07C5/08
US-11373466-B2,B60W50/02
US-11373466-B2,B60R21/0134
US-11373466-B2,B60R21/0136
US-11382705-B2,A61B34/30
US-11382705-B2,A61B34/00
US-11382705-B2,B25J17/00
US-11382705-B2,B25J17/02
US-11382705-B2,A61B17/00
US-11382705-B2,B25J18/00
US-11382705-B2,A61B90/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11394231-B2,H02J7/00
US-11394231-B2,H02J3/46
US-11394231-B2,H02J3/32
US-11408811-B2,G01N15/08
US-11408811-B2,E21B43/16
US-11408811-B2,E21B49/08
US-11416022-B2,G06F1/14
US-11416022-B2,G06F1/08
US-11416022-B2,H04L7/02
US-11416022-B2,G01R31/317
US-11416022-B2,G06J1/02
US-11393239-B2,G01N29/34
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11353091-B2,F16H3/44
US-11372255-B2,G06F3/03
US-11372255-B2,G06F3/0354
US-11372255-B2,G02B27/09
US-11367437-B2,G10L17/00
US-11367437-B2,G10L15/20
US-11367437-B2,G10L21/02
US-11367437-B2,G10L15/22
US-11367437-B2,H04R1/40
US-11428911-B2,G02B27/00
US-11428911-B2,G02B27/64
US-11428911-B2,G02B5/00
US-11428911-B2,G02B15/14
US-11422364-B2,G02B26/08
US-11422364-B2,G02B27/42
US-11422364-B2,G02B27/00
US-11422364-B2,G06T19/00
US-11398593-B2,H01L29/06
US-11398593-B2,B82Y40/00
US-11398593-B2,B82Y10/00
US-11398593-B2,G06N10/00
US-11398593-B2,H01L29/423
US-11398593-B2,H01L29/66
US-11398593-B2,H10N60/80
US-11398593-B2,H10N60/01
US-11384177-B2,C08F20/56
US-11384177-B2,C08K5/47
US-11384177-B2,C08J3/07
US-11384177-B2,C08K5/3435
US-11384177-B2,E21B43/20
US-11384177-B2,C12P13/02
US-11384177-B2,C09K8/588
US-11384177-B2,C09K8/68
US-11384177-B2,E21B43/267
US-11384177-B2,C08F220/56
US-11384177-B2,E21B21/00
US-11354261-B2,G05B19/042
US-11354261-B2,G06F3/00
US-11354261-B2,G06F13/40
US-11354261-B2,G06F13/42
US-11396939-B2,F16H57/00
US-11396939-B2,F16H57/023
US-11401845-B2,F01M13/02
US-11401845-B2,F02B39/14
US-11401845-B2,F02M25/06
US-11401845-B2,F02M35/16
US-11401845-B2,F02B37/02
US-11401845-B2,F02B67/00
US-11401845-B2,F02B37/00
US-11401845-B2,F02F1/24
US-11401845-B2,F01M11/02
US-11401845-B2,F01M13/00
US-11401845-B2,F02M35/10
US-11401845-B2,F01M13/04
US-11401845-B2,F01M9/10
US-11401845-B2,F02F7/00
US-11365041-B2,F04B33/00
US-11365041-B2,F04B49/24
US-11365041-B2,F04B39/12
US-11365041-B2,B65D43/02
US-11365041-B2,B65D51/24
US-11365041-B2,F04B39/10
US-11365041-B2,F04B39/00
US-11365041-B2,B65D81/20
US-11365041-B2,F04B41/00
US-11418715-B2,G06F3/01
US-11418715-B2,H04N5/232
US-11381650-B2,H04L67/50
US-11381650-B2,H04L67/75
US-11381650-B2,H04L67/125
US-11381650-B2,G16H50/80
US-11381650-B2,H04W4/02
US-11394671-B2,G06Q30/00
US-11394671-B2,H04L51/00
US-11394671-B2,H04L51/046
US-11394671-B2,G06Q30/06
US-11394671-B2,H04L51/02
US-11394671-B2,H04W4/14
US-11381908-B2,H04R3/00
US-11381908-B2,H02P7/025
US-11381908-B2,H03F1/32
US-11381908-B2,H03F3/181
US-11381908-B2,H04R29/00
US-11381908-B2,H04R9/06
US-11381908-B2,H04R3/04
US-11400796-B2,B60H1/34
US-11400796-B2,B60Q3/54
US-11400796-B2,B60Q3/41
US-11400796-B2,B60H1/24
US-11405983-B2,H05B3/03
US-11405983-B2,H05B1/02
US-11364337-B2,A61M5/145
US-11364337-B2,A61M5/14
US-11364337-B2,A61M5/158
US-11364337-B2,A61M5/142
US-11364337-B2,A61M5/24
US-11364337-B2,A61M5/32
US-11364337-B2,A61M5/20
US-11407574-B2,B65G17/18
US-11407574-B2,B65D81/20
US-11407574-B2,B65G35/06
US-11393841-B2,H01L21/28
US-11393841-B2,H01L29/49
US-11393841-B2,H01L29/51
US-11393841-B2,

2025-01-19 03:11:56 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:56 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:56 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:58 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:58 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:58 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:58 - root - INFO - SQL:
SELECT t."publication_number",
           SUBSTR(f.value::VARIANT:"code"::STRING, 0, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc4_code
US-11421276-B2,C12Q
US-11414872-B2,B65H
US-11414872-B2,B65H
US-11414872-B2,E04D
US-11414872-B2,B65H
US-11378383-B2,G06F
US-11378383-B2,G01D
US-11378383-B2,G06F
US-11378383-B2,G01B
US-11378383-B2,G01B
US-11378383-B2,G05D
US-11378383-B2,G01B
US-11401428-B2,C09D
US-11401428-B2,B05D
US-11401428-B2,C09D
US-11401428-B2,C09D
US-11401428-B2,C09D
US-11401428-B2,C08G
US-11401428-B2,C08G
US-11401428-B2,C09D
US-11401428-B2,C08G
US-11401428-B2,B05D
US-11401428-B2,B05D
US-11401428-B2,C08G
US-11422402-B2,B60R
US-11422402-B2,B64D
US-11422402-B2,G06F
US-11422402-B2,G02F
US-11422402-B2,G02F
US-11422402-B2,G06F
US-11422402-B2,G06F
US-11422402-B2,H04N
US-11422402-B2,G06F
US-11422402-B2,B60K
US-11422402-B2,G09F
US-11422402-B2,B60R
US-11410148-B2,G06Q
US-11410148-B2,H04L
US-11409969-B2,G06K
US-11409969-B2,G08B
US-11409969-B2,G06K
US-11409969-B2,G07G
US-11409969-B2,H04B
US-11374640-B2,H04B
US-11374640-B2,H04L
US-11374640-B2,H04B
US-11374640-B2,H04W
US-11352902-B2,F01D
US-11352902-B2,F01D
US-11389834-B2,G05B
US-11389834-B2,B07C
US-11389834-B2,B07C
US-11389834-B2,B07C
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61M
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11384000-B2,C02F
US-11384000-B2,C02F
US-11384000-B2,G06F
US-11384000-B2,C02F
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,C12N
US-11369714-B2,A61L
US-11373467-B2,G07C
US-11373467-B2,G07C
US-11407174-B2,B29C
US-11407174-B2,B33Y
US-11407174-B2,B29C
US-11407174-B2,B33Y
US-11407174-B2,B33Y
US-11376718-B2,F04B
US-11376718-B2,B25B
US-11427279-B2,B62K
US-11427279-B2,B62K
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11379973-B2,G06V
US-11379973-B2,G05B
US-11379973-B2,G06N
US-11379973-B2,G06T
US-11379973-B2,G06V
US-11379973-B2,G06T
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11407366-B2,B60R
US-11377840-B2,E04B
US-11377840-B2,E04C
US-11377840-B2,E04C
US-11388258-B2,G06F
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,G06F
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11375403-B2,H04L
US-11375403-B2,H04W
US-11363222-B2,H04N
US-11363222-B2,H04N
US-11363222-B2,H04N
US-11380354-B2,G11B
US-11380354-B2,G11B
US-11380354-B2,G11B
US-11392814-B2,G06N
US-11392814-B2,G06K
US-11392814-B2,G06N
US-11392814-B2,G06K
US-11396158-B2,B32B
US-11396158-B2,G02F
US-11396158-B2,F21V
US-11396158-B2,B82Y
US-11396158-B2,F21Y
US-11396158-B2,F21V
US-11396158-B2,G02F
US-11396158-B2,B32B
US-11431960-B2,H04N
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,F21V
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11367437-B2,G10L
US-11367437-B2,G10L
US-11367437-B2,G10L
US-11367437-B2,G10L
US-11367437-B2,H04R
US-11428911-B2,G02B
US-11428911-B2,G02B
US-11428911-B2,G02B
US-11428911-B2,G02B
US-11422364-B2,G02B
US-11422364-B2,G02B
US-11422364-B2,G02B
US-11422364-B2,G06T
US-11398593-B2,H01L
US-11398593-B2,B82Y
US-11398593-B2,B82Y
US-11398593-B2,G06N
US-11398593-B2,H01L
US-11398593-B2,H01L
US-11398593-B2,H10N
US-11398593-B2,H10N
US-11384177-B2,C08F
US-11384177-B2,C08K
US-11384177-B2,C08J
US-11384177-B2,C08K
US-11384177-B2,E21B
US-11384177-B2,C12P
US-11384177-B2,C09K
US-11384177-B2,C09K
US-11384177-B2,E21B
US-11384177-B2,C08F
US-11384177-B2,E21B
US-11354261-B2,G05B
US-11354261-B2,G06F
US-11354261-B2,G06F
US-11354261-B2,G06F
US-11396939-B2,F16H
US-11396939-B2,F16H
US-11401845-B2,F01M
US-11401845-B2,F02B
US-11401845-B2,F02M
US-11401845-B2,F02M
US-11401845-B2,F02B
US-11401845-B2,F02B
US-11401845-B2,F02B
US-11401845-B2,F02F
US-11401845-B2,F01M
US-11401845-B2,F01M
US-11401845-B2,F02M
US-11401845-B2,F01M
US-11401845-B2,F01M
US-11401845-B2,F02F
US-11365041-B2,F04B
US-11365041-B2,F04B
US-11365041-B2,F04B
US-11365041-B2,B65D
US-11365041-B2,B65D
US-11365041-B2,F04B
US-11365041-B2,F04B
US-11365041-B2,B65D
US-11365041-B2,F04B
US-11418715-B2,G06F
US-11418715-B2,H04N
US-11381650-B2,H04L
US-11381650-B2,H04L
US-11381650-B2,H04L
US-11381650-B2,G16H
US-11381650-B2,H04W
US-11394671-B2,G06Q
US-11394671-B2,H04L
US-11394671-B2,H04L
US-11394671-B2,G06Q
US-11394671-B2,H04L
US-11394671-B2,H04W
US-11381908-B2,H04R
US-11381908-B2,H02P
US-11381908-B2,H03F
US-11381908-B2,H03F
US-11381908-B2,H04R
US-11381908-B2,H04R
US-11381908-B2,H04R
US-11400796-B2,B60H
US-11400796-B2,B60Q
US-11400796-B2,B60Q
US-11400796-B2,B60H
US-11405983-B2,H05B
US-11405983-B2,H05B
US-11364337

2025-01-19 03:11:58 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:58 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:58 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:00 - snowflake.connector.cursor - INFO - Number of results in first chunk: 170
2025-01-19 03:12:00 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:00 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:00 - root - INFO - SQL:
SELECT DISTINCT SUBSTR(f.value::VARIANT:"code"::STRING, 0, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Results:
ipc4_code
G01B
A61G
G06K
B29K
C08F
B21F
H04W
B21D
B66F
G02B
F02M
C09D
H02B
G01R
C07B
E21B
F01M
G01N
F02B
G01C
B63H
A01B
B24C
G06N
H04J
E04D
C22F
H04L
G07G
H01R
C08K
E05B
C02F
A61N
G03F
B60H
H01F
B23P
D06M
A44B
H10N
H10K
F21S
F16B
B22F
A41D
G06T
C07K
F04B
B29C
B33Y
B63G
A63B
G10L
A61Q
G03B
A61L
C07H
C06B
B23K
B32B
F17D
B07C
E06B
H01L
H04N
H05K
F01D
B01F
G06F
C12Q
B65H
B65G
B60W
B01J
H01G
F42B
F21V
G07C
B29B
H05B
A41C
A63F
G06Q
H01Q
A41H
G01S
H02H
B60Q
B65B
G06J
A61M
G07F
G09F
H02N
B43K
D06Q
F01N
C11D
C09K
B60K
B64C
G05B
G05G
E04C
B25J
B01L
G01D
B60S
A47B
E04B
F21Y
H04R
C12P
B60R
C07D
C07F
G09G
B08B
C08J
A47F
A61P
C12N
A01N
B22C
E02D
H02J
G09B
C01G
B25B
A61F
G02F
B23D
H04M
G16H
G08B
C22C
B66C
H02P
C08G
B62D
B44C
A61K
H03F
F15B
F16K
B05D
G01M
C08L
H04B
B41M
B05B
F02F
G06V
D06B
C07C
H02M
A61B
A01K
B62K
H10B
G11B
H01S
G05D
B65D
F16H
B82Y
B64D
A62C
D06C

2025-01-19 03:12:00 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:00 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:00 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:01 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:12:01 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:02 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:02 - root - INFO - SQL:
SELECT f.value
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    LIMIT 1000;
Results:
Too long, hard cut:
VALUE
"{
  ""code"": ""E21B33/13"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B43/11"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B37/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B37/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K9/50"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K31/485"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C10J3/12"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C10J3/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C10J3/42"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E02F9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E02F3/58"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E02F9/28"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F16G15/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07G1/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07C53/10"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07C51/41"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C12Q1/68"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H02J3/18"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B60L9/24"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B7/02"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21F17/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B60L1/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21F13/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A63F9/04"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D71/26"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D71/12"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D69/04"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D69/12"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04N21/458"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G16H20/13"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06F7/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K31/517"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07F5/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07F5/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K31/60"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A47K10/42"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E06B9/42"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01F1/58"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01R33/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01F15/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01V8/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01V3/12"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B41/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G16H40/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06Q10/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G08B21/24"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C02F1/44"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D61/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D61/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C12Q1/68"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B19/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B17/01"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04W4/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04L12/18"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04L45/16"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""H01F27/10"",
 

2025-01-19 03:12:02 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:02 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:02 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:03 - snowflake.connector.cursor - INFO - Number of results in first chunk: 187
2025-01-19 03:12:03 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:03 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:04 - root - INFO - SQL:
SELECT DISTINCT LEFT(CAST("publication_date" AS VARCHAR), 4) AS "year"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Results:
year
1930
1991
1914
1878
1921
1893
1975
1919
1902
1959
1875
1881
1944
1866
1867
2013
1992
1951
1849
2005
1945
1845
1910
1994
1854
1872
1940
1928
1973
1954
1883
1948
1863
2000
2012
1907
1885
1905
1839
2002
2020
1934
1925
1916
1917
2024
2010
1924
1926
1864
1982
1965
1891
1851
2021
1968
2017
1935
1967
1939
2015
2018
2016
1927
1850
1852
2007
1974
1913
1961
1841
2023
2019
1931
1899
1988
1976
1955
1901
1862
1842
2001
1894
1957
1932
1882
1870
1960
1972
1911
1895
2006
1937
1903
1868
1904
1908
1942
1871
1861
1846
2014
1952
1963
1920
1856
1906
1900
1964
1947
1859
1848
1966
1877
1949
1887
1998
2009
1950
1933
1844
1987
1889
1997
1880
1855
1985
1993
1986
1890
2022
1984
1990
1958
1874
1853
1909
1969
1929
1936
1847
1962
1897
1918
1873
1922
1923
1865
1886
1898
1996
0
1938
1953
2004
2011
1989
1977
1888
1837
1857
1995
1912
1879
1843
1978
1983
1981
1999
1979
1980
1892
1876
1970
1941
1884
1943
1971
1858
1860
1896
2008
1869
1915
1946
2003
1956

2025-01-19 03:12:04 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:04 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:04 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:05 - snowflake.connector.cursor - INFO - Number of results in first chunk: 13
2025-01-19 03:12:05 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:05 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:05 - root - INFO - SQL:
SELECT DISTINCT SUBSTR(CAST("publication_date" AS VARCHAR), 5, 2) AS "month"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Results:
month
03
04
01
02
12
10
11
""
08
09
05
06
07

2025-01-19 03:12:05 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:05 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:05 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:06 - snowflake.connector.cursor - INFO - Number of results in first chunk: 0
2025-01-19 03:12:06 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:07 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:37 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:12:37 - root - INFO - ```sql
SELECT 
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4_code", 
    COUNT(*) AS "code_count"
FROM 
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE 
    t."country_code" = 'US' 
    AND t."kind_code" = 'B2' 
    AND t."publication_date" BETWEEN 20220601 AND 20220831
GROUP BY 
    "ipc4_code"
ORDER BY 
    "code_count" DESC
LIMIT 1;
```
2025-01-19 03:12:37 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:37 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:37 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:39 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 03:12:39 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:39 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:39 - root - INFO - SQL:
SELECT 
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4_code", 
    COUNT(*) AS "code_count"
FROM 
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE 
    t."country_code" = 'US' 
    AND t."kind_code" = 'B2' 
    AND t."publication_date" BETWEEN 20220601 AND 20220831
GROUP BY 
    "ipc4_code"
ORDER BY 
    "code_count" DESC
LIMIT 1;
Results:
ipc4_code,code_count
G06F,62

2025-01-19 03:12:39 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:39 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:39 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:41 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:12:41 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:41 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:41 - root - INFO - SQL:
SELECT DISTINCT "publication_date", "country_code", "kind_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Results:
Too long, hard cut:
publication_date,country_code,kind_code
20030619,US,A1
20050203,US,A1
20041223,US,A1
20081002,US,A1
20211126,CN,U
20220429,CN,U
20211029,CN,U
20220830,CN,U
20230324,CN,U
20230815,CN,U
20230711,CN,U
20010905,CN,Y
20031224,CN,Y
19971105,CN,Y
20000112,CN,Y
20100415,CA,A1
20110505,CA,A1
20050401,FR,A1
19990521,FR,A1
20040603,US,A1
20091217,CA,A1
20221118,FR,A1
19790715,SU,A1
19970731,DE,A1
20091118,EP,A1
20120725,EP,A1
20110413,EP,A1
20110414,US,A1
20120202,US,A1
20080507,AR,A1
20010502,AR,A1
20031110,AU,A1
20240125,AU,A1
20230202,AU,A1
20211125,WO,A1
20110901,WO,A1
20180927,WO,A1
20120913,WO,A1
20210107,JP,A1
20210624,WO,A1
20160324,WO,A1
20020816,IT,A1
20141127,WO,A1
20031112,PE,A1
19090525,US,A
19361031,CH,A
19540413,US,A
19710126,US,A
19410115,CH,A
19711130,US,A
19590303,US,A
19090525,CA,A
20060704,BR,A
19691111,US,A
19690902,CA,A
19690425,FR,A
19921027,IS,A
19860416,BE,A
19700422,GB,A
19430610,GB,A
19440922,GB,A
20010816,AU,A
19740620,AU,A
19750513,US,A
19600517,FR,A
19780718,CA,A
19840807,CA,A
19040628,CA,A
19300123,GB,A
19920915,AU,A
19281204,CA,A
19560313,CA,A
19620313,CA,A
19640317,CA,A
19660201,CA,A
19320315,CH,A
19510425,GB,A
19960820,JP,A
19830902,JP,A
19851019,JP,A
19861118,JP,A
19770205,JP,A
19441115,CH,A
19510915,CH,A
19800618,GB,A
19921019,JP,A
19600210,GB,A
19730911,JP,A
20180530,IE,A1
20040202,AU,A1
20060727,AU,A1
20111027,WO,A1
20130207,WO,A1
20240118,WO,A1
20190307,WO,A1
20190321,WO,A1
19970618,JP,B2
19990927,JP,B2
20170502,US,B2
20110906,US,B2
20090224,US,B2
20070208,AU,B2
20110629,JP,B2
20100512,JP,B2
20180530,JP,B2
20190130,JP,B2
20230322,JP,B2
20141216,US,B2
20150217,US,B2
20201103,US,B2
20140114,US,B2
20190410,JP,B2
20210622,US,B2
20231023,JP,B2
20221220,JP,B2
19801219,FR,B3
20040205,DE,B4
19060818,SE,C1
20111210,RU,C1
19850501,GB,D0
19870520,GB,D0
20111115,AT,T1
19880415,AT,T1
20190729,HU,T2
20151210,DE,T5
20151127,FI,U1
19831124,DE,U1
19880721,IT,V0
19670110,JP,Y1
19720108,JP,Y1
20080318,KR,Y1
19710520,JP,Y1
19830216,JP,Y2
19880705,JP,Y2
19421020,US,A
18801214,US,A
19700929,CA,A
19340417,CA,A
19730911,US,A
19530428,US,A
19331205,US,A
19661115,CA,A
19150525,US,A
18970508,GB,A
19680426,FR,A
19911031,YU,A
19750915,BE,A
19760913,BE,A
19890926,CA,A
19600503,FR,A
19600504,GB,A
19750729,JP,A
20070529,BR,A
19681204,GB,A
19700128,GB,A
19760610,JP,B1
20010403,US,B1
20060619,NO,B1
19991115,KR,B1
19980422,EP,B1
20130320,EP,B1
20170726,EP,B1
20020624,KR,B1
20080917,KR,B1
20120608,KR,B1
20160824,KR,B1
20170102,KR,B1
20180802,KR,B1
20220524,KR,B1
20210518,BR,B1
20220719,BR,B1
19971029,JP,B2
20020228,AU,B2
19950215,JP,B2
19910208,JP,B2
20040922,CN,Y
19951108,CN,Y
19990319,IT,A0
20020210,IL,A0
20100721,IT,A1
19801101,ES,A1
20110301,CA,A1
20130808,CA,A1
20170803,CA,A1
19730713,FR,A1
19840423,SU,A1
20041028,CA,A1
20150312,CA,A1
19911020,IT,A1
20180913,US,A1
20220818,US,A1
20240704,US,A1
20140904,AU,A1
20190530,AU,A1
20150930,EP,A1
20210414,EP,A1
20050721,JP,A1
20140703,JP,A1
20211230,JP,A1
20091126,DE,A1
20151217,DE,A1
20160714,DE,A1
20191024,DE,A1
20231015,IT,A1
20171214,WO,A1
20120613,EP,A1
20070916,ES,T3
19971016,DE,U1
20100701,DE,U1
19760219,JP,Y1
19760720,JP,Y2
19861110,JP,Y2
19840403,JP,Y2
19900403,JP,Y2
19910930,JP,Y2
19840528,JP,Y2
19880502,JP,Y2
19980416,DE,A1
19980924,DE,A1
20050907,EP,A1
20130717,ES,A1
20110630,AU,A1
19730628,DE,A1
19760422,DE,A1
19800508,DE,A1
19830519,DE,A1
19950511,DE,A1
20010516,EP,A1
20201007,EP,A1
20120419,DE,A1
20190110,DE,A1
20130906,WO,A1
20120322,WO,A1
20131120,EP,A2
20180516,AR,A2
20180118,US,A1
20191128,US,A1
20190319,US,B2
20220628,US,B2
19910805,JP,B2
20001030,JP,B2
20040721,JP,B2
20041124,JP,B2
20030428,JP,B2
20081127,AU,B2
20191107,AU,B2
20231012,AU,B2
19770915,DE,B2
20170322,EP,B2
20090402,JP,B2
20090121,JP,B2
19760514,AR,A1
19810902,DD,A1
20090723,AU,A1
20160421,AU,A1
19870820,DE,A1
20130531,SG,A1
20130214,WO,A1
20040804,EP,A1
20231213,EP,A1
20190131,JP,A1
20160204,US,A1
20160602,US,A1
19910508,EP,A1
19920916,EP,A1
19930428,EP,A1
20240403,EP,A1
20180125,JP,A1
20121213,DE,A1
20161110,DE,A1
20170531,KR,B1
20220720,KR,B1
19800731,AU,B2
19810820,JP,B2
19830602,JP,B2
19931111,JP,B2
19830110,JP,B2
20050315,US,B2
20121002,US,B2
19690909,US,A
19640512,US,A
19581014,CA,A
19681224,US,A
19651102,US,A
20200929,US,B2
20230120,FR,B3
19840419,DE,C2
20011010,GB,D0
19870715,GB,D0
19890614,GB,D0
19940120,DE,D1
20110203,DE,D1
19910115,AT,T1
20030815,AT,T1
20220905,PL,T3
20011122,KR,Y1
19791029,JP,Y2
19861108,JP,Y2
19910514,JP,Y2
19710805,JP,Y1
19960718,KR,Y1
20030127,JP,B2
20030929,JP,B2
19940907,JP,B2
19990623,JP,B2
20190718,DE,B4
20070829,JP,B2
20220323,JP,B2
19570813,US,A
19351029,US,A
19361117,US,A
19630423,US,A
19230116,US,A
19560403,US,A
19400625,US,A
19300618,FR,A
19620529,CA,A
18850303,US,A
19310630,US,A
19661129,CA,A
19471209,US,A
19620814,US,A
19481123,US,A
19111107,US,A
19751216,CA,A
19850521,CA,A
19930305,JP,A
19640331,CH,A
19880809,JP,A
20020615,AT,A
19580903,GB,A
19870415,GB,A
19760413,JP,A
19801115,JP,A
19330330,GB,A
20030227,DE,A1
20150828,CL,A1
19740321,DE,A1


2025-01-19 03:12:41 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:41 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:41 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:43 - snowflake.connector.cursor - INFO - Number of results in first chunk: 316
2025-01-19 03:12:44 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:44 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:44 - root - INFO - SQL:
SELECT t."publication_number", t."ipc"
    FROM PATENTS.PATENTS.PUBLICATIONS t
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc
US-8401259-B2,"[
  {
    ""code"": ""G16H15/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G16H30/20"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G16H40/67"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G16H10/60"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06K9/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06T1/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61B6/03"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61B5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7713107-B2,"[
  {
    ""code"": ""B24B7/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B7/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B25B23/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01L21/306"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B7/19"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24D11/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24D13/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B1/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B19/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7210809-B2,"[
  {
    ""code"": ""F21V33/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7753768-B2,"[
  {
    ""code"": ""G06F17/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-8782680-B2,"[
  {
    ""code"": ""G06F3/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F13/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04H60/33"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04N5/445"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7064926-B2,"[
  {
    ""code"": ""G11B23/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/113"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/087"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/107"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-6826024-B2,"[
  {
    ""code"": ""H02H3/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01B7/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02G1/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R13/713"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02H3/33"",
    ""first"": false,
    ""inventive"": false,
    ""tree"": []
  },
  {
    ""code"": ""H02H7/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02H5/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01B7/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02G15/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-8500773-B2,"[
  {
    ""code"": ""A61M29/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7407455-B2,"[
  {
    ""code"": ""A63B59/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A63B65/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7939517-B2,"[
  {
    ""code"": ""A61K31/5685"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K31/56"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-8479285-B2,"[
  {
    ""code"": ""G08B23/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F12/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F9/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F11/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F12/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
 

2025-01-19 03:12:44 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:44 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:44 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:46 - snowflake.connector.cursor - INFO - Number of results in first chunk: 202
2025-01-19 03:12:46 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:46 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:46 - root - INFO - SQL:
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    AND f.value::VARIANT:"first"::BOOLEAN = TRUE
    LIMIT 1000;
Results:
Too long, hard cut:
publication_number,ipc_code
US-11373466-B2,G07C5/08
US-11382705-B2,B25J17/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06J1/02
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11372255-B2,G02B27/09
US-11367437-B2,G10L15/20
US-11428911-B2,G02B15/14
US-11422364-B2,G02B27/00
US-11398593-B2,H10N60/01
US-11384177-B2,C08J3/07
US-11354261-B2,G06F3/00
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/04
US-11365041-B2,B65D81/20
US-11418715-B2,H04N5/232
US-11383851-B2,B64D31/04
US-11389955-B2,G06F17/00
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/00
US-11404307-B2,H01L21/768
US-11407307-B2,B60K23/04
US-11410365-B2,G06T13/40
US-11386741-B2,G07F17/32
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/232
US-11412923-B2,A61B1/32
US-11384000-B2,C02F11/15
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/00
US-11407174-B2,B29C64/30
US-11376718-B2,B25B13/48
US-11427279-B2,B62K23/02
US-11424341-B2,H01L21/02
US-11379973-B2,G06T7/00
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,H04L67/00
US-11375403-B2,H04W28/06
US-11363222-B2,H04N5/369
US-11380354-B2,G11B5/48
US-11392814-B2,G06K19/07
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/142
US-11407574-B2,B65G17/18
US-11393841-B2,H10B43/30
US-11393841-B2,H10B43/27
US-11417842-B2,H10K99/00
US-11375809-B2,A47B83/04
US-11385961-B2,G06F11/00
US-11382018-B2,H04W36/32
US-11412960-B2,A61B5/145
US-11351355-B2,A61M60/268
US-11371080-B2,C12Q1/6876
US-11429930-B2,G06Q10/10
US-11402589-B2,G02B6/38
US-11356221-B2,H04L5/00
US-11382847-B2,A61K8/34
US-11407172-B2,B29C64/153
US-11400006-B2,A61G13/10
US-11391070-B2,E05B73/00
US-11396506-B2,C07D471/02
US-11386278-B2,G06K7/10
US-11372388-B2,G05B19/042
US-11374644-B2,H04B7/08
US-11387209-B2,H01L23/00
US-11428067-B2,E21B33/13
US-11418602-B2,G06F15/16
US-11363375-B2,H04R3/00
US-11419318-B2,A01K67/027
US-11357437-B2,A61B5/339
US-11376346-B2,A61L27/36
US-11376070-B2,A61B18/20
US-11352335-B2,C07D277/36
US-11401923-B2,F04B27/18
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,G05G1/38
US-11401219-B2,C07C1/24
US-11392816-B2,G06K19/077
US-11423539-B2,A61B6/00
US-11388673-B2,H04W4/00
US-11398087-B2,G06V20/10
US-11424563-B2,H01R13/40
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/42
US-11351045-B2,A61F2/04
US-11392648-B2,G06F16/90
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/00
US-11424884-B2,H04W72/04
US-11422523-B2,G05B19/042
US-11421276-B2,C12Q1/6883
US-11414872-B2,E04D15/06
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/65
US-11422402-B2,G02F1/1335
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,B07C5/36
US-11407775-B2,C07F9/6584
US-11422371-B2,G02B27/14
US-11354278-B2,G06F17/00
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/12
US-11401234-B2,C07C225/36
US-11400486-B2,B05D7/00
US-11397228-B2,G01R33/00
US-11353321-B2,G01B11/27
US-11363536-B2,H04W52/24
US-11400138-B2,A61K38/39
US-11393967-B2,H01L29/40
US-11353839-B2,H05B47/10
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11386539-B2,G06T7/00
US-11412974-B2,A61B5/16
US-11423376-B2,G06Q20/14
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/12
US-11365729-B2,F04B49/22
US-11419647-B2,A61B17/80
US-11375912-B2,H02N11/00
US-11396572-B2,C08F236/18
US-11407017-B2,B21D11/12
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/00
US-11370724-B2,C07C2/82
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/52
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/00
US-11399950-B2,A61F2/42
US-11381283-B2,H04B7/0417
US-11409410-B2,G06F3/0481
US-11420401-B2,B29C70/38
US-11360211-B2,G01S13/931
US-11398338-B2,H01F27/25
US-11412422-B2,H04W36/00
US-11354655-B2,G06Q20/38
US-11387213-B2,H01L21/78
US-11375479-B2,H04W4/00
US-11420656-B2,B60W30/14
US-11378746-B2,G02B6/14
US-11375241-B2,H04N19/00
US-11380566-B2,G05B19/19
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/159
US-11412231-B2,H04N19/577
US-11376109-B2,A61F2/00
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N3/08
US-11426701-B2,B22C5/00
US-11386886-B2,G10L15/18
US-11352686-B2,C22F1/047
US-11352465-B2,C08J3/22
US-11391059-B2,E05B13/00
US-11380765-B2,H01L29/15
US-11376319-B2,A61K39/145
US-11404853-B2,B60K6/36
US-11373404-B2,H04N7/10
US-11421011-B2,C07K14/54
US-11384463-B2,D06B23/02
US-11413537-B2,A63F9/24
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/26
US-11374401-B2,H02H7/122
US-11397326-B2,G02B27/01
US-11430084-B2,G06T3/40
US-11421980-B2,G01B11/10
US-11374056-B2,H01L27/24
US-11382760-B2,A61F2/44
US-11413710-B2,B23K35/00
US-11387621-B2,H01S3/13
US-11373280-B2,G06T7/00
US-11423146-B2,G06F21/56
US-11400365-B2,A63F13/24
US-11411015-B2,H10B41/27
US-11411015-B2,H10B41/20
US-11406524-B2,A61F5/00
US-11390722-B2,C08J7/18
US-11389656-B2,A61N1/36
US-11374186-B2,H01L31/044
US-11369979-

2025-01-19 03:12:46 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:46 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:46 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:47 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:12:47 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:48 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:48 - root - INFO - SQL:
SELECT f.value::VARIANT:"section"::STRING AS "section",
           f.value::VARIANT:"class"::STRING AS "class",
           f.value::VARIANT:"subclass"::STRING AS "subclass",
           f.value::VARIANT:"main_group"::STRING AS "main_group",
           f.value::VARIANT:"subgroup"::STRING AS "subgroup"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    LIMIT 1000;
Results:
Too long, hard cut:
section,class,subclass,main_group,subgroup
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,

2025-01-19 03:12:48 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:48 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:48 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:49 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 03:12:49 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:50 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:13:18 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:13:18 - root - INFO - ```sql
SELECT
  SUBSTR(f.value:"code"::STRING, 1, 1) AS "section",
  SUBSTR(f.value:"code"::STRING, 2, 2) AS "class",
  SUBSTR(f.value:"code"::STRING, 4, 1) AS "subclass",
  REGEXP_SUBSTR(SUBSTR(f.value:"code"::STRING, 5), '^[0-9]+') AS "main_group",
  SPLIT_PART(f.value:"code"::STRING, '/', 2) AS "subgroup"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
LIMIT 1000;
```
2025-01-19 03:13:18 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:13:18 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:13:18 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:13:20 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:13:20 - snowflake.connector.connection - INFO - closed
2025-01-19 03:13:20 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:13:20 - root - INFO - SQL:
SELECT
  SUBSTR(f.value:"code"::STRING, 1, 1) AS "section",
  SUBSTR(f.value:"code"::STRING, 2, 2) AS "class",
  SUBSTR(f.value:"code"::STRING, 4, 1) AS "subclass",
  REGEXP_SUBSTR(SUBSTR(f.value:"code"::STRING, 5), '^[0-9]+') AS "main_group",
  SPLIT_PART(f.value:"code"::STRING, '/', 2) AS "subgroup"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
LIMIT 1000;
Results:
Too long, hard cut:
section,class,subclass,main_group,subgroup
G,06,F,19,00
G,02,B,7,09
A,61,B,3,00
A,61,B,3,14
A,61,B,3,12
A,61,B,3,10
H,02,M,1,42
H,02,M,7,02
A,61,N,5,06
H,01,M,4,13
G,06,F,15,16
H,04,B,3,58
B,60,K,35,00
G,06,F,3,01
B,60,Q,1,00
G,06,F,3,0481
G,02,B,27,01
H,04,L,12,937
H,04,L,12,931
H,04,L,12,863
H,04,L,12,861
H,04,L,12,869
H,04,L,12,26
G,06,T,7,00
G,06,T,3,00
H,04,N,23,75
H,04,N,5,262
H,04,N,5,76
G,01,N,33,92
C,12,Q,1,34
G,01,N,33,50
H,03,B,5,32
H,04,B,1,38
H,04,M,1,7243
H,04,M,1,72409
H,02,B,1,00
H,04,R,1,10
B,32,B,3,00
G,01,C,15,00
G,01,C,15,02
G,01,S,17,34
G,01,S,17,89
A,61,M,37,00
A,61,M,5,20
A,61,M,5,32
G,11,C,15,04
G,06,F,7,00
G,06,F,17,30
H,02,P,7,00
H,02,H,7,085
E,05,B,1,00
A,61,L,2,18
A,61,L,2,10
E,05,B,63,00
C,01,G,47,00
C,01,G,35,00
C,01,G,41,00
C,01,G,39,06
C,01,G,55,00
C,01,G,27,00
H,04,W,24,10
H,01,Q,5,321
H,01,Q,5,328
H,01,Q,1,38
H,01,Q,9,04
C,09,K,11,08
C,09,K,11,77
G,09,G,3,36
G,02,F,1,133
G,09,G,5,00
G,06,F,17,30
H,04,L,29,06
G,06,F,15,16
G,06,F,17,24
C,04,B,38,00
C,04,B,41,00
F,01,M,13,04
B,01,D,45,08
F,01,D,5,02
F,01,D,11,02
G,06,Q,20,04
G,06,V,30,40
G,06,V,30,10
G,06,V,30,224
G,06,F,7,00
G,06,F,17,30
G,06,F,9,50
G,06,F,3,06
F,41,B,5,22
F,41,B,5,14
G,06,K,15,02
G,06,F,3,12
G,06,T,11,60
G,06,T,11,00
H,01,R,24,64
H,05,K,1,02
H,05,K,1,11
H,01,R,13,6466
H,05,K,1,14
H,04,L,12,56
G,06,F,12,08
G,06,F,11,34
G,06,F,12,02
G,06,F,11,20
G,06,F,11,10
H,04,N,25,00
H,01,L,27,146
H,01,L,31,00
H,01,L,27,148
H,04,L,12,46
H,04,L,12,28
H,04,L,45,58
H,01,L,21,4763
H,01,L,21,3205
H,01,L,21,28
H,01,L,21,8238
H,01,L,29,66
H,01,L,29,49
B,81,C,1,00
H,01,L,23,34
H,01,L,25,065
H,01,L,25,16
H,01,L,25,11
H,01,L,23,40
H,01,L,25,04
G,01,R,27,04
G,01,N,22,00
G,01,N,22,02
G,01,R,27,32
B,64,C,27,12
B,64,D,33,08
F,16,C,33,66
B,64,D,13,08
F,16,C,37,00
H,01,M,50,503
H,01,M,50,531
B,60,L,50,64
H,01,M,4,70
H,01,M,50,543
H,01,M,50,55
A,61,M,16,10
C,01,B,21,24
A,61,M,16,12
A,61,M,16,06
A,61,M,15,08
B,01,D,53,00
A,61,M,15,00
B,21,B,35,00
B,21,B,31,02
B,21,B,13,06
B,21,B,1,088
B,21,B,1,08
B,21,B,45,02
B,21,D,1,02
H,01,M,10,6565
H,01,M,10,6556
H,01,M,10,663
H,01,M,10,647
H,01,M,10,615
H,01,M,10,613
H,01,M,10,60
H,01,M,10,6571
H,01,M,10,625
B,60,K,1,04
H,01,M,10,6562
H,01,M,50,271
H,01,M,50,249
H,01,M,50,209
H,03,K,3,00
H,03,K,19,0185
H,03,B,1,00
E,04,F,13,08
E,04,F,13,06
E,04,D,13,04
E,04,C,2,38
E,04,F,19,06
H,03,K,5,08
H,03,K,19,00
H,03,K,5,24
E,04,B,1,70
E,04,B,1,66
B,60,R,16,023
B,60,R,25,00
B,60,R,25,04
A,61,K,39,00
A,61,K,9,00
A,61,K,31,21
A,01,N,47,00
A,61,K,31,65
A,61,K,47,02
C,07,D,417,12
A,61,K,31,437
A,61,K,31,428
C,07,D,471,04
A,61,K,31,4188
C,07,D,513,04
C,07,D,417,14
A,61,K,31,4168
C,07,D,235,30
H,01,R,13,422
H,01,R,13,506
H,01,R,13,52
H,01,R,31,08
F,04,B,43,02
F,04,B,43,04
F,04,B,49,06
F,04,B,43,00
G,06,Q,10,08
G,06,Q,10,04
G,06,Q,30,02
G,06,Q,10,00
G,06,Q,10,06
H,01,L,31,0232
G,01,S,3,786
H,01,L,31,052
G,02,B,19,00
G,02,B,21,04
H,02,S,20,00
G,02,B,17,08
G,02,B,3,08
G,02,B,27,09
F,21,S,11,00
H,02,S,20,32
G,01,S,3,78
G,02,B,5,00
H,01,L,31,042
H,01,L,31,054
G,06,F,16,28
H,04,B,1,10
H,04,L,7,04
H,04,L,29,08
G,06,F,3,0484
H,04,L,29,06
H,04,L,12,24
G,06,F,9,44
G,06,F,9,445
B,08,B,9,00
F,16,N,21,00
F,16,N,5,00
F,16,K,3,36
E,21,B,34,02
E,21,B,41,00
C,08,F,220,28
C,08,G,83,00
C,08,F,220,30
C,08,L,101,00
C,08,F,12,08
B,82,Y,10,00
C,08,F,38,00
C,08,J,3,09
C,08,G,61,12
C,08,L,25,06
C,08,B,1,00
H,01,B,1,12
C,08,L,1,08
C,08,L,65,00
C,08,L,1,02
H,10,K,99,00
H,04,L,5,00
H,04,W,72,04
H,04,L,1,16
H,04,L,1,18
H,03,K,17,96
G,06,F,3,044
G,06,F,3,045
G,06,F,3,041
H,01,R,4,48
H,01,R,4,24
H,01,R,13,18
H,01,R,9,16
H,04,N,21,61
H,04,N,19,61
H,04,N,7,16
H,04,N,21,2343
H,04,N,19,162
H,04,N,19,164
H,04,N,21,222
H,04,N,21,258
H,04,N,19,12
H,04,N,7,173
H,04,N,7,10
H,04,N,19,40
H,04,N,7,025
G,06,K,7,14
G,06,K,7,015
G,06,K,7,00
G,06,K,7,10
H,02,M,7,487
H,02,M,7,483
H,02,M,7,5387
C,10,L,1,16
C,10,M,173,02
C,10,M,107,14
C,10,N,30,00
C,10,N,30,02
C,10,N,20,04
C,10,M,169,04
C,10,N,40,25
C,10,N,70,00
H,04,B,1,38
H,04,W,76,02
H,04,W,4,06
H,04,M,1,00
H,04,W,4,80
G,06,F,12,00
G,06,F,12,02
A,61,M,5,30
A,61,M,31,00
A,61,M,5,20
A,61,M,37,00
G,06,F,17,10
G,06,F,7,60
G,06,F,17,50
G,06,Q,10,06
G,16,H,15,00
G,16,H,30,20
G,16,H,40,67
G,16,H,10,60
G,06,K,9,00
G,06,T,1,00
A,61,B,6,03
A,61,B,5,00
B,24,B,7,30
B,24,B,7,22
B,25,B,23,16
H,01,L,21,306
B,24,B,7,19
B,24,D,11,00
B,24,D,13,14
B,24,B,1,00
B,24,B,19,00
F,21,V,33,00
G,06,F,17,00
G,06,F,3,00
G,06,F,13,00
H,04,H,60,33
H,04,N,5,445
G,11,B,23,30
G,11,B,23,113
G,11,B,23,087
G,11,B,23,107
G,11,B,23,02
H,02,H,3,16
H,01,B,7,32
H,02,G,1,14
H,01,R,13,713
H,02,H,3,33
H,02,H,7,00
H,02,H,5,04
H,01,B,7,00
H,02,G,15,02
A,61,M,29,00
A,63,B,59,02
A,63,B,65,12
A,61,K,31,5685
A,61,K,31,56
G,08,B,23,00
G,06,F,12,14
G,06,F,9,00
G,06,F,11,00
G,06,F,12,16
H,05,K,1,03
H,05,K,1,11
H,05,K,7,20
H,01,Q,1,32
H,01,L,27,08
H,01,L,27,06
H,01,L,21,822
H,01,L,21,761
H,01,L,27,092
H,01,L,27,02
H,01,L,27,04
H,01,L,21,8238
G,01,R,1,073
H,01,L,23,498
H,01,L,23,02
H,01,L,23,14
H,01,L,23,31
H,01,L,21,768
H,01,L,21,60
H,01,L,21,20
H,04,B,5,00
G,01,S,13,08

2025-01-19 03:13:20 - root - INFO - itercount: 0
2025-01-19 03:13:20 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
**Relevant Columns and Potential Usage:**

- **"country_code"**: To filter patents to those from the US (`"country_code" = 'US'`).
- **"kind_code"**: To filter to B2 kind code, which represents US utility patents (`"kind_code" = 'B2'`).
- **"publication_date"**: To filter patents granted between June and August 2022 (`"publication_date"` between June and August 2022).
- **"ipc"**: To extract the IPC codes assigned to each patent. This column is of VARIANT type and needs to be flattened.
- **"ipc"  "code"**: To get the individual IPC code strings.
- **"ipc"  "first"**: To identify if an IPC code is marked as the main code.
- **"publication_number"**: To uniquely identify each patent publication.

**Conditions that may be used:**

- `"country_code" = 'US'`
- `"kind_code" = 'B2'`
- `"publication_date" BETWEEN 20220601 AND 20220831` (assuming date is in `YYYYMMDD` format)

---

**SQL Queries:**

1. **Get distinct country codes from the PUBLICATIONS table:**

   ```sql
   SELECT DISTINCT "country_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   LIMIT 1000;
   ```

2. **Get distinct kind codes for US patents:**

   ```sql
   SELECT DISTINCT "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
   ```

3. **Get sample publication dates for US patents:**

   ```sql
   SELECT DISTINCT "publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
   ```

4. **Get distinct publication dates for US B2 patents:**

   ```sql
   SELECT DISTINCT "publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 1000;
   ```

5. **Extract IPC codes for US B2 patents by flattening the "ipc" column:**

   ```sql
   SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
   ```

6. **Get distinct IPC codes assigned to US B2 patents:**

   ```sql
   SELECT DISTINCT f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
   ```

7. **Extract IPC codes marked as main ("first" is true) for US B2 patents:**

   ```sql
   SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2"
   AND f.value::VARIANT:"first"::BOOLEAN = TRUE
   LIMIT 1000;
   ```

8. **Get patents published between June and August 2022 for US B2 patents:**

   ```sql
   SELECT t."publication_number", t."publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS t
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   AND t."publication_date" BETWEEN 20220601 AND 20220831
   LIMIT 1000;
   ```

9. **Extract IPC codes for US B2 patents published between June and August 2022:**

   ```sql
   SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   AND t."publication_date" BETWEEN 20220601 AND 20220831
   LIMIT 1000;
   ```

10. **Extract 4-digit IPC codes for US B2 patents published between June and August 2022:**

    ```sql
    SELECT t."publication_number",
           SUBSTR(f.value::VARIANT:"code"::STRING, 0, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

11. **Get distinct 4-digit IPC codes among US B2 patents published between June and August 2022:**

    ```sql
    SELECT DISTINCT SUBSTR(f.value::VARIANT:"code"::STRING, 0, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
    ```

12. **Get sample values from the "ipc" column to understand its structure:**

    ```sql
    SELECT f.value
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    LIMIT 1000;
    ```

13. **Get distinct years from "publication_date":**

    ```sql
    SELECT DISTINCT LEFT(CAST("publication_date" AS VARCHAR), 4) AS "year"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
    ```

14. **Get distinct months from "publication_date":**

    ```sql
    SELECT DISTINCT SUBSTR(CAST("publication_date" AS VARCHAR), 5, 2) AS "month"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
    ```

15. **Find patents where the "ipc" field is null:**

    ```sql
    SELECT t."publication_number"
    FROM PATENTS.PATENTS.PUBLICATIONS t
    WHERE t."ipc" IS NULL
    LIMIT 1000;
    ```

16. **Get distinct "publication_date", "country_code", and "kind_code" combinations:**

    ```sql
    SELECT DISTINCT "publication_date", "country_code", "kind_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
    ```

17. **Get sample values of "ipc" field for US B2 patents:**

    ```sql
    SELECT t."publication_number", t."ipc"
    FROM PATENTS.PATENTS.PUBLICATIONS t
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    LIMIT 1000;
    ```

18. **Extract the "first" IPC code for US B2 patents published between June and August 2022:**

    ```sql
    SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    AND f.value::VARIANT:"first"::BOOLEAN = TRUE
    LIMIT 1000;
    ```

19. **Get sample of the "ipc" column with detailed fields to understand nested structure:**

    ```sql
    SELECT f.value::VARIANT:"section"::STRING AS "section",
           f.value::VARIANT:"class"::STRING AS "class",
           f.value::VARIANT:"subclass"::STRING AS "subclass",
           f.value::VARIANT:"main_group"::STRING AS "main_group",
           f.value::VARIANT:"subgroup"::STRING AS "subgroup"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    LIMIT 1000;
    ```

20. **Get distinct values of "section" from the "ipc" column:**

    ```sql
    SELECT DISTINCT f.value::VARIANT:"section"::STRING AS "section"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    LIMIT 1000;
    ```

---

These queries help in understanding the structure of the data and the values in the relevant columns, which are essential for addressing the task of finding the most common 4-digit IPC code among US B2 utility patents granted from June to August 2022.Query:
SELECT DISTINCT "country_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   LIMIT 1000;
Answer:
country_code
TR
BG
DO
JP
HU
DZ
AT
HR
CO
SI
AR
KE
FI
DK
US
DD
PH
DE
MA
PE
UA
MW
IT
OA
CY
RS
LU
NL
CS
LV
MY
FR
SU
AU
CU
LT
KR
RO
NO
MD
PL
CR
JO
NI
CZ
HN
SV
CN
MC
RU
CA
SK
IS
GB
SG
IE
EA
ES
ZW
IN
EC
EP
ZA
CH
SA
MN
PT
CL
NZ
BR
ID
KZ
IL
TW
MT
BE
SE
AP
SM
ME
MX
EE
GE
HK
GT
TN
GR
EG
PA
WO
BA
YU
ZM
Query:
SELECT DISTINCT "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
Answer:
kind_code
A2
P9
C1
A1
B1
B2
A
P1
A9
Query:
SELECT DISTINCT "publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
Answer:
Too long, hard cut:
publication_date
20210805
20240104
20080508
20070705
20081204
20100617
19080414
19340116
19301216
19581223
18970302
19280515
19231211
19721010
19520603
18860209
20110428
20080117
20200528
20190808
20031218
19131209
19070507
19480810
19410401
18790107
19400813
20131203
20020528
20220524
20141209
20030605
20010508
20070821
20120717
19150112
19561211
19691118
19410826
18771218
19750513
19660607
19710223
19550215
19370330
19700505
18790701
19810113
19811006
19271011
19400130
19430406
19700106
19431228
19760330
19680312
19780418
19280124
19960903
20230207
18860608
19100510
18930214
19560522
19130624
19270906
20030729
20020205
19320628
19240708
19630625
19041213
19290108
19230911
19530303
19990330
18630317
18860202
19951114
19830906
19971007
19070312
19510529
18820425
19890822
18751228
19201116
19150518
19800401
19640107
19620626
19790626
19831101
19930406
19210524
19390620
19330228
19020826
19120723
19480824
19030113
19060814
18860316
18950205
19030811
20090421
19650126
18820131
20030916
20050524
20041214
20041026
20050308
20031223
20210603
20240711
20231012
20031007
20040928
20221018
20061019
20080306
20090101
20090618
20110922
19391024
19441219
19510206
19220207
19300408
19440111
19710628
19020114
18810628
19711221
18940508
20240530
19680123
19140908
19210517
19360512
19410819
20030522
20100121
20020228
20021226
20180913
20151203
19520415
18600911
18631020
19440822
19711026
19310901
19751118
19590714
19440606
20150528
20171228
20210420
20240618
18900624
19950321
19521021
19331226
19540810
19310505
19190325
19960618
19431026
19221219
19910409
20111213
20110830
20080610
20131231
20200414
20210223
20190409
20240820
20230711
20210216
20040624
20160412
20131112
20190402
18840729
18951231
18940109
19431012
19650928
18810308
20201222
20240319
20230509
19130826
19080602
18850714
18930411
18810906
18780514
18980329
19180625
19620904
20040415
20020402
20031028
20120703
20041012
20001212
20170103
19540323
19540629
18591004
18820627
20000627
19840207
19900821
19750805
19871103
20061226
20160628
18740825
19970218
19221114
19281030
19310317
19010409
19020812
19710323
18841118
19550412
19111114
19801104
19980825
19210322
19161024
19780516
19890131
19640630
18930523
18991212
18931003
19760127
19790116
19800701
19860812
19870519
19941004
19970401
19090817
19520115
18870419
19610711
18870705
18761212
19990126
19030203
19121008
20171026
20180621
20200604
20210909
20211007
20030116
20041125
20050922
20221110
20240307
20240502
20230921
20020702
20121211
20221101
20230418
20180628
19510918
19541012
19661004
19030120
19750812
18640524
20190425
20011213
19480706
18780618
19621127
19690916
18830925
19220523
19700428
19630430
19551011
20100622
20150324
20161227
20050628
20080923
20141230
19360623
19400206
18880717
19720229
20150929
19740917
19470520
19270329
19720613
18860525
19660621
18820704
18680505
18681222
18811108
19821012
19180611
19670516
19920616
19861202
19800212
19470304
20070807
18640823
18920531
19171016
20001031
19991026
19550524
19211011
19910611
19851126
19080428
18830731
19341016
19380111
18880918
19501212
18820321
18590510
18820418
19860909
19890214
19891121
20091222
19260629
19031208
19690812
18440320
19851224
19810120
19140113
18970119
19111121
19200504
19250526
19861028
19980922
18820926
19610912
19820824
19900612
19991228
20190307
18711114
18810621
18941009
20060509
20110217
18790520
19120910
19211129
19150126
19120521
20160818
19140818
19001225
19321220
19460611
19001016
20120131
20061107
20110929
18961222
19480713
19920128
19600816
20051227
20051129
20090526
20090210
20070911
20141127
19061009
20220113
20240509
20021217
20060413
20070830
20090827
20110616
20150604
19531006
19501024
19591110
19621016
18850106
19260216
19320621
19680507
20120329
19140630
19560626
19460226
19700317
20040909
20080717
20081127
20111103
20150129
20170914
20200227
19380705
19710316
19550201
19270308
19130916
19750819
19680723
19570305
20190110
18800928
20110531
20020108
20060725
20160927
20190917
20200324
20230307
20010206
20011023
20030506
20100126
20120529
20230110
19510403
19441114
19030929
19700915
19651109
19560515
19380823
18870517
18881113
18910714
19180409
20001128
19771004
19920922
19641124
20230404
18690706
19070917
19670228
18880124
19360922
19060130
18841028
20091112
20010816
20110104
19970527
19980324
20160223
18810405
19131125
19580218
18960107
19000109
18551106
18731223
18890507
19730807
19351217
18900211
19201005
19651102
19970211
19710706
19330711
19870526
19870303
20090616
19090720
19201228
18800810
18391018
19870505
19890404
19940125
19500718
19780606
19840508
19971111
19950221
19550315
19310113
18770227
18950528
19860715
18760104
18760201
20120315
19570430
19460723
20110412
19780321
19080128
19151026
19150601
20170511
20190530
20191121
20190117
20210930
20211111
20020801
20051117
20080327
20091210
20090129
20150423
20100114
20231109
20240118
20200908
20090716
20191126
20220426
20240109
19401126
19720627
19580318
19170501
19251215
19370629
18840108
19730424
19720425
19520715
20120202
20150101
19690318
19590602
194711
Query:
SELECT DISTINCT "publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 1000;
Answer:
Too long, hard cut:
publication_date
20121127
20060829
20120911
20101228
20130312
20140520
20150915
20120807
20200901
20211130
20050830
20190319
20240709
20061128
20040120
20071030
20081028
20090303
20091229
20140318
20100309
20100914
20100504
20200225
20190716
20230131
20150526
20020709
20110927
20230919
20231031
20230829
20030415
20051122
20021119
20060523
20191015
20211123
20100427
20080527
20080624
20090331
20130514
20220322
20220215
20160426
20191022
20130604
20110419
20240702
20101019
20090203
20051101
20110503
20080318
20190205
20200512
20180918
20170228
20231003
20220329
20210427
20150609
20080122
20070206
20110913
20130917
20050906
20150519
20210803
20201110
20200915
20220628
20220125
20230214
20200804
20221115
20170314
20030225
20220823
20060502
20031021
20140415
20141223
20160920
20220712
20240227
20220705
20031202
20190101
20170509
20181023
20180925
20021210
20030902
20090310
20091006
20060613
20130226
20130430
20101116
20160809
20200922
20240326
20240213
20230321
20021105
20151006
20100518
20051025
20061205
20210629
20230613
20240102
20041116
20130625
20131105
20040106
20150203
20210119
20150303
20200114
20170117
20230103
20160712
20190723
20020205
20050524
20090421
20131203
20120717
20030916
20220524
20141209
20230207
20020528
20070821
20030729
20050308
20041026
20041214
20050125
20160315
20141111
20200218
20220111
20230808
20240806
20110816
20101012
20030701
20141125
20160301
20161108
20160126
20160524
20180821
20170404
20020917
20120515
20190507
20170418
20201215
20210525
20240903
20020212
20030513
20130326
20220419
20130423
20050208
20081007
20031014
20041207
20080226
20080101
20070327
20120403
20050726
20220118
20201117
20230704
20211102
20231024
20060516
20160830
20191203
20221220
20190416
20041102
20040113
20030610
20080729
20110719
20100420
20120724
20060530
20200609
20151215
20191008
20181002
20200505
20210720
20200825
20050809
20020924
20191112
20220531
20060822
20100928
20231212
20230314
20030114
20051213
20100511
20160405
20140211
20150630
20130528
20100727
20110628
20150217
20150707
20200421
20181204
20210316
20230725
20210608
20050503
20230425
20170214
20181113
20090929
20230926
20020716
20020910
20020423
20050201
20030304
20090505
20140401
20210713
20170124
20220719
20211228
20071113
20150512
20140610
20240123
20240507
20110301
20110111
20111108
20130129
20140527
20020409
20050329
20070828
20150120
20110705
20110614
20160517
20201208
20200317
20190108
20240514
20040831
20030211
20080108
20020319
20080923
20120131
20121211
20150324
20050628
20060509
20051129
20161227
20100622
20141230
20051227
20061107
20221101
20230418
20091222
20150929
20090210
20090526
20070807
20070911
20021112
20020312
20050920
20070612
20061010
20140729
20140513
20190528
20140204
20090818
20150127
20150901
20090901
20050104
20040914
20050412
20070116
20130709
20060328
20111115
20140909
20160531
20080415
20150811
20200908
20201229
20220426
20191126
20020806
20070130
20100302
20151013
20080325
20080617
20240109
20080916
20211214
20211207
20190326
20070522
20080520
20111101
20040810
20140218
20181106
20110315
20130730
20160614
20041123
20240305
20070109
20040330
20191210
20210413
20130820
20150421
20131001
20160503
20200121
20130402
20230801
20050301
20110208
20140121
20020416
20180828
20190129
20150106
20200623
20060228
20080805
20030819
20230411
20150414
20050621
20100608
20160816
20030121
20060404
20121120
20040302
20050322
20120110
20071009
20091110
20121204
20040601
20080715
20181225
20160726
20200616
20220920
20140902
20150728
20161011
20190813
20181211
20030708
20070724
20221213
20231107
20170110
20071204
20160823
20150825
20050215
20101214
20210928
20201124
20220809
20240220
20190625
20100216
20160802
20081202
20041109
20050405
20080422
20100112
20090714
20140812
20020507
20060704
20080708
20120605
20120228
20200721
20220927
20230124
20040406
20160913
20071016
20140304
20061121
20121218
20060425
20121023
20040127
20071225
20111018
20031230
20051004
20200818
20050607
20030715
20060801
20050816
20100330
20070320
20210810
20181009
20230912
20140617
20041019
20061031
20040309
20040622
20160419
20140930
20160621
20210504
20220906
20221004
20220222
20110621
20090811
20090407
20020326
20141104
20151117
20070213
20040907
20110222
20161213
20070731
20030805
20110809
20060124
20100615
20131029
20030624
20081223
20060606
20110322
20151222
20221011
20120904
20141202
20210817
20160119
20060808
20120710
20080506
20021001
20120320
20100601
20120124
20180731
20190514
20190820
20190423
20200630
20200303
20220405
20230328
20220816
20240430
20070710
20020604
20190122
20100202
20120619
20190312
20100413
20050802
20040824
20080909
20090324
20080212
20110308
20130716
20121030
20140826
20210831
20220726
20211221
20220104
20100629
20151103
20210727
20220621
20141014
20050111
20240813
20170207
20020813
20030429
20090414
20091013
20100525
20031216
20230228
20210914
20101207
20111004
20130924
20070227
20210406
20110215
20190924
20161115
20191001
20070703
20120626
20110712
20080603
20160112
20030909
20021022
20090519
20200929
20210615
20240528
202308
Query:
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-8521396-B2,G06F19/00
US-9247876-B2,G02B7/09
US-9247876-B2,A61B3/00
US-9247876-B2,A61B3/14
US-9247876-B2,A61B3/12
US-9247876-B2,A61B3/10
US-8723487-B2,H02M1/42
US-8723487-B2,H02M7/02
US-9278232-B2,A61N5/06
US-8758938-B2,H01M4/13
US-8402104-B2,G06F15/16
US-8872639-B2,H04B3/58
US-8872639-B2,B60K35/00
US-8872639-B2,G06F3/01
US-8872639-B2,B60Q1/00
US-8872639-B2,G06F3/0481
US-8872639-B2,G02B27/01
US-9042220-B2,H04L12/937
US-9042220-B2,H04L12/931
US-9042220-B2,H04L12/863
US-9042220-B2,H04L12/861
US-9042220-B2,H04L12/869
US-9042220-B2,H04L12/26
US-9224188-B2,G06T7/00
US-9224188-B2,G06T3/00
US-8830357-B2,H04N23/75
US-8830357-B2,H04N5/262
US-8830357-B2,H04N5/76
US-8835171-B2,G01N33/92
US-8835171-B2,C12Q1/34
US-8835171-B2,G01N33/50
US-8816789-B2,H03B5/32
US-8909173-B2,H04B1/38
US-8909173-B2,H04M1/7243
US-8909173-B2,H04M1/72409
US-8903102-B2,H02B1/00
US-8903102-B2,H04R1/10
US-8802220-B2,B32B3/00
US-8928865-B2,G01C15/00
US-8928865-B2,G01C15/02
US-8928865-B2,G01S17/34
US-8928865-B2,G01S17/89
US-8911410-B2,A61M37/00
US-8911410-B2,A61M5/20
US-8911410-B2,A61M5/32
US-8848411-B2,G11C15/04
US-9652521-B2,G06F7/00
US-9652521-B2,G06F17/30
US-8643321-B2,H02P7/00
US-8643321-B2,H02H7/085
US-9376833-B2,E05B1/00
US-9376833-B2,A61L2/18
US-9376833-B2,A61L2/10
US-9376833-B2,E05B63/00
US-8518364-B2,C01G47/00
US-8518364-B2,C01G35/00
US-8518364-B2,C01G41/00
US-8518364-B2,C01G39/06
US-8518364-B2,C01G55/00
US-8518364-B2,C01G27/00
US-8615244-B2,H04W24/10
US-8842047-B2,H01Q5/321
US-8842047-B2,H01Q5/328
US-8842047-B2,H01Q1/38
US-8842047-B2,H01Q9/04
US-8815122-B2,C09K11/08
US-8815122-B2,C09K11/77
US-9052538-B2,G09G3/36
US-9052538-B2,G02F1/133
US-9052538-B2,G09G5/00
US-8856234-B2,G06F17/30
US-8856234-B2,H04L29/06
US-8856234-B2,G06F15/16
US-8856234-B2,G06F17/24
US-9211492-B2,C04B38/00
US-9211492-B2,C04B41/00
US-9211492-B2,F01M13/04
US-9211492-B2,B01D45/08
US-9593581-B2,F01D5/02
US-9593581-B2,F01D11/02
US-9292737-B2,G06Q20/04
US-9292737-B2,G06V30/40
US-9292737-B2,G06V30/10
US-9292737-B2,G06V30/224
US-9342526-B2,G06F7/00
US-9342526-B2,G06F17/30
US-9342526-B2,G06F9/50
US-9342526-B2,G06F3/06
US-8939137-B2,F41B5/22
US-8939137-B2,F41B5/14
US-9047554-B2,G06K15/02
US-9047554-B2,G06F3/12
US-9047554-B2,G06T11/60
US-9047554-B2,G06T11/00
US-9088106-B2,H01R24/64
US-9088106-B2,H05K1/02
US-9088106-B2,H05K1/11
US-9088106-B2,H01R13/6466
US-9088106-B2,H05K1/14
US-8737388-B2,H04L12/56
US-9323683-B2,G06F12/08
US-9323683-B2,G06F11/34
US-9323683-B2,G06F12/02
US-9323683-B2,G06F11/20
US-9323683-B2,G06F11/10
US-8878121-B2,H04N25/00
US-8878121-B2,H01L27/146
US-8878121-B2,H01L31/00
US-8878121-B2,H01L27/148
US-8995452-B2,H04L12/46
US-8995452-B2,H04L12/28
US-8995452-B2,H04L45/58
US-9218976-B2,H01L21/4763
US-9218976-B2,H01L21/3205
US-9218976-B2,H01L21/28
US-9218976-B2,H01L21/8238
US-9218976-B2,H01L29/66
US-9218976-B2,H01L29/49
US-9437584-B2,B81C1/00
US-9437584-B2,H01L23/34
US-9437584-B2,H01L25/065
US-9437584-B2,H01L25/16
US-9437584-B2,H01L25/11
US-9437584-B2,H01L23/40
US-9437584-B2,H01L25/04
US-9482626-B2,G01R27/04
US-9482626-B2,G01N22/00
US-9482626-B2,G01N22/02
US-9482626-B2,G01R27/32
US-8894288-B2,B64C27/12
US-8894288-B2,B64D33/08
US-8894288-B2,F16C33/66
US-8894288-B2,B64D13/08
US-8894288-B2,F16C37/00
US-11031602-B2,H01M50/503
US-11031602-B2,H01M50/531
US-11031602-B2,B60L50/64
US-11031602-B2,H01M4/70
US-11031602-B2,H01M50/543
US-11031602-B2,H01M50/55
US-9649467-B2,A61M16/10
US-9649467-B2,C01B21/24
US-9649467-B2,A61M16/12
US-9649467-B2,A61M16/06
US-9649467-B2,A61M15/08
US-9649467-B2,B01D53/00
US-9649467-B2,A61M15/00
US-9522418-B2,B21B35/00
US-9522418-B2,B21B31/02
US-9522418-B2,B21B13/06
US-9522418-B2,B21B1/088
US-9522418-B2,B21B1/08
US-9522418-B2,B21B45/02
US-9522418-B2,B21D1/02
US-10109894-B2,H01M10/6565
US-10109894-B2,H01M10/6556
US-10109894-B2,H01M10/663
US-10109894-B2,H01M10/647
US-10109894-B2,H01M10/615
US-10109894-B2,H01M10/613
US-10109894-B2,H01M10/60
US-10109894-B2,H01M10/6571
US-10109894-B2,H01M10/625
US-10109894-B2,B60K1/04
US-10109894-B2,H01M10/6562
US-10109894-B2,H01M50/271
US-10109894-B2,H01M50/249
US-10109894-B2,H01M50/209
US-9374093-B2,H03K3/00
US-9374093-B2,H03K19/0185
US-9374093-B2,H03B1/00
US-9200455-B2,E04F13/08
US-9200455-B2,E04F13/06
US-9200455-B2,E04D13/04
US-9200455-B2,E04C2/38
US-9200455-B2,E04F19/06
US-9344086-B2,H03K5/08
US-9344086-B2,H03K19/00
US-9344086-B2,H03K5/24
US-9151039-B2,E04B1/70
US-9151039-B2,E04B1/66
US-8918251-B2,B60R16/023
US-8918251-B2,B60R25/00
US-8918251-B2,B60R25/04
US-9408896-B2,A61K39/00
US-9084802-B2,A61K9/00
US-9084802-B2,A61K31/21
US-9084802-B2,A01N47/00
US-9084802-B2,A61K31/65
US-9084802-B2,A61K47/02
US-10030011-B2,C07D417/12
US-10030011-B2,A61K31/437
US-10030011-B2,A61K31/428
US-10030011-B2,C07D471/04
US-10030011-B2,A61K31/4188
US-10030011-B2,C07D513/04
US-10030011-B2,C07D417/14
US-10030011-B2,A61K31/4168
US-10030011-B2,C07D235/30
US-9124016-B2,H01R13/422
US-9124016-B2,H01R13/506
US-9124016-B2,H01R13/52
US-9124016-B2,H01R31/08
US-10823164-B2,F04B43/02
US-10823164-B2,F04B43/04
US-10823164-B2,F04B4
Query:
SELECT DISTINCT f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Answer:
Too long, hard cut:
ipc_code
G06Q10/10
B29C45/14
F16K31/06
C07D263/48
B01D33/39
A61Q5/00
D06F39/08
H01L21/00
H04Q3/00
B64C13/30
B05B12/12
A61K31/165
H01L23/02
C12N15/29
H04W28/26
H01M8/124
C09D11/52
B65H3/34
H04W88/00
B21D22/06
C07D491/056
H01L21/761
F04C15/00
F01D25/12
G06F1/12
H04L47/76
H04B10/2513
F01C21/10
A44C9/02
F16B5/06
A61M60/82
B30B3/04
H01L21/477
H01M50/213
G11C11/4076
H01L25/065
A61B3/14
G01N22/00
H01M10/647
G06T3/00
H03K19/00
G06F17/10
A61K47/02
C08B37/00
G01N30/02
G10K11/168
A01K67/00
F02B19/02
A61B90/30
B65D88/02
A01J5/017
C07K14/485
B01D71/02
C08F220/68
A46B9/04
C09D175/04
A61F2/08
G03G5/06
C12Q1/6883
A61K35/74
G09F9/00
C22C38/42
H02M3/158
A61B1/32
H01L29/739
H04B7/0413
A61B90/14
A61L2/20
D01F9/22
C09D11/08
B23Q5/10
H01M4/485
B23B3/22
F28F3/12
G21C13/024
B01D36/00
C12C13/10
C08J3/21
B64G1/28
G02B15/177
B01J35/00
G05B17/02
E21B43/16
A01N43/06
H04L65/612
B42C1/00
H04W68/00
G01S5/16
E01B9/42
G06F16/435
B22F10/80
B42B5/12
A61K47/08
B22F10/00
G01S3/36
F23Q9/14
C07K14/395
F21Y103/00
F24F8/192
C04B103/00
G01R33/34
G01T3/08
C09K8/487
C07C29/50
C23C22/80
A61K8/9794
F15B21/14
G06F9/45
H01M8/1007
E02B3/02
G01B11/02
B60K11/08
H04B10/17
E06B7/09
H01R33/00
G01R31/3187
B60R21/215
C23C16/34
F04D29/051
H01M4/68
E05B79/10
G01N23/083
C08G77/34
B60K3/04
C07D413/10
H04L47/6275
E04D13/08
H04B10/2525
A63B21/002
G11B20/10
H04N21/8358
C12N15/49
C12N15/12
C12N15/19
A61K36/284
B01J47/022
C10B15/02
C22B58/00
F02D41/02
G01S3/783
A63F13/88
A61K36/804
C02F103/02
G01T1/167
G03B15/00
H01Q9/30
G02F1/313
F16L33/02
B60T1/06
F01P5/04
C06B47/00
H04N21/2543
F21K9/90
C25D21/18
F01M11/10
A63F1/18
C22F1/04
F16H48/26
C11D1/62
G01B7/28
G03C5/00
B60L53/12
A47L11/24
B01D47/05
B29C63/00
H01L31/101
F27B15/09
B60R16/04
B29C70/30
A61K33/22
B25C1/06
G06F30/39
G01S11/00
C07C215/60
H01M50/426
B23K37/053
G01R22/06
A23J3/14
H02K33/10
B04B7/06
H01G11/56
C25B13/02
A61M60/135
H01J49/26
G11B5/596
A23J7/00
A42B1/06
B26D5/00
F04D29/08
C08F220/16
A41F1/00
F16H37/04
F04C2/16
G06F16/9035
H03D7/16
H01M50/529
A61K31/421
B65D85/68
A61K31/395
F02B75/22
B65D47/36
G03C1/494
G01S1/02
D04H1/4391
H02K41/03
E05B81/14
C07D307/45
G11B15/46
G11B19/26
G05B11/32
B29C45/82
C08L23/04
C07K5/10
B05D1/38
C07C29/147
H01P3/02
H04M1/72418
B29C44/04
A61P3/14
F16C33/72
H01C1/148
F02B43/04
F24F1/46
C07D471/18
A61B17/225
G06V10/26
H04N21/237
C08K5/25
H10N35/00
G06Q50/34
A61B5/38
B23P21/00
A46B13/04
B63H9/061
C07D213/86
A23B4/052
B23K37/08
F25B21/00
A43C11/16
B60T8/38
H04L47/27
F02B37/10
H01R13/6592
C08L13/00
C10B53/02
C12P7/22
H01J37/147
H01J61/40
G08B1/00
A24D1/02
C03B9/24
B24B37/30
D06M11/47
F27D3/10
G21K4/00
G11B5/58
B62M6/40
A61B90/00
G02C7/02
B60W10/06
H04W4/24
H04L27/38
G01N30/88
G06F13/20
B22F3/24
H01L25/16
F25B30/06
H04B1/02
A61B5/296
B29K105/00
B29C41/02
A61F2/958
F21W107/00
A61G7/057
H04L9/08
H02K11/33
B29C64/188
H01L27/08
G06K9/22
F02C9/28
H04W28/08
H04L12/931
G02B27/10
C07D215/48
H04W72/54
G06T3/40
G01J3/26
G06F3/0489
C09K11/08
B64D33/08
A61K31/4188
H01L31/00
H01M50/543
H01M10/60
A61F2/46
H04W74/00
A23C11/10
F24C7/06
H04L12/803
H04L12/753
H01L27/144
B01D11/04
H02H9/00
G06F16/51
H10B51/10
C08G63/183
F04B35/04
A61P27/04
H02N2/00
C10N40/30
H04N19/91
A01H6/14
G09F3/02
G02F1/1345
H04M11/02
A61C9/00
H03M13/11
A61N1/37
H10B41/41
H01Q25/04
H01Q21/00
G02B7/02
A61P35/02
B41F13/00
C21C7/076
F01C20/18
F01C1/24
A61K31/497
G01R11/32
F24F11/84
B05B12/02
G06F16/53
C08J5/00
B29C33/58
H04R5/04
G01R33/36
H04L47/20
F26B5/06
H01L21/263
C10M159/00
A61B17/122
A01N43/70
H03K7/02
B30B11/00
F21V7/00
A47G19/22
G02B1/00
H03K17/08
H03K17/10
A61M60/861
C08F110/06
G01N21/17
G02B6/00
B05B11/00
B64F1/32
B07B1/46
G06K5/00
B65D43/12
A01G23/099
B01J23/56
H03M7/40
H04N19/00
A47B81/06
B60Q1/18
B29C44/34
H01J7/24
H03G5/00
G01B11/10
G03B11/04
C09K19/20
H04B10/112
C08F120/12
G01L1/24
H04N19/88
E21B10/16
B23K101/12
H01R9/18
A61K9/127
C02F103/18
A61L24/06
C12C7/047
H03F1/32
G05F1/70
F16H57/05
C12Q1/44
E04D3/30
H05B45/48
B29C64/118
A61J1/10
C09J163/10
G06F13/32
H03K17/689
A43B21/26
G06F12/0811
H01J49/10
G01J3/51
B41F9/00
G06F1/3212
C12Q1/6874
F42B12/46
E02B11/00
E05B85/10
B66B19/00
B23K1/20
G06F1/3225
G06V10/28
H03K17/04
C07J71/00
B01D46/26
F16D3/20
C09C3/08
B23Q3/06
B62K5/05
C09J133/08
G01N23/201
F24D3/18
H01M50/598
E05D11/10
G01N37/00
C23C14/00
F02B37/16
B65G37/02
B02C18/22
F16C33/36
H04N21/8545
A63C17/01
C22B3/22
H02K33/12
B65D43/16
H04N5/3745
E21B44/04
B24D13/14
G11B23/30
F22B37/32
F02F1/36
F21V21/08
G11B5/035
C08F8/14
H01C7/12
F41C23/02
G21K1/04
C25B1/04
F15B15/20
C07D277/68
H01B17/60
F16J15/447
B21F1/00
H01F1/16
H01L23/64
H01F1/12
G07F17/16
F16G11/00
H01M50/528
H01J37/302
B41F31/08
G02B6/132
D06F58/28
B60J11/00
F21V29/508
G11C16/12
D01D5/253
B62K21/04
H03L7/183
H02M3/18
E05C9/12
H01Q5/364
F16H55/30
F25D3/02
C07C233/02
G09F5/00
B66C23/84
H01L29/68
F16N31/00
D06F71/36
E02F9/06
E02D19/00
E05F11/38
D04H1/492
E03F9/00
H01G4/018
H04W92/24
B61F5/28
G01F11/02
B01D21/34
B23K9/167
B08B3/06
C08K5/357
C03B19/08
B01D45/00
C08F14/14
G04G21/00
G02B30/10
C07D209/40
F02D41/18
F42D1/05
H01L29/92
H01B5/14
B60K6/543
C08F210/08
G01S19/23
C09J131/
Query:
SELECT 
    t."publication_number", 
    f.value:"code"::STRING AS "ipc_code"
FROM 
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE 
    t."country_code" = 'US' 
    AND t."kind_code" = 'B2'
    AND f.value:"first"::BOOLEAN = TRUE
LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-8210142-B2,F01L1/34
US-8338035-B2,H01M2/16
US-8609829-B2,C07H21/04
US-8240274-B2,A01K1/03
US-8904292-B2,G06F3/00
US-8480325-B2,A46B9/08
US-9028758-B2,G01N33/22
US-8462223-B2,H04N23/40
US-7944609-B2,G02B21/00
US-10236950-B2,H04B7/0417
US-8733262-B2,D05B87/00
US-8248448-B2,H04M11/00
US-8590235-B2,E04F17/00
US-8086194-B2,H04B1/06
US-8086194-B2,H04J11/00
US-8587485-B2,H01Q1/24
US-8383945-B2,H02G15/02
US-8246716-B2,C21C7/076
US-8915088-B2,F02C7/22
US-8644322-B2,H04L12/56
US-8967144-B2,A61M16/00
US-8500357-B2,F16B7/02
US-8480874-B2,G01N27/453
US-8707381-B2,H04N7/173
US-9038000-B2,G06F17/24
US-8777568-B2,F01D5/18
US-8349603-B2,C12M1/34
US-8508509-B2,G06F3/042
US-9144476-B2,A46B13/02
US-8739403-B2,H01R43/00
US-8381946-B2,B65D43/22
US-8573754-B2,B41J2/16
US-8573754-B2,B41J2/045
US-8950264-B2,G01M7/02
US-8421224-B2,G06K19/077
US-8574791-B2,H01M8/12
US-8700341-B2,G16B20/20
US-8700341-B2,G01N33/48
US-8328111-B2,E01B23/00
US-9169572-B2,H01M8/06
US-8554928-B2,H04L45/122
US-8554928-B2,G06F15/16
US-8560474-B2,G06N5/00
US-8768237-B2,G03G15/00
US-8704641-B2,H04Q5/22
US-9089610-B2,A61K47/48
US-8830213-B2,G06F3/038
US-8751177-B2,G06F19/00
US-8523936-B2,A61F2/06
US-8619133-B2,H04N7/18
US-8806065-B2,G06F15/16
US-8385941-B2,H04W24/00
US-8672784-B2,A63B41/00
US-8790422-B2,C10L1/10
US-8630165-B2,G01R31/08
US-8638032-B2,H01J1/62
US-9106878-B2,G09G5/02
US-9028530-B2,A61B17/04
US-8648178-B2,C07K14/51
US-8653433-B2,H03G3/20
US-8486813-B2,H01L21/322
US-8497217-B2,H01L21/205
US-8628835-B2,A61F2/66
US-8905204-B2,F16D51/00
US-8897303-B2,H04L12/28
US-8572200-B2,G06F15/16
US-8521013-B2,H05B3/62
US-9329365-B2,G02B13/14
US-8893348-B2,B60S1/38
US-8903697-B2,G06F17/50
US-8830758-B2,G11C7/06
US-8851114-B2,F16L37/32
US-9040017-B2,A61K51/04
US-8893136-B2,G06F9/46
US-8745158-B2,G06F15/16
US-8229217-B2,H04N23/12
US-8229217-B2,G06K9/00
US-8731418-B2,G03G15/00
US-9505537-B2,B65B3/26
US-8967952-B2,F01B25/02
US-8560532-B2,G06F7/00
US-8864258-B2,B41J29/38
US-8527532-B2,G06F17/30
US-8966958-B2,G01N15/10
US-8651274-B2,B65D73/00
US-9047835-B2,G09G5/10
US-8770955-B2,F01C1/18
US-9009284-B2,G06F15/173
US-9181436-B2,A61K8/02
US-9152566-B2,G06F12/08
US-8726214-B2,G06F17/50
US-8830177-B2,G09G5/00
US-9276150-B2,C08L83/04
US-8599051-B2,H03M1/06
US-9002672-B2,G01D18/00
US-8570796-B2,G11C11/00
US-8484114-B2,G06Q40/00
US-8902586-B2,H05K5/00
US-8804390-B2,H02M7/44
US-8905370-B2,F16M13/00
US-10748170-B2,G06Q30/00
US-8882161-B2,E05C3/16
US-9053245-B2,G06F11/00
US-9309435-B2,C09D133/00
US-8659067-B2,H01L29/76
US-8981843-B2,G05F1/12
US-8920395-B2,A61M1/00
US-9004917-B2,A61C19/045
US-9317982-B2,H04Q1/00
US-9150444-B2,C02F3/00
US-9103795-B2,G01N21/00
US-8883715-B2,A61K31/00
US-8883715-B2,A61K9/08
US-9083005-B2,H01L21/00
US-9265617-B2,A61F2/44
US-9157667-B2,F25B7/00
US-9288612-B2,H04W92/18
US-9288612-B2,H04W4/80
US-8830752-B2,G11C16/04
US-8957450-B2,H01L33/62
US-8967362-B2,G07F9/00
US-9438017-B2,H02G3/08
US-8862330-B2,A01B69/00
US-9169941-B2,F16K31/06
US-10284859-B2,H04N7/12
US-9466599-B2,H02H9/00
US-8856379-B2,G06F15/16
US-9091060-B2,E04B1/86
US-9087841-B2,H01L23/52
US-10959775-B2,A61B18/14
US-9156164-B2,B25J9/16
US-9256652-B2,G06F17/30
US-9244073-B2,G01N33/53
US-9316812-B2,G02B3/02
US-9514786-B2,G06T11/20
US-9449376-B2,G06K9/34
US-8933415-B2,G21K5/04
US-9469007-B2,B24B23/02
US-9459437-B2,G02B21/20
US-10328238-B2,A61B18/00
US-9245396-B2,G08B1/08
US-10597993-B2,E21B43/38
US-9167430-B2,G06F7/04
US-9354613-B2,G04G9/02
US-8956998-B2,A01N43/36
US-9424108-B2,G06F3/00
US-9384860-B2,G11C7/00
US-9254730-B2,B60J5/04
US-9342879-B2,G06K9/00
US-9088091-B2,H01R13/58
US-9223221-B2,H01L21/461
US-9365566-B2,C07D471/04
US-10281986-B2,G06F3/01
US-10807121-B2,B05D3/04
US-9496997-B2,H04L5/00
US-10155792-B2,C07K14/195
US-8942488-B2,G06K9/62
US-9419066-B2,H05B33/26
US-9419066-B2,H10K99/00
US-9299147-B2,G06K9/32
US-9599587-B2,G11C16/04
US-9150564-B2,A61K31/54
US-10116022-B2,H01M12/08
US-9064653-B2,H01H5/18
US-9165600-B2,G11B5/584
US-9361055-B2,G06F3/12
US-9428653-B2,C09D4/00
US-9625558-B2,G01R11/32
US-10105711-B2,B07B7/08
US-9536693-B2,H01H7/08
US-10130893-B2,A63H33/08
US-10282491-B2,G06F17/50
US-10568778-B2,A61F13/42
US-10073951-B2,G06F19/00
US-10507419-B2,B01D33/073
US-10122318-B2,G05B15/00
US-10359209-B2,F24F11/30
US-9346656-B2,B66C13/06
US-10059084-B2,B32B5/16
US-9274095-B2,G06K9/00
US-9427641-B2,G06F19/00
US-10588576-B2,A61N2/00
US-10569071-B2,A61M37/00
US-10562654-B2,B65B29/02
US-10119947-B2,G01N33/00
US-10814225-B2,A63F13/426
US-10294784-B2,E21B49/08
US-10152693-B2,G06Q10/10
US-9451817-B2,H04M1/00
US-10114692-B2,H03M13/37
US-10306320-B2,H04N21/472
US-10402122-B2,G06F3/06
US-10351411-B2,B67D1/00
US-10611098-B2,B29C48/30
US-10611098-B2,B29C67/00
US-10153723-B2,H02S10/30
US-10234639-B2,G02B6/38
US-10148977-B2,H04N19/513
US-9499521-B2,C07D233/78
US-10201799-B2,B01J19/32
US-10375190-B2,G06F15/16
US-10614229-B2,G06F21/60
US-11002493-B2,F28D20/02
US-10172339-B2,A01K97/06
US-10820990-B2,A61F2/24
US-11383851-B2,B64D31/04
US-10392991-B2,F01N3/20
US-10884008-B2,B01L3/00
US
Query:
SELECT t."publication_number", t."publication_date"
   FROM PATENTS.PATENTS.PUBLICATIONS t
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   AND t."publication_date" BETWEEN 20220601 AND 20220831
   LIMIT 1000;
Answer:
publication_number,publication_date
US-11404853-B2,20220802
US-11373466-B2,20220628
US-11382705-B2,20220712
US-11397148-B2,20220726
US-11394231-B2,20220719
US-11408811-B2,20220809
US-11416022-B2,20220816
US-11393239-B2,20220719
US-11353091-B2,20220607
US-11372255-B2,20220628
US-11383851-B2,20220712
US-11396572-B2,20220726
US-11407017-B2,20220809
US-11360542-B2,20220614
US-11379962-B2,20220705
US-11370724-B2,20220628
US-11416001-B2,20220816
US-11396732-B2,20220726
US-11374026-B2,20220628
US-11369217-B2,20220628
US-11407829-B2,20220809
US-11399950-B2,20220802
US-11381283-B2,20220705
US-11409410-B2,20220809
US-11412923-B2,20220816
US-11384000-B2,20220712
US-11369714-B2,20220628
US-11373467-B2,20220628
US-11407174-B2,20220809
US-11376718-B2,20220705
US-11427279-B2,20220830
US-11424341-B2,20220823
US-11379973-B2,20220705
US-11428135-B2,20220830
US-11407366-B2,20220809
US-11377840-B2,20220705
US-11388258-B2,20220712
US-11375403-B2,20220628
US-11363222-B2,20220614
US-11380354-B2,20220705
US-11392814-B2,20220719
US-11396158-B2,20220726
US-11431960-B2,20220830
US-11368189-B2,20220621
US-11408566-B2,20220809
US-11386539-B2,20220712
US-11389955-B2,20220719
US-11368762-B2,20220621
US-11375960-B2,20220705
US-11404307-B2,20220802
US-11407307-B2,20220809
US-11410365-B2,20220809
US-11386741-B2,20220712
US-11370085-B2,20220628
US-11385163-B2,20220712
US-11391553-B2,20220719
US-11430607-B2,20220830
US-11381650-B2,20220705
US-11394671-B2,20220719
US-11381908-B2,20220705
US-11400796-B2,20220802
US-11405983-B2,20220802
US-11364337-B2,20220621
US-11407574-B2,20220809
US-11393841-B2,20220719
US-11417842-B2,20220816
US-11375809-B2,20220705
US-11385961-B2,20220712
US-11386886-B2,20220712
US-11352686-B2,20220607
US-11352465-B2,20220607
US-11391059-B2,20220719
US-11380765-B2,20220705
US-11376319-B2,20220705
US-11367437-B2,20220621
US-11428911-B2,20220830
US-11422364-B2,20220823
US-11398593-B2,20220726
US-11384177-B2,20220712
US-11354261-B2,20220607
US-11396939-B2,20220726
US-11401845-B2,20220802
US-11365041-B2,20220621
US-11418715-B2,20220816
US-11382018-B2,20220705
US-11412960-B2,20220816
US-11351355-B2,20220607
US-11364500-B2,20220621
US-11396506-B2,20220726
US-11386278-B2,20220712
US-11372388-B2,20220628
US-11374644-B2,20220628
US-11387209-B2,20220712
US-11428067-B2,20220830
US-11418602-B2,20220816
US-11357437-B2,20220614
US-11376346-B2,20220705
US-11376070-B2,20220705
US-11352335-B2,20220607
US-11401923-B2,20220802
US-11430204-B2,20220830
US-11376885-B2,20220705
US-11372439-B2,20220628
US-11401219-B2,20220802
US-11392816-B2,20220719
US-11363375-B2,20220614
US-11419318-B2,20220823
US-11371080-B2,20220628
US-11429930-B2,20220830
US-11402589-B2,20220802
US-11356221-B2,20220607
US-11382847-B2,20220712
US-11407172-B2,20220809
US-11400006-B2,20220802
US-11391070-B2,20220719
US-11407775-B2,20220809
US-11422371-B2,20220823
US-11354278-B2,20220607
US-11390055-B2,20220719
US-11382363-B2,20220712
US-11401234-B2,20220802
US-11400486-B2,20220802
US-11397228-B2,20220726
US-11353321-B2,20220607
US-11363536-B2,20220614
US-11400138-B2,20220802
US-11393967-B2,20220719
US-11353839-B2,20220607
US-11423539-B2,20220823
US-11388673-B2,20220712
US-11398087-B2,20220726
US-11424563-B2,20220823
US-11375590-B2,20220628
US-11421473-B2,20220823
US-11421276-B2,20220823
US-11414872-B2,20220816
US-11378383-B2,20220705
US-11401428-B2,20220802
US-11422402-B2,20220823
US-11410148-B2,20220809
US-11409969-B2,20220809
US-11374640-B2,20220628
US-11352902-B2,20220607
US-11389834-B2,20220719
US-11351045-B2,20220607
US-11392648-B2,20220719
US-11395931-B2,20220726
US-11410444-B2,20220809
US-11424884-B2,20220823
US-11422523-B2,20220823
US-11420401-B2,20220823
US-11360211-B2,20220614
US-11398338-B2,20220726
US-11412422-B2,20220809
US-11354655-B2,20220607
US-11387213-B2,20220712
US-11375479-B2,20220628
US-11405208-B2,20220802
US-11420656-B2,20220823
US-11378746-B2,20220705
US-11375241-B2,20220628
US-11380566-B2,20220705
US-11416699-B2,20220816
US-11412231-B2,20220809
US-11412974-B2,20220816
US-11423376-B2,20220823
US-11363813-B2,20220621
US-11426634-B2,20220830
US-11365729-B2,20220621
US-11419647-B2,20220823
US-11375912-B2,20220705
US-11416109-B2,20220816
US-11376109-B2,20220705
US-11393351-B2,20220719
US-11406832-B2,20220809
US-11379726-B2,20220705
US-11426701-B2,20220830
US-11430084-B2,20220830
US-11421980-B2,20220823
US-11374056-B2,20220628
US-11382760-B2,20220712
US-11413710-B2,20220816
US-11387621-B2,20220712
US-11373280-B2,20220628
US-11423146-B2,20220823
US-11400365-B2,20220802
US-11411015-B2,20220809
US-11373404-B2,20220628
US-11421011-B2,20220823
US-11384463-B2,20220712
US-11413537-B2,20220816
US-11414016-B2,20220816
US-11415428-B2,20220816
US-11374401-B2,20220628
US-11397326-B2,20220726
US-11406524-B2,20220809
US-11390722-B2,20220719
US-11389656-B2,20220719
US-11374186-B2,20220628
US-11369979-B2,20220628
US-11391381-B2,20220719
Query:
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t,
   LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   AND t."publication_date" BETWEEN 20220601 AND 20220831
   LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-11389955-B2,F15B9/09
US-11389955-B2,B25J9/16
US-11389955-B2,B25J15/02
US-11389955-B2,F15B15/10
US-11389955-B2,G06F17/00
US-11389955-B2,B25J9/14
US-11389955-B2,B25J15/00
US-11389955-B2,F15B15/14
US-11389955-B2,F15B13/04
US-11368762-B2,H04N21/81
US-11368762-B2,H04N21/24
US-11368762-B2,G06V10/764
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/06
US-11375960-B2,A61B5/00
US-11375960-B2,A61B5/11
US-11404307-B2,H01L23/00
US-11404307-B2,H04B1/40
US-11404307-B2,H01L23/528
US-11404307-B2,H01L21/768
US-11404307-B2,H01L23/535
US-11407307-B2,B60K17/02
US-11407307-B2,B60K17/16
US-11407307-B2,B60K23/04
US-11407307-B2,F16H48/36
US-11407307-B2,B60K1/02
US-11410365-B2,G06F3/0482
US-11410365-B2,G06T7/20
US-11410365-B2,G06T13/40
US-11410365-B2,G06F3/04845
US-11410365-B2,G06T7/70
US-11410365-B2,G06T7/194
US-11410365-B2,G06T19/00
US-11386741-B2,G07F17/34
US-11386741-B2,G06T7/80
US-11386741-B2,G07F17/32
US-11386741-B2,G06T7/73
US-11370085-B2,B24C3/06
US-11370085-B2,B24C3/32
US-11370085-B2,B24C9/00
US-11370085-B2,B24C7/00
US-11370085-B2,B24C3/22
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,B23D77/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/012
US-11430607-B2,H01G2/06
US-11430607-B2,H01G4/008
US-11430607-B2,H01G4/232
US-11430607-B2,H01G4/228
US-11430607-B2,H01G4/12
US-11430607-B2,H01G4/248
US-11430607-B2,H01G4/30
US-11368189-B2,G06F21/60
US-11368189-B2,H04W12/041
US-11368189-B2,H04W12/06
US-11368189-B2,H04L9/08
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11408566-B2,E21B47/06
US-11408566-B2,E21B43/01
US-11408566-B2,E21B34/00
US-11408566-B2,E21B43/017
US-11408566-B2,F17D1/20
US-11408566-B2,F17D3/12
US-11408566-B2,F17D3/01
US-11386539-B2,H01L21/67
US-11386539-B2,G06T7/00
US-11373466-B2,G07C5/08
US-11373466-B2,B60W50/02
US-11373466-B2,B60R21/0134
US-11373466-B2,B60R21/0136
US-11382705-B2,A61B34/30
US-11382705-B2,A61B34/00
US-11382705-B2,B25J17/00
US-11382705-B2,B25J17/02
US-11382705-B2,A61B17/00
US-11382705-B2,B25J18/00
US-11382705-B2,A61B90/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11394231-B2,H02J7/00
US-11394231-B2,H02J3/46
US-11394231-B2,H02J3/32
US-11408811-B2,G01N15/08
US-11408811-B2,E21B43/16
US-11408811-B2,E21B49/08
US-11416022-B2,G06F1/14
US-11416022-B2,G06F1/08
US-11416022-B2,H04L7/02
US-11416022-B2,G01R31/317
US-11416022-B2,G06J1/02
US-11393239-B2,G01N29/34
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11353091-B2,F16H3/44
US-11372255-B2,G06F3/03
US-11372255-B2,G06F3/0354
US-11372255-B2,G02B27/09
US-11367437-B2,G10L17/00
US-11367437-B2,G10L15/20
US-11367437-B2,G10L21/02
US-11367437-B2,G10L15/22
US-11367437-B2,H04R1/40
US-11428911-B2,G02B27/00
US-11428911-B2,G02B27/64
US-11428911-B2,G02B5/00
US-11428911-B2,G02B15/14
US-11422364-B2,G02B26/08
US-11422364-B2,G02B27/42
US-11422364-B2,G02B27/00
US-11422364-B2,G06T19/00
US-11398593-B2,H01L29/06
US-11398593-B2,B82Y40/00
US-11398593-B2,B82Y10/00
US-11398593-B2,G06N10/00
US-11398593-B2,H01L29/423
US-11398593-B2,H01L29/66
US-11398593-B2,H10N60/80
US-11398593-B2,H10N60/01
US-11384177-B2,C08F20/56
US-11384177-B2,C08K5/47
US-11384177-B2,C08J3/07
US-11384177-B2,C08K5/3435
US-11384177-B2,E21B43/20
US-11384177-B2,C12P13/02
US-11384177-B2,C09K8/588
US-11384177-B2,C09K8/68
US-11384177-B2,E21B43/267
US-11384177-B2,C08F220/56
US-11384177-B2,E21B21/00
US-11354261-B2,G05B19/042
US-11354261-B2,G06F3/00
US-11354261-B2,G06F13/40
US-11354261-B2,G06F13/42
US-11396939-B2,F16H57/00
US-11396939-B2,F16H57/023
US-11401845-B2,F01M13/02
US-11401845-B2,F02B39/14
US-11401845-B2,F02M25/06
US-11401845-B2,F02M35/16
US-11401845-B2,F02B37/02
US-11401845-B2,F02B67/00
US-11401845-B2,F02B37/00
US-11401845-B2,F02F1/24
US-11401845-B2,F01M11/02
US-11401845-B2,F01M13/00
US-11401845-B2,F02M35/10
US-11401845-B2,F01M13/04
US-11401845-B2,F01M9/10
US-11401845-B2,F02F7/00
US-11365041-B2,F04B33/00
US-11365041-B2,F04B49/24
US-11365041-B2,F04B39/12
US-11365041-B2,B65D43/02
US-11365041-B2,B65D51/24
US-11365041-B2,F04B39/10
US-11365041-B2,F04B39/00
US-11365041-B2,B65D81/20
US-11365041-B2,F04B41/00
US-11418715-B2,G06F3/01
US-11418715-B2,H04N5/232
US-11381650-B2,H04L67/50
US-11381650-B2,H04L67/75
US-11381650-B2,H04L67/125
US-11381650-B2,G16H50/80
US-11381650-B2,H04W4/02
US-11394671-B2,G06Q30/00
US-11394671-B2,H04L51/00
US-11394671-B2,H04L51/046
US-11394671-B2,G06Q30/06
US-11394671-B2,H04L51/02
US-11394671-B2,H04W4/14
US-11381908-B2,H04R3/00
US-11381908-B2,H02P7/025
US-11381908-B2,H03F1/32
US-11381908-B2,H03F3/181
US-11381908-B2,H04R29/00
US-11381908-B2,H04R9/06
US-11381908-B2,H04R3/04
US-11400796-B2,B60H1/34
US-11400796-B2,B60Q3/54
US-11400796-B2,B60Q3/41
US-11400796-B2,B60H1/24
US-11405983-B2,H05B3/03
US-11405983-B2,H05B1/02
US-11364337-B2,A61M5/145
US-11364337-B2,A61M5/14
US-11364337-B2,A61M5/158
US-11364337-B2,A61M5/142
US-11364337-B2,A61M5/24
US-11364337-B2,A61M5/32
US-11364337-B2,A61M5/20
US-11407574-B2,B65G17/18
US-11407574-B2,B65D81/20
US-11407574-B2,B65G35/06
US-11393841-B2,H01L21/28
US-11393841-B2,H01L29/49
US-11393841-B2,H01L29/51
US-11393841-B2,
Query:
SELECT t."publication_number",
           SUBSTR(f.value::VARIANT:"code"::STRING, 0, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc4_code
US-11421276-B2,C12Q
US-11414872-B2,B65H
US-11414872-B2,B65H
US-11414872-B2,E04D
US-11414872-B2,B65H
US-11378383-B2,G06F
US-11378383-B2,G01D
US-11378383-B2,G06F
US-11378383-B2,G01B
US-11378383-B2,G01B
US-11378383-B2,G05D
US-11378383-B2,G01B
US-11401428-B2,C09D
US-11401428-B2,B05D
US-11401428-B2,C09D
US-11401428-B2,C09D
US-11401428-B2,C09D
US-11401428-B2,C08G
US-11401428-B2,C08G
US-11401428-B2,C09D
US-11401428-B2,C08G
US-11401428-B2,B05D
US-11401428-B2,B05D
US-11401428-B2,C08G
US-11422402-B2,B60R
US-11422402-B2,B64D
US-11422402-B2,G06F
US-11422402-B2,G02F
US-11422402-B2,G02F
US-11422402-B2,G06F
US-11422402-B2,G06F
US-11422402-B2,H04N
US-11422402-B2,G06F
US-11422402-B2,B60K
US-11422402-B2,G09F
US-11422402-B2,B60R
US-11410148-B2,G06Q
US-11410148-B2,H04L
US-11409969-B2,G06K
US-11409969-B2,G08B
US-11409969-B2,G06K
US-11409969-B2,G07G
US-11409969-B2,H04B
US-11374640-B2,H04B
US-11374640-B2,H04L
US-11374640-B2,H04B
US-11374640-B2,H04W
US-11352902-B2,F01D
US-11352902-B2,F01D
US-11389834-B2,G05B
US-11389834-B2,B07C
US-11389834-B2,B07C
US-11389834-B2,B07C
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61M
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11412923-B2,A61B
US-11384000-B2,C02F
US-11384000-B2,C02F
US-11384000-B2,G06F
US-11384000-B2,C02F
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,A61L
US-11369714-B2,C12N
US-11369714-B2,A61L
US-11373467-B2,G07C
US-11373467-B2,G07C
US-11407174-B2,B29C
US-11407174-B2,B33Y
US-11407174-B2,B29C
US-11407174-B2,B33Y
US-11407174-B2,B33Y
US-11376718-B2,F04B
US-11376718-B2,B25B
US-11427279-B2,B62K
US-11427279-B2,B62K
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11424341-B2,H01L
US-11379973-B2,G06V
US-11379973-B2,G05B
US-11379973-B2,G06N
US-11379973-B2,G06T
US-11379973-B2,G06V
US-11379973-B2,G06T
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11428135-B2,F01N
US-11407366-B2,B60R
US-11377840-B2,E04B
US-11377840-B2,E04C
US-11377840-B2,E04C
US-11388258-B2,G06F
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,G06F
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11388258-B2,H04L
US-11375403-B2,H04L
US-11375403-B2,H04W
US-11363222-B2,H04N
US-11363222-B2,H04N
US-11363222-B2,H04N
US-11380354-B2,G11B
US-11380354-B2,G11B
US-11380354-B2,G11B
US-11392814-B2,G06N
US-11392814-B2,G06K
US-11392814-B2,G06N
US-11392814-B2,G06K
US-11396158-B2,B32B
US-11396158-B2,G02F
US-11396158-B2,F21V
US-11396158-B2,B82Y
US-11396158-B2,F21Y
US-11396158-B2,F21V
US-11396158-B2,G02F
US-11396158-B2,B32B
US-11431960-B2,H04N
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,F21V
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11431960-B2,G02F
US-11367437-B2,G10L
US-11367437-B2,G10L
US-11367437-B2,G10L
US-11367437-B2,G10L
US-11367437-B2,H04R
US-11428911-B2,G02B
US-11428911-B2,G02B
US-11428911-B2,G02B
US-11428911-B2,G02B
US-11422364-B2,G02B
US-11422364-B2,G02B
US-11422364-B2,G02B
US-11422364-B2,G06T
US-11398593-B2,H01L
US-11398593-B2,B82Y
US-11398593-B2,B82Y
US-11398593-B2,G06N
US-11398593-B2,H01L
US-11398593-B2,H01L
US-11398593-B2,H10N
US-11398593-B2,H10N
US-11384177-B2,C08F
US-11384177-B2,C08K
US-11384177-B2,C08J
US-11384177-B2,C08K
US-11384177-B2,E21B
US-11384177-B2,C12P
US-11384177-B2,C09K
US-11384177-B2,C09K
US-11384177-B2,E21B
US-11384177-B2,C08F
US-11384177-B2,E21B
US-11354261-B2,G05B
US-11354261-B2,G06F
US-11354261-B2,G06F
US-11354261-B2,G06F
US-11396939-B2,F16H
US-11396939-B2,F16H
US-11401845-B2,F01M
US-11401845-B2,F02B
US-11401845-B2,F02M
US-11401845-B2,F02M
US-11401845-B2,F02B
US-11401845-B2,F02B
US-11401845-B2,F02B
US-11401845-B2,F02F
US-11401845-B2,F01M
US-11401845-B2,F01M
US-11401845-B2,F02M
US-11401845-B2,F01M
US-11401845-B2,F01M
US-11401845-B2,F02F
US-11365041-B2,F04B
US-11365041-B2,F04B
US-11365041-B2,F04B
US-11365041-B2,B65D
US-11365041-B2,B65D
US-11365041-B2,F04B
US-11365041-B2,F04B
US-11365041-B2,B65D
US-11365041-B2,F04B
US-11418715-B2,G06F
US-11418715-B2,H04N
US-11381650-B2,H04L
US-11381650-B2,H04L
US-11381650-B2,H04L
US-11381650-B2,G16H
US-11381650-B2,H04W
US-11394671-B2,G06Q
US-11394671-B2,H04L
US-11394671-B2,H04L
US-11394671-B2,G06Q
US-11394671-B2,H04L
US-11394671-B2,H04W
US-11381908-B2,H04R
US-11381908-B2,H02P
US-11381908-B2,H03F
US-11381908-B2,H03F
US-11381908-B2,H04R
US-11381908-B2,H04R
US-11381908-B2,H04R
US-11400796-B2,B60H
US-11400796-B2,B60Q
US-11400796-B2,B60Q
US-11400796-B2,B60H
US-11405983-B2,H05B
US-11405983-B2,H05B
US-11364337
Query:
SELECT DISTINCT SUBSTR(f.value::VARIANT:"code"::STRING, 0, 4) AS "ipc4_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    LIMIT 1000;
Answer:
ipc4_code
G01B
A61G
G06K
B29K
C08F
B21F
H04W
B21D
B66F
G02B
F02M
C09D
H02B
G01R
C07B
E21B
F01M
G01N
F02B
G01C
B63H
A01B
B24C
G06N
H04J
E04D
C22F
H04L
G07G
H01R
C08K
E05B
C02F
A61N
G03F
B60H
H01F
B23P
D06M
A44B
H10N
H10K
F21S
F16B
B22F
A41D
G06T
C07K
F04B
B29C
B33Y
B63G
A63B
G10L
A61Q
G03B
A61L
C07H
C06B
B23K
B32B
F17D
B07C
E06B
H01L
H04N
H05K
F01D
B01F
G06F
C12Q
B65H
B65G
B60W
B01J
H01G
F42B
F21V
G07C
B29B
H05B
A41C
A63F
G06Q
H01Q
A41H
G01S
H02H
B60Q
B65B
G06J
A61M
G07F
G09F
H02N
B43K
D06Q
F01N
C11D
C09K
B60K
B64C
G05B
G05G
E04C
B25J
B01L
G01D
B60S
A47B
E04B
F21Y
H04R
C12P
B60R
C07D
C07F
G09G
B08B
C08J
A47F
A61P
C12N
A01N
B22C
E02D
H02J
G09B
C01G
B25B
A61F
G02F
B23D
H04M
G16H
G08B
C22C
B66C
H02P
C08G
B62D
B44C
A61K
H03F
F15B
F16K
B05D
G01M
C08L
H04B
B41M
B05B
F02F
G06V
D06B
C07C
H02M
A61B
A01K
B62K
H10B
G11B
H01S
G05D
B65D
F16H
B82Y
B64D
A62C
D06C
Query:
SELECT f.value
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    LIMIT 1000;
Answer:
Too long, hard cut:
VALUE
"{
  ""code"": ""E21B33/13"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B43/11"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B37/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B37/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K9/50"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K31/485"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C10J3/12"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C10J3/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C10J3/42"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E02F9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E02F3/58"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E02F9/28"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F16G15/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07G1/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07C53/10"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07C51/41"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C12Q1/68"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H02J3/18"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B60L9/24"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B7/02"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21F17/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B60L1/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21F13/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A63F9/04"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D71/26"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D71/12"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D69/04"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D69/12"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04N21/458"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G16H20/13"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06F7/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K31/517"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07F5/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07F5/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A61K31/60"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""A47K10/42"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E06B9/42"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01F1/58"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01R33/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01F15/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01V8/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G01V3/12"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B41/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G16H40/20"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06Q10/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G08B21/24"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C02F1/44"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D61/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B01D61/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C12Q1/68"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B19/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B17/01"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04W4/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04L12/18"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04L45/16"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""H01F27/10"",
 
Query:
SELECT DISTINCT LEFT(CAST("publication_date" AS VARCHAR), 4) AS "year"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Answer:
year
1930
1991
1914
1878
1921
1893
1975
1919
1902
1959
1875
1881
1944
1866
1867
2013
1992
1951
1849
2005
1945
1845
1910
1994
1854
1872
1940
1928
1973
1954
1883
1948
1863
2000
2012
1907
1885
1905
1839
2002
2020
1934
1925
1916
1917
2024
2010
1924
1926
1864
1982
1965
1891
1851
2021
1968
2017
1935
1967
1939
2015
2018
2016
1927
1850
1852
2007
1974
1913
1961
1841
2023
2019
1931
1899
1988
1976
1955
1901
1862
1842
2001
1894
1957
1932
1882
1870
1960
1972
1911
1895
2006
1937
1903
1868
1904
1908
1942
1871
1861
1846
2014
1952
1963
1920
1856
1906
1900
1964
1947
1859
1848
1966
1877
1949
1887
1998
2009
1950
1933
1844
1987
1889
1997
1880
1855
1985
1993
1986
1890
2022
1984
1990
1958
1874
1853
1909
1969
1929
1936
1847
1962
1897
1918
1873
1922
1923
1865
1886
1898
1996
0
1938
1953
2004
2011
1989
1977
1888
1837
1857
1995
1912
1879
1843
1978
1983
1981
1999
1979
1980
1892
1876
1970
1941
1884
1943
1971
1858
1860
1896
2008
1869
1915
1946
2003
1956
Query:
SELECT DISTINCT SUBSTR(CAST("publication_date" AS VARCHAR), 5, 2) AS "month"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Answer:
month
03
04
01
02
12
10
11
""
08
09
05
06
07
Query:
SELECT 
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4_code", 
    COUNT(*) AS "code_count"
FROM 
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE 
    t."country_code" = 'US' 
    AND t."kind_code" = 'B2' 
    AND t."publication_date" BETWEEN 20220601 AND 20220831
GROUP BY 
    "ipc4_code"
ORDER BY 
    "code_count" DESC
LIMIT 1;
Answer:
ipc4_code,code_count
G06F,62
Query:
SELECT DISTINCT "publication_date", "country_code", "kind_code"
    FROM PATENTS.PATENTS.PUBLICATIONS
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_date,country_code,kind_code
20030619,US,A1
20050203,US,A1
20041223,US,A1
20081002,US,A1
20211126,CN,U
20220429,CN,U
20211029,CN,U
20220830,CN,U
20230324,CN,U
20230815,CN,U
20230711,CN,U
20010905,CN,Y
20031224,CN,Y
19971105,CN,Y
20000112,CN,Y
20100415,CA,A1
20110505,CA,A1
20050401,FR,A1
19990521,FR,A1
20040603,US,A1
20091217,CA,A1
20221118,FR,A1
19790715,SU,A1
19970731,DE,A1
20091118,EP,A1
20120725,EP,A1
20110413,EP,A1
20110414,US,A1
20120202,US,A1
20080507,AR,A1
20010502,AR,A1
20031110,AU,A1
20240125,AU,A1
20230202,AU,A1
20211125,WO,A1
20110901,WO,A1
20180927,WO,A1
20120913,WO,A1
20210107,JP,A1
20210624,WO,A1
20160324,WO,A1
20020816,IT,A1
20141127,WO,A1
20031112,PE,A1
19090525,US,A
19361031,CH,A
19540413,US,A
19710126,US,A
19410115,CH,A
19711130,US,A
19590303,US,A
19090525,CA,A
20060704,BR,A
19691111,US,A
19690902,CA,A
19690425,FR,A
19921027,IS,A
19860416,BE,A
19700422,GB,A
19430610,GB,A
19440922,GB,A
20010816,AU,A
19740620,AU,A
19750513,US,A
19600517,FR,A
19780718,CA,A
19840807,CA,A
19040628,CA,A
19300123,GB,A
19920915,AU,A
19281204,CA,A
19560313,CA,A
19620313,CA,A
19640317,CA,A
19660201,CA,A
19320315,CH,A
19510425,GB,A
19960820,JP,A
19830902,JP,A
19851019,JP,A
19861118,JP,A
19770205,JP,A
19441115,CH,A
19510915,CH,A
19800618,GB,A
19921019,JP,A
19600210,GB,A
19730911,JP,A
20180530,IE,A1
20040202,AU,A1
20060727,AU,A1
20111027,WO,A1
20130207,WO,A1
20240118,WO,A1
20190307,WO,A1
20190321,WO,A1
19970618,JP,B2
19990927,JP,B2
20170502,US,B2
20110906,US,B2
20090224,US,B2
20070208,AU,B2
20110629,JP,B2
20100512,JP,B2
20180530,JP,B2
20190130,JP,B2
20230322,JP,B2
20141216,US,B2
20150217,US,B2
20201103,US,B2
20140114,US,B2
20190410,JP,B2
20210622,US,B2
20231023,JP,B2
20221220,JP,B2
19801219,FR,B3
20040205,DE,B4
19060818,SE,C1
20111210,RU,C1
19850501,GB,D0
19870520,GB,D0
20111115,AT,T1
19880415,AT,T1
20190729,HU,T2
20151210,DE,T5
20151127,FI,U1
19831124,DE,U1
19880721,IT,V0
19670110,JP,Y1
19720108,JP,Y1
20080318,KR,Y1
19710520,JP,Y1
19830216,JP,Y2
19880705,JP,Y2
19421020,US,A
18801214,US,A
19700929,CA,A
19340417,CA,A
19730911,US,A
19530428,US,A
19331205,US,A
19661115,CA,A
19150525,US,A
18970508,GB,A
19680426,FR,A
19911031,YU,A
19750915,BE,A
19760913,BE,A
19890926,CA,A
19600503,FR,A
19600504,GB,A
19750729,JP,A
20070529,BR,A
19681204,GB,A
19700128,GB,A
19760610,JP,B1
20010403,US,B1
20060619,NO,B1
19991115,KR,B1
19980422,EP,B1
20130320,EP,B1
20170726,EP,B1
20020624,KR,B1
20080917,KR,B1
20120608,KR,B1
20160824,KR,B1
20170102,KR,B1
20180802,KR,B1
20220524,KR,B1
20210518,BR,B1
20220719,BR,B1
19971029,JP,B2
20020228,AU,B2
19950215,JP,B2
19910208,JP,B2
20040922,CN,Y
19951108,CN,Y
19990319,IT,A0
20020210,IL,A0
20100721,IT,A1
19801101,ES,A1
20110301,CA,A1
20130808,CA,A1
20170803,CA,A1
19730713,FR,A1
19840423,SU,A1
20041028,CA,A1
20150312,CA,A1
19911020,IT,A1
20180913,US,A1
20220818,US,A1
20240704,US,A1
20140904,AU,A1
20190530,AU,A1
20150930,EP,A1
20210414,EP,A1
20050721,JP,A1
20140703,JP,A1
20211230,JP,A1
20091126,DE,A1
20151217,DE,A1
20160714,DE,A1
20191024,DE,A1
20231015,IT,A1
20171214,WO,A1
20120613,EP,A1
20070916,ES,T3
19971016,DE,U1
20100701,DE,U1
19760219,JP,Y1
19760720,JP,Y2
19861110,JP,Y2
19840403,JP,Y2
19900403,JP,Y2
19910930,JP,Y2
19840528,JP,Y2
19880502,JP,Y2
19980416,DE,A1
19980924,DE,A1
20050907,EP,A1
20130717,ES,A1
20110630,AU,A1
19730628,DE,A1
19760422,DE,A1
19800508,DE,A1
19830519,DE,A1
19950511,DE,A1
20010516,EP,A1
20201007,EP,A1
20120419,DE,A1
20190110,DE,A1
20130906,WO,A1
20120322,WO,A1
20131120,EP,A2
20180516,AR,A2
20180118,US,A1
20191128,US,A1
20190319,US,B2
20220628,US,B2
19910805,JP,B2
20001030,JP,B2
20040721,JP,B2
20041124,JP,B2
20030428,JP,B2
20081127,AU,B2
20191107,AU,B2
20231012,AU,B2
19770915,DE,B2
20170322,EP,B2
20090402,JP,B2
20090121,JP,B2
19760514,AR,A1
19810902,DD,A1
20090723,AU,A1
20160421,AU,A1
19870820,DE,A1
20130531,SG,A1
20130214,WO,A1
20040804,EP,A1
20231213,EP,A1
20190131,JP,A1
20160204,US,A1
20160602,US,A1
19910508,EP,A1
19920916,EP,A1
19930428,EP,A1
20240403,EP,A1
20180125,JP,A1
20121213,DE,A1
20161110,DE,A1
20170531,KR,B1
20220720,KR,B1
19800731,AU,B2
19810820,JP,B2
19830602,JP,B2
19931111,JP,B2
19830110,JP,B2
20050315,US,B2
20121002,US,B2
19690909,US,A
19640512,US,A
19581014,CA,A
19681224,US,A
19651102,US,A
20200929,US,B2
20230120,FR,B3
19840419,DE,C2
20011010,GB,D0
19870715,GB,D0
19890614,GB,D0
19940120,DE,D1
20110203,DE,D1
19910115,AT,T1
20030815,AT,T1
20220905,PL,T3
20011122,KR,Y1
19791029,JP,Y2
19861108,JP,Y2
19910514,JP,Y2
19710805,JP,Y1
19960718,KR,Y1
20030127,JP,B2
20030929,JP,B2
19940907,JP,B2
19990623,JP,B2
20190718,DE,B4
20070829,JP,B2
20220323,JP,B2
19570813,US,A
19351029,US,A
19361117,US,A
19630423,US,A
19230116,US,A
19560403,US,A
19400625,US,A
19300618,FR,A
19620529,CA,A
18850303,US,A
19310630,US,A
19661129,CA,A
19471209,US,A
19620814,US,A
19481123,US,A
19111107,US,A
19751216,CA,A
19850521,CA,A
19930305,JP,A
19640331,CH,A
19880809,JP,A
20020615,AT,A
19580903,GB,A
19870415,GB,A
19760413,JP,A
19801115,JP,A
19330330,GB,A
20030227,DE,A1
20150828,CL,A1
19740321,DE,A1

Query:
SELECT t."publication_number", t."ipc"
    FROM PATENTS.PATENTS.PUBLICATIONS t
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc
US-8401259-B2,"[
  {
    ""code"": ""G16H15/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G16H30/20"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G16H40/67"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G16H10/60"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06K9/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06T1/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61B6/03"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61B5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7713107-B2,"[
  {
    ""code"": ""B24B7/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B7/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B25B23/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01L21/306"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B7/19"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24D11/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24D13/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B1/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B24B19/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7210809-B2,"[
  {
    ""code"": ""F21V33/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7753768-B2,"[
  {
    ""code"": ""G06F17/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-8782680-B2,"[
  {
    ""code"": ""G06F3/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F13/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04H60/33"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04N5/445"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7064926-B2,"[
  {
    ""code"": ""G11B23/30"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/113"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/087"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/107"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G11B23/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-6826024-B2,"[
  {
    ""code"": ""H02H3/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01B7/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02G1/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01R13/713"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02H3/33"",
    ""first"": false,
    ""inventive"": false,
    ""tree"": []
  },
  {
    ""code"": ""H02H7/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02H5/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H01B7/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H02G15/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-8500773-B2,"[
  {
    ""code"": ""A61M29/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7407455-B2,"[
  {
    ""code"": ""A63B59/02"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A63B65/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-7939517-B2,"[
  {
    ""code"": ""A61K31/5685"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K31/56"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
US-8479285-B2,"[
  {
    ""code"": ""G08B23/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F12/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F9/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F11/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F12/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
 
Query:
SELECT t."publication_number", f.value::VARIANT:"code"::STRING AS "ipc_code"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    AND t."publication_date" BETWEEN 20220601 AND 20220831
    AND f.value::VARIANT:"first"::BOOLEAN = TRUE
    LIMIT 1000;
Answer:
Too long, hard cut:
publication_number,ipc_code
US-11373466-B2,G07C5/08
US-11382705-B2,B25J17/00
US-11397148-B2,G01N21/25
US-11394231-B2,H02J7/34
US-11408811-B2,G01N15/08
US-11416022-B2,G06J1/02
US-11393239-B2,G06V40/13
US-11353091-B2,F16H3/66
US-11372255-B2,G02B27/09
US-11367437-B2,G10L15/20
US-11428911-B2,G02B15/14
US-11422364-B2,G02B27/00
US-11398593-B2,H10N60/01
US-11384177-B2,C08J3/07
US-11354261-B2,G06F3/00
US-11396939-B2,F16H57/00
US-11401845-B2,F01M13/04
US-11365041-B2,B65D81/20
US-11418715-B2,H04N5/232
US-11383851-B2,B64D31/04
US-11389955-B2,G06F17/00
US-11368762-B2,H04N21/81
US-11375960-B2,A61B5/318
US-11375960-B2,A61B5/00
US-11404307-B2,H01L21/768
US-11407307-B2,B60K23/04
US-11410365-B2,G06T13/40
US-11386741-B2,G07F17/32
US-11370085-B2,B24C1/10
US-11385163-B2,G01N15/14
US-11391553-B2,F42B33/10
US-11430607-B2,H01G4/232
US-11412923-B2,A61B1/32
US-11384000-B2,C02F11/15
US-11369714-B2,A61L27/24
US-11373467-B2,G07C9/00
US-11407174-B2,B29C64/30
US-11376718-B2,B25B13/48
US-11427279-B2,B62K23/02
US-11424341-B2,H01L21/02
US-11379973-B2,G06T7/00
US-11428135-B2,F01N3/00
US-11407366-B2,B60R13/02
US-11377840-B2,E04B1/24
US-11388258-B2,H04L67/00
US-11375403-B2,H04W28/06
US-11363222-B2,H04N5/369
US-11380354-B2,G11B5/48
US-11392814-B2,G06K19/07
US-11396158-B2,B32B5/16
US-11431960-B2,H04N13/30
US-11381650-B2,H04L67/50
US-11394671-B2,G06Q30/00
US-11381908-B2,H04R3/00
US-11400796-B2,B60H1/34
US-11405983-B2,H05B3/03
US-11364337-B2,A61M5/142
US-11407574-B2,B65G17/18
US-11393841-B2,H10B43/30
US-11393841-B2,H10B43/27
US-11417842-B2,H10K99/00
US-11375809-B2,A47B83/04
US-11385961-B2,G06F11/00
US-11382018-B2,H04W36/32
US-11412960-B2,A61B5/145
US-11351355-B2,A61M60/268
US-11371080-B2,C12Q1/6876
US-11429930-B2,G06Q10/10
US-11402589-B2,G02B6/38
US-11356221-B2,H04L5/00
US-11382847-B2,A61K8/34
US-11407172-B2,B29C64/153
US-11400006-B2,A61G13/10
US-11391070-B2,E05B73/00
US-11396506-B2,C07D471/02
US-11386278-B2,G06K7/10
US-11372388-B2,G05B19/042
US-11374644-B2,H04B7/08
US-11387209-B2,H01L23/00
US-11428067-B2,E21B33/13
US-11418602-B2,G06F15/16
US-11363375-B2,H04R3/00
US-11419318-B2,A01K67/027
US-11357437-B2,A61B5/339
US-11376346-B2,A61L27/36
US-11376070-B2,A61B18/20
US-11352335-B2,C07D277/36
US-11401923-B2,F04B27/18
US-11430204-B2,G06V10/44
US-11376885-B2,B43K24/14
US-11372439-B2,G05G1/38
US-11401219-B2,C07C1/24
US-11392816-B2,G06K19/077
US-11423539-B2,A61B6/00
US-11388673-B2,H04W4/00
US-11398087-B2,G06V20/10
US-11424563-B2,H01R13/40
US-11375590-B2,H05B45/14
US-11421473-B2,E06B9/42
US-11351045-B2,A61F2/04
US-11392648-B2,G06F16/90
US-11395931-B2,A62C3/02
US-11410444-B2,G06F40/00
US-11424884-B2,H04W72/04
US-11422523-B2,G05B19/042
US-11421276-B2,C12Q1/6883
US-11414872-B2,E04D15/06
US-11378383-B2,G01B11/02
US-11401428-B2,C09D7/65
US-11422402-B2,G02F1/1335
US-11410148-B2,G06Q20/20
US-11409969-B2,G06K7/00
US-11374640-B2,H04B7/06
US-11352902-B2,F01D25/12
US-11389834-B2,B07C5/36
US-11407775-B2,C07F9/6584
US-11422371-B2,G02B27/14
US-11354278-B2,G06F17/00
US-11390055-B2,B32B15/085
US-11382363-B2,A41C3/12
US-11401234-B2,C07C225/36
US-11400486-B2,B05D7/00
US-11397228-B2,G01R33/00
US-11353321-B2,G01B11/27
US-11363536-B2,H04W52/24
US-11400138-B2,A61K38/39
US-11393967-B2,H01L29/40
US-11353839-B2,H05B47/10
US-11368189-B2,H04B3/54
US-11408566-B2,F17D5/00
US-11386539-B2,G06T7/00
US-11412974-B2,A61B5/16
US-11423376-B2,G06Q20/14
US-11363813-B2,A01N31/04
US-11426634-B2,A63B37/12
US-11365729-B2,F04B49/22
US-11419647-B2,A61B17/80
US-11375912-B2,H02N11/00
US-11396572-B2,C08F236/18
US-11407017-B2,B21D11/12
US-11360542-B2,G06F1/3234
US-11379962-B2,G06T7/00
US-11370724-B2,C07C2/82
US-11416001-B2,A01B69/00
US-11396732-B2,E02D27/52
US-11374026-B2,H01L27/12
US-11369217-B2,A47F10/02
US-11407829-B2,A61K39/00
US-11399950-B2,A61F2/42
US-11381283-B2,H04B7/0417
US-11409410-B2,G06F3/0481
US-11420401-B2,B29C70/38
US-11360211-B2,G01S13/931
US-11398338-B2,H01F27/25
US-11412422-B2,H04W36/00
US-11354655-B2,G06Q20/38
US-11387213-B2,H01L21/78
US-11375479-B2,H04W4/00
US-11420656-B2,B60W30/14
US-11378746-B2,G02B6/14
US-11375241-B2,H04N19/00
US-11380566-B2,G05B19/19
US-11416699-B2,G06K9/00
US-11412231-B2,H04N19/159
US-11412231-B2,H04N19/577
US-11376109-B2,A61F2/00
US-11393351-B2,G09B5/06
US-11406832-B2,A61N1/37
US-11379726-B2,G06N3/08
US-11426701-B2,B22C5/00
US-11386886-B2,G10L15/18
US-11352686-B2,C22F1/047
US-11352465-B2,C08J3/22
US-11391059-B2,E05B13/00
US-11380765-B2,H01L29/15
US-11376319-B2,A61K39/145
US-11404853-B2,B60K6/36
US-11373404-B2,H04N7/10
US-11421011-B2,C07K14/54
US-11384463-B2,D06B23/02
US-11413537-B2,A63F9/24
US-11414016-B2,B60R3/02
US-11415428-B2,G01C21/26
US-11374401-B2,H02H7/122
US-11397326-B2,G02B27/01
US-11430084-B2,G06T3/40
US-11421980-B2,G01B11/10
US-11374056-B2,H01L27/24
US-11382760-B2,A61F2/44
US-11413710-B2,B23K35/00
US-11387621-B2,H01S3/13
US-11373280-B2,G06T7/00
US-11423146-B2,G06F21/56
US-11400365-B2,A63F13/24
US-11411015-B2,H10B41/27
US-11411015-B2,H10B41/20
US-11406524-B2,A61F5/00
US-11390722-B2,C08J7/18
US-11389656-B2,A61N1/36
US-11374186-B2,H01L31/044
US-11369979-
Query:
SELECT f.value::VARIANT:"section"::STRING AS "section",
           f.value::VARIANT:"class"::STRING AS "class",
           f.value::VARIANT:"subclass"::STRING AS "subclass",
           f.value::VARIANT:"main_group"::STRING AS "main_group",
           f.value::VARIANT:"subgroup"::STRING AS "subgroup"
    FROM PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
    LIMIT 1000;
Answer:
Too long, hard cut:
section,class,subclass,main_group,subgroup
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,,,
,,
Query:
SELECT
  SUBSTR(f.value:"code"::STRING, 1, 1) AS "section",
  SUBSTR(f.value:"code"::STRING, 2, 2) AS "class",
  SUBSTR(f.value:"code"::STRING, 4, 1) AS "subclass",
  REGEXP_SUBSTR(SUBSTR(f.value:"code"::STRING, 5), '^[0-9]+') AS "main_group",
  SPLIT_PART(f.value:"code"::STRING, '/', 2) AS "subgroup"
FROM PATENTS.PATENTS.PUBLICATIONS t,
LATERAL FLATTEN(input => t."ipc") f
WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
LIMIT 1000;
Answer:
Too long, hard cut:
section,class,subclass,main_group,subgroup
G,06,F,19,00
G,02,B,7,09
A,61,B,3,00
A,61,B,3,14
A,61,B,3,12
A,61,B,3,10
H,02,M,1,42
H,02,M,7,02
A,61,N,5,06
H,01,M,4,13
G,06,F,15,16
H,04,B,3,58
B,60,K,35,00
G,06,F,3,01
B,60,Q,1,00
G,06,F,3,0481
G,02,B,27,01
H,04,L,12,937
H,04,L,12,931
H,04,L,12,863
H,04,L,12,861
H,04,L,12,869
H,04,L,12,26
G,06,T,7,00
G,06,T,3,00
H,04,N,23,75
H,04,N,5,262
H,04,N,5,76
G,01,N,33,92
C,12,Q,1,34
G,01,N,33,50
H,03,B,5,32
H,04,B,1,38
H,04,M,1,7243
H,04,M,1,72409
H,02,B,1,00
H,04,R,1,10
B,32,B,3,00
G,01,C,15,00
G,01,C,15,02
G,01,S,17,34
G,01,S,17,89
A,61,M,37,00
A,61,M,5,20
A,61,M,5,32
G,11,C,15,04
G,06,F,7,00
G,06,F,17,30
H,02,P,7,00
H,02,H,7,085
E,05,B,1,00
A,61,L,2,18
A,61,L,2,10
E,05,B,63,00
C,01,G,47,00
C,01,G,35,00
C,01,G,41,00
C,01,G,39,06
C,01,G,55,00
C,01,G,27,00
H,04,W,24,10
H,01,Q,5,321
H,01,Q,5,328
H,01,Q,1,38
H,01,Q,9,04
C,09,K,11,08
C,09,K,11,77
G,09,G,3,36
G,02,F,1,133
G,09,G,5,00
G,06,F,17,30
H,04,L,29,06
G,06,F,15,16
G,06,F,17,24
C,04,B,38,00
C,04,B,41,00
F,01,M,13,04
B,01,D,45,08
F,01,D,5,02
F,01,D,11,02
G,06,Q,20,04
G,06,V,30,40
G,06,V,30,10
G,06,V,30,224
G,06,F,7,00
G,06,F,17,30
G,06,F,9,50
G,06,F,3,06
F,41,B,5,22
F,41,B,5,14
G,06,K,15,02
G,06,F,3,12
G,06,T,11,60
G,06,T,11,00
H,01,R,24,64
H,05,K,1,02
H,05,K,1,11
H,01,R,13,6466
H,05,K,1,14
H,04,L,12,56
G,06,F,12,08
G,06,F,11,34
G,06,F,12,02
G,06,F,11,20
G,06,F,11,10
H,04,N,25,00
H,01,L,27,146
H,01,L,31,00
H,01,L,27,148
H,04,L,12,46
H,04,L,12,28
H,04,L,45,58
H,01,L,21,4763
H,01,L,21,3205
H,01,L,21,28
H,01,L,21,8238
H,01,L,29,66
H,01,L,29,49
B,81,C,1,00
H,01,L,23,34
H,01,L,25,065
H,01,L,25,16
H,01,L,25,11
H,01,L,23,40
H,01,L,25,04
G,01,R,27,04
G,01,N,22,00
G,01,N,22,02
G,01,R,27,32
B,64,C,27,12
B,64,D,33,08
F,16,C,33,66
B,64,D,13,08
F,16,C,37,00
H,01,M,50,503
H,01,M,50,531
B,60,L,50,64
H,01,M,4,70
H,01,M,50,543
H,01,M,50,55
A,61,M,16,10
C,01,B,21,24
A,61,M,16,12
A,61,M,16,06
A,61,M,15,08
B,01,D,53,00
A,61,M,15,00
B,21,B,35,00
B,21,B,31,02
B,21,B,13,06
B,21,B,1,088
B,21,B,1,08
B,21,B,45,02
B,21,D,1,02
H,01,M,10,6565
H,01,M,10,6556
H,01,M,10,663
H,01,M,10,647
H,01,M,10,615
H,01,M,10,613
H,01,M,10,60
H,01,M,10,6571
H,01,M,10,625
B,60,K,1,04
H,01,M,10,6562
H,01,M,50,271
H,01,M,50,249
H,01,M,50,209
H,03,K,3,00
H,03,K,19,0185
H,03,B,1,00
E,04,F,13,08
E,04,F,13,06
E,04,D,13,04
E,04,C,2,38
E,04,F,19,06
H,03,K,5,08
H,03,K,19,00
H,03,K,5,24
E,04,B,1,70
E,04,B,1,66
B,60,R,16,023
B,60,R,25,00
B,60,R,25,04
A,61,K,39,00
A,61,K,9,00
A,61,K,31,21
A,01,N,47,00
A,61,K,31,65
A,61,K,47,02
C,07,D,417,12
A,61,K,31,437
A,61,K,31,428
C,07,D,471,04
A,61,K,31,4188
C,07,D,513,04
C,07,D,417,14
A,61,K,31,4168
C,07,D,235,30
H,01,R,13,422
H,01,R,13,506
H,01,R,13,52
H,01,R,31,08
F,04,B,43,02
F,04,B,43,04
F,04,B,49,06
F,04,B,43,00
G,06,Q,10,08
G,06,Q,10,04
G,06,Q,30,02
G,06,Q,10,00
G,06,Q,10,06
H,01,L,31,0232
G,01,S,3,786
H,01,L,31,052
G,02,B,19,00
G,02,B,21,04
H,02,S,20,00
G,02,B,17,08
G,02,B,3,08
G,02,B,27,09
F,21,S,11,00
H,02,S,20,32
G,01,S,3,78
G,02,B,5,00
H,01,L,31,042
H,01,L,31,054
G,06,F,16,28
H,04,B,1,10
H,04,L,7,04
H,04,L,29,08
G,06,F,3,0484
H,04,L,29,06
H,04,L,12,24
G,06,F,9,44
G,06,F,9,445
B,08,B,9,00
F,16,N,21,00
F,16,N,5,00
F,16,K,3,36
E,21,B,34,02
E,21,B,41,00
C,08,F,220,28
C,08,G,83,00
C,08,F,220,30
C,08,L,101,00
C,08,F,12,08
B,82,Y,10,00
C,08,F,38,00
C,08,J,3,09
C,08,G,61,12
C,08,L,25,06
C,08,B,1,00
H,01,B,1,12
C,08,L,1,08
C,08,L,65,00
C,08,L,1,02
H,10,K,99,00
H,04,L,5,00
H,04,W,72,04
H,04,L,1,16
H,04,L,1,18
H,03,K,17,96
G,06,F,3,044
G,06,F,3,045
G,06,F,3,041
H,01,R,4,48
H,01,R,4,24
H,01,R,13,18
H,01,R,9,16
H,04,N,21,61
H,04,N,19,61
H,04,N,7,16
H,04,N,21,2343
H,04,N,19,162
H,04,N,19,164
H,04,N,21,222
H,04,N,21,258
H,04,N,19,12
H,04,N,7,173
H,04,N,7,10
H,04,N,19,40
H,04,N,7,025
G,06,K,7,14
G,06,K,7,015
G,06,K,7,00
G,06,K,7,10
H,02,M,7,487
H,02,M,7,483
H,02,M,7,5387
C,10,L,1,16
C,10,M,173,02
C,10,M,107,14
C,10,N,30,00
C,10,N,30,02
C,10,N,20,04
C,10,M,169,04
C,10,N,40,25
C,10,N,70,00
H,04,B,1,38
H,04,W,76,02
H,04,W,4,06
H,04,M,1,00
H,04,W,4,80
G,06,F,12,00
G,06,F,12,02
A,61,M,5,30
A,61,M,31,00
A,61,M,5,20
A,61,M,37,00
G,06,F,17,10
G,06,F,7,60
G,06,F,17,50
G,06,Q,10,06
G,16,H,15,00
G,16,H,30,20
G,16,H,40,67
G,16,H,10,60
G,06,K,9,00
G,06,T,1,00
A,61,B,6,03
A,61,B,5,00
B,24,B,7,30
B,24,B,7,22
B,25,B,23,16
H,01,L,21,306
B,24,B,7,19
B,24,D,11,00
B,24,D,13,14
B,24,B,1,00
B,24,B,19,00
F,21,V,33,00
G,06,F,17,00
G,06,F,3,00
G,06,F,13,00
H,04,H,60,33
H,04,N,5,445
G,11,B,23,30
G,11,B,23,113
G,11,B,23,087
G,11,B,23,107
G,11,B,23,02
H,02,H,3,16
H,01,B,7,32
H,02,G,1,14
H,01,R,13,713
H,02,H,3,33
H,02,H,7,00
H,02,H,5,04
H,01,B,7,00
H,02,G,15,02
A,61,M,29,00
A,63,B,59,02
A,63,B,65,12
A,61,K,31,5685
A,61,K,31,56
G,08,B,23,00
G,06,F,12,14
G,06,F,9,00
G,06,F,11,00
G,06,F,12,16
H,05,K,1,03
H,05,K,1,11
H,05,K,7,20
H,01,Q,1,32
H,01,L,27,08
H,01,L,27,06
H,01,L,21,822
H,01,L,21,761
H,01,L,27,092
H,01,L,27,02
H,01,L,27,04
H,01,L,21,8238
G,01,R,1,073
H,01,L,23,498
H,01,L,23,02
H,01,L,23,14
H,01,L,23,31
H,01,L,21,768
H,01,L,21,60
H,01,L,21,20
H,04,B,5,00
G,01,S,13,08
End Exploring Related Columns
Task: What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: SELECT S."Column_Name" FROM {Database Name}.{Schema Name}.{Table_name} (ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
most_common_ipc4_code,code_description
ipc_code:str,description:str(Attention: answer in one row)
```

The table above shows the most common 4-digit IPC code among US B2 utility patents granted from June to August 2022, along with its description..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book" SQL: WHERE "title" LIKE '%book%'
However, if the string is not decided, you may use ILIKE and %. e.g. Get articles that mention "education": SQL: "body" ILIKE '%education%' OR "title" ILIKE '%education%'
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.

2025-01-19 03:13:59 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:13:59 - root - INFO - ```sql
WITH MostCommonIPC AS (
    SELECT
        SUBSTR(f.value:"code"::STRING, 1, 4) AS "most_common_ipc4_code",
        COUNT(*) AS "code_count"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."ipc") f
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."publication_date" BETWEEN 20220601 AND 20220831
    GROUP BY
        "most_common_ipc4_code"
    ORDER BY
        "code_count" DESC
    LIMIT 1
), IPC_Description AS (
    SELECT
        "symbol",
        "titleFull" AS "code_description"
    FROM
        PATENTS.PATENTS.CPC_DEFINITION
    WHERE
        LEFT("symbol", 4) = (SELECT "most_common_ipc4_code" FROM MostCommonIPC)
    ORDER BY
        LENGTH("symbol") ASC
    LIMIT 1
)
SELECT
    MostCommonIPC."most_common_ipc4_code",
    IPC_Description."code_description"
FROM
    MostCommonIPC
    LEFT JOIN
    IPC_Description ON 1=1;
```
2025-01-19 03:13:59 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:13:59 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:13:59 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:14:01 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 03:14:01 - snowflake.connector.connection - INFO - closed
2025-01-19 03:14:01 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:14:02 - root - INFO - itercount: 1
2025-01-19 03:14:02 - root - INFO - 0
2025-01-19 03:14:02 - root - INFO - results: 
most_common_ipc4_code,code_description
G06F,ELECTRIC DIGITAL DATA PROCESSING


2025-01-19 03:14:02 - root - INFO - Please check the answer again by reviewing What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
most_common_ipc4_code,code_description
ipc_code:str,description:str(Attention: answer in one row)
```

The table above shows the most common 4-digit IPC code among US B2 utility patents granted from June to August 2022, along with its description. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
most_common_ipc4_code,code_description
G06F,ELECTRIC DIGITAL DATA PROCESSING
Current sql:
WITH MostCommonIPC AS (
    SELECT
        SUBSTR(f.value:"code"::STRING, 1, 4) AS "most_common_ipc4_code",
        COUNT(*) AS "code_count"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."ipc") f
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."publication_date" BETWEEN 20220601 AND 20220831
    GROUP BY
        "most_common_ipc4_code"
    ORDER BY
        "code_count" DESC
    LIMIT 1
), IPC_Description AS (
    SELECT
        "symbol",
        "titleFull" AS "code_description"
    FROM
        PATENTS.PATENTS.CPC_DEFINITION
    WHERE
        LEFT("symbol", 4) = (SELECT "most_common_ipc4_code" FROM MostCommonIPC)
    ORDER BY
        LENGTH("symbol") ASC
    LIMIT 1
)
SELECT
    MostCommonIPC."most_common_ipc4_code",
    IPC_Description."code_description"
FROM
    MostCommonIPC
    LEFT JOIN
    IPC_Description ON 1=1;When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.

2025-01-19 03:14:32 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:14:32 - root - INFO - ```sql
WITH MostCommonIPC AS (
    SELECT
        SUBSTR(f.value:"code"::STRING, 1, 4) AS "most_common_ipc4_code",
        COUNT(*) AS "code_count"
    FROM
        PATENTS.PATENTS.PUBLICATIONS t,
        LATERAL FLATTEN(input => t."ipc") f
    WHERE
        t."country_code" = 'US'
        AND t."kind_code" = 'B2'
        AND t."publication_date" BETWEEN 20220601 AND 20220831
    GROUP BY
        "most_common_ipc4_code"
    ORDER BY
        "code_count" DESC NULLS LAST
    LIMIT 1
), IPC_Description AS (
    SELECT
        "symbol",
        "titleFull" AS "code_description"
    FROM
        PATENTS.PATENTS.CPC_DEFINITION
    WHERE
        LEFT("symbol", 4) = (SELECT "most_common_ipc4_code" FROM MostCommonIPC)
    ORDER BY
        LENGTH("symbol") ASC
    LIMIT 1
)
SELECT
    MostCommonIPC."most_common_ipc4_code",
    IPC_Description."code_description"
FROM
    MostCommonIPC
    LEFT JOIN
    IPC_Description ON 1=1;
```
2025-01-19 03:14:32 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:14:32 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:14:32 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:14:34 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 03:14:34 - snowflake.connector.connection - INFO - closed
2025-01-19 03:14:34 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:14:34 - root - INFO - itercount: 2
2025-01-19 03:14:34 - root - INFO - 0
2025-01-19 03:14:34 - root - INFO - Total iteration counts: 2
