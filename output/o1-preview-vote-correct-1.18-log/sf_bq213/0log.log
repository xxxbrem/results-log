2025-01-19 03:10:10 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:11:18 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:11:18 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:18 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:18 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:19 - snowflake.connector.cursor - INFO - Number of results in first chunk: 93
2025-01-19 03:11:19 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:19 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:20 - root - INFO - SQL:
SELECT DISTINCT "country_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   LIMIT 1000;
Results:
country_code
TR
BG
DO
JP
HU
DZ
AT
HR
CO
SI
AR
KE
FI
DK
US
DD
PH
DE
MA
PE
UA
MW
IT
OA
CY
RS
LU
NL
CS
LV
MY
FR
SU
AU
CU
LT
KR
RO
NO
MD
PL
CR
JO
NI
CZ
HN
SV
CN
MC
RU
CA
SK
IS
GB
SG
IE
EA
ES
ZW
IN
EC
EP
ZA
CH
SA
MN
PT
CL
NZ
BR
ID
KZ
IL
TW
MT
BE
SE
AP
SM
ME
MX
EE
GE
HK
GT
TN
GR
EG
PA
WO
BA
YU
ZM

2025-01-19 03:11:20 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:20 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:20 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:21 - snowflake.connector.cursor - INFO - Number of results in first chunk: 9
2025-01-19 03:11:21 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:21 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:21 - root - INFO - SQL:
SELECT DISTINCT "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
Results:
kind_code
A2
P9
C1
A1
B1
B2
A
P1
A9

2025-01-19 03:11:21 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:21 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:21 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:22 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:22 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:23 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:23 - root - INFO - SQL:
SELECT "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 1000;
Results:
Too long, hard cut:
grant_date
20130820
20070320
20070828
20110517
20091208
20090908
20030916
20080513
20081021
20050524
20051101
20031118
20080415
20150317
20121023
20100420
20040921
20101019
20130326
20111122
20040615
20120619
20080422
20030527
20100406
20150512
20130319
20130820
20090317
20090714
20100316
20050614
20110222
20081230
20121127
20100817
20120501
20071009
20130604
20140204
20120131
20050426
20040420
20120717
20041123
20070710
20130521
20060221
20120221
20120717
20120807
20100427
20110215
20050809
20111220
20060425
20100831
20150915
20120522
20141028
20120904
20110614
20130409
20120807
20130416
20130917
20110823
20131231
20060509
20101109
20120515
20110201
20140107
20120807
20121009
20130820
20110315
20090908
20100810
20141104
20120612
20120814
20130716
20100914
20050614
20130820
20090804
20110329
20130122
20130723
20130326
20121225
20100720
20160105
20140429
20140128
20120807
20120124
20140114
20060418
20110809
20151229
20130226
20101102
20060103
20050329
20091201
20130305
20130101
20130423
20130604
20080129
20130226
20021105
20150120
20130903
20050705
20060110
20100720
20060411
20020924
20110705
20150908
20031202
20140701
20050614
20011023
20121211
20150210
20020820
20140318
20140218
20030819
20040210
20080318
20070313
20140304
20030826
20130226
20110906
20120904
20131112
20140812
20131001
20161206
20131001
20060516
20100504
20031014
20050705
20140401
20050913
20130416
20120904
20091117
20060725
20120828
20130108
20140617
20111011
20090818
20110712
20140318
20120619
20130604
20040127
20090915
20091103
20141209
20060124
20050531
20041221
20040803
20120515
20100525
20110809
20041012
20111227
20130917
20120529
20030610
20021126
20091020
20061205
20021224
20141111
20040330
19900821
20120703
20121225
20131217
20120814
20141202
20130709
20150512
20130611
20110517
20190319
20140527
20120821
20131126
20111227
20150922
20131119
20130226
20120821
20141223
20140204
20150303
20130806
20130709
20140422
20150519
20140715
20130108
20130813
20150929
20140603
20130226
20131105
20150210
20130416
20131105
20140415
20121211
20151027
20131008
20131015
20140701
20140422
20150728
20140909
20140610
20130903
20131231
20140812
20130226
20140318
20140729
20140114
20140128
20150811
20150512
20140211
20140218
20130716
20130730
20140114
20141209
20141125
20131029
20130827
20160503
20141125
20141202
20140909
20141007
20150526
20141118
20140603
20120724
20140520
20161129
20150303
20131015
20141021
20130903
20150303
20140218
20150602
20140708
20150414
20151110
20151006
20140513
20140909
20160301
20131203
20150407
20131029
20130709
20141202
20140812
20141209
20200818
20141111
20150609
20160412
20140225
20150317
20141230
20150414
20160419
20151006
20150811
20141111
20150714
20160223
20151013
20160315
20140909
20150217
20150303
20160906
20141014
20151027
20190507
20161011
20141007
20150728
20150721
20210330
20151013
20160209
20160126
20160419
20161206
20160920
20150113
20161018
20161004
20190625
20160126
20200324
20151020
20160531
20150217
20160112
20160823
20160705
20160209
20160517
20150721
20151229
20160614
20190507
20201020
20161115
20181218
20150127
20160816
20160329
20170321
20151006
20181030
20150623
20151020
20160607
20160830
20170418
20181023
20170103
20181120
20190507
20200225
20180911
20191217
20181106
20190723
20160524
20180828
20160301
20160830
20200317
20200225
20200218
20181106
20201027
20190521
20181211
20160927
20181030
20190528
20190903
20190716
20200407
20181211
20190507
20190319
20181204
20161122
20190423
20190212
20190806
20191203
20200407
20210511
20190108
20201103
20220712
20190827
20210105
20200609
20190514
20200505
20231003
20181218
20200407
20211123
20181106
20190709
20210309
20210622
20191008
20201110
20190514
20200225
20200310
20200714
20190205
20210817
20210601
20180911
20220927
20200825
20201124
20191126
20201103
20210803
20191015
20190709
20200825
20210216
20190205
20210119
20210406
20210413
20200922
20190319
20200317
20190709
20240416
20200915
20200721
20201208
20200609
20200818
20200331
20200609
20201013
20200407
20210216
20220104
20200407
20031021
20021112
20020212
20020806
20020312
20030513
20021015
20020205
20030520
20031104
20030930
20040518
20021231
20030325
20040706
20050920
20050426
20030513
20031007
20050118
20040525
20060801
20040511
20040824
20051101
20031216
20041116
20050802
20060801
20070130
20050726
20050315
20080923
20070522
20041123
20040525
20060228
20050517
20061010
20070220
20050125
20050111
20050524
20070123
20101026
20100223
20080129
20091103
20100302
20081021
20131119
20080909
20121204
20060815
20051213
20050607
20070123
20090106
20080513
20090407
20070612
20060530
20090303
20071120
20061031
20060117
20071204
20080923
20101005
20070814
20090505
20080205
20140311
20060829
20070424
20090421
20071113
20060905
20060411
20080520
20090224
20080923
20090512
20100202
20130820
20071009
20100202
20100316
20101228
20100907
20070925
20091117
20090915
20100406
20150224
20101221
20121023
20080701
20100601
20120911
20091229
20100323
20101214
20111129
20100126
20120131
20190611
20101116
20160906
20130625
201

2025-01-19 03:11:23 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:23 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:23 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:24 - snowflake.connector.cursor - INFO - Number of results in first chunk: 201
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:24 - root - INFO - SQL:
SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2' AND "grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Results:
publication_number
US-11407775-B2
US-11422371-B2
US-11354278-B2
US-11390055-B2
US-11382363-B2
US-11401234-B2
US-11400486-B2
US-11397228-B2
US-11353321-B2
US-11363536-B2
US-11400138-B2
US-11393967-B2
US-11353839-B2
US-11373466-B2
US-11382705-B2
US-11397148-B2
US-11394231-B2
US-11408811-B2
US-11416022-B2
US-11393239-B2
US-11353091-B2
US-11372255-B2
US-11396506-B2
US-11386278-B2
US-11372388-B2
US-11374644-B2
US-11387209-B2
US-11428067-B2
US-11418602-B2
US-11423539-B2
US-11388673-B2
US-11398087-B2
US-11424563-B2
US-11375590-B2
US-11421473-B2
US-11381650-B2
US-11394671-B2
US-11381908-B2
US-11400796-B2
US-11405983-B2
US-11364337-B2
US-11407574-B2
US-11393841-B2
US-11417842-B2
US-11375809-B2
US-11385961-B2
US-11357437-B2
US-11376346-B2
US-11376070-B2
US-11352335-B2
US-11401923-B2
US-11430204-B2
US-11376885-B2
US-11372439-B2
US-11401219-B2
US-11392816-B2
US-11382018-B2
US-11412960-B2
US-11351355-B2
US-11364500-B2
US-11421276-B2
US-11414872-B2
US-11378383-B2
US-11401428-B2
US-11422402-B2
US-11410148-B2
US-11409969-B2
US-11374640-B2
US-11352902-B2
US-11389834-B2
US-11389955-B2
US-11368762-B2
US-11375960-B2
US-11404307-B2
US-11407307-B2
US-11410365-B2
US-11386741-B2
US-11370085-B2
US-11385163-B2
US-11391553-B2
US-11430607-B2
US-11412923-B2
US-11384000-B2
US-11369714-B2
US-11373467-B2
US-11407174-B2
US-11376718-B2
US-11427279-B2
US-11424341-B2
US-11379973-B2
US-11428135-B2
US-11407366-B2
US-11377840-B2
US-11388258-B2
US-11375403-B2
US-11363222-B2
US-11380354-B2
US-11392814-B2
US-11396158-B2
US-11431960-B2
US-11383851-B2
US-11363375-B2
US-11419318-B2
US-11351045-B2
US-11392648-B2
US-11395931-B2
US-11410444-B2
US-11424884-B2
US-11422523-B2
US-11367437-B2
US-11428911-B2
US-11422364-B2
US-11398593-B2
US-11384177-B2
US-11354261-B2
US-11396939-B2
US-11401845-B2
US-11365041-B2
US-11418715-B2
US-11420401-B2
US-11360211-B2
US-11398338-B2
US-11412422-B2
US-11354655-B2
US-11387213-B2
US-11375479-B2
US-11405208-B2
US-11420656-B2
US-11378746-B2
US-11375241-B2
US-11380566-B2
US-11416699-B2
US-11412231-B2
US-11368189-B2
US-11408566-B2
US-11386539-B2
US-11371080-B2
US-11429930-B2
US-11402589-B2
US-11356221-B2
US-11382847-B2
US-11407172-B2
US-11400006-B2
US-11391070-B2
US-11376109-B2
US-11393351-B2
US-11406832-B2
US-11379726-B2
US-11426701-B2
US-11412974-B2
US-11423376-B2
US-11363813-B2
US-11426634-B2
US-11365729-B2
US-11419647-B2
US-11375912-B2
US-11416109-B2
US-11430084-B2
US-11421980-B2
US-11374056-B2
US-11382760-B2
US-11413710-B2
US-11387621-B2
US-11373280-B2
US-11423146-B2
US-11400365-B2
US-11411015-B2
US-11386886-B2
US-11352686-B2
US-11352465-B2
US-11391059-B2
US-11380765-B2
US-11376319-B2
US-11404853-B2
US-11406524-B2
US-11390722-B2
US-11389656-B2
US-11374186-B2
US-11369979-B2
US-11391381-B2
US-11373404-B2
US-11421011-B2
US-11384463-B2
US-11413537-B2
US-11414016-B2
US-11415428-B2
US-11374401-B2
US-11397326-B2
US-11396572-B2
US-11407017-B2
US-11360542-B2
US-11379962-B2
US-11370724-B2
US-11416001-B2
US-11396732-B2
US-11374026-B2
US-11369217-B2
US-11407829-B2
US-11399950-B2
US-11381283-B2
US-11409410-B2

2025-01-19 03:11:24 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:24 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:26 - snowflake.connector.cursor - INFO - Number of results in first chunk: 201
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:26 - root - INFO - SQL:
SELECT "ipc"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2' AND "grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Results:
Too long, hard cut:
ipc
"[
  {
    ""code"": ""C07H1/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07F9/6584"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07H19/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07H19/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G02B27/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02F1/1335"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04N7/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/09"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/01"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G09G5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06T19/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/14"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B3/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G06F16/182"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F17/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F16/18"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06Q20/38"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""B32B15/085"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""A41C3/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A41C3/12"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07B59/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K31/277"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K45/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07C291/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07C225/36"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01N31/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K31/136"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C09D175/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D7/26"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D7/40"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D17/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09D175/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09D181/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D3/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09D5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D7/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D7/50"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D3/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D11/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D3/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G01N22/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01R33/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01R33/34"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04N23/90"",
    ""first"": false,
    ""inventive"": tru

2025-01-19 03:11:26 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:26 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:28 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:28 - root - INFO - SQL:
SELECT f.value
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Results:
Too long, hard cut:
VALUE
"{
  ""code"": ""H02B1/36"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B60K6/36"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H02B11/04"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""C07D519/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07D471/02"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07D471/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G07G1/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06K7/10"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B17/318"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G05B19/042"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B23P19/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G05B19/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B17/327"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04W24/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B7/08"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B7/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B7/0452"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""H01L23/31"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L23/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/768"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L25/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/306"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/3105"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L23/48"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/56"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B36/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/13"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C06B47/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C22C9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B27/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C09K8/42"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B17/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C06B33/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B47/00"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/136"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/134"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/12"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C22C12/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64D31/04"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64C13/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G05G9/047"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64C29/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64C13/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B9/09"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J9/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J15/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B15/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06F17/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J9/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J15/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B15/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B13/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04N21/81"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04N21/24"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06V10/764"",
  ""first"": false,
  ""inventive"": true,
  ""tree"":

2025-01-19 03:11:28 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:28 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:29 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:29 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:29 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:30 - root - INFO - SQL:
SELECT f.value:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Results:
Too long, hard cut:
ipc_code
G16H15/00
G16H30/20
G16H40/67
G16H10/60
G06K9/00
G06T1/00
A61B6/03
A61B5/00
B24B7/30
B24B7/22
B25B23/16
H01L21/306
B24B7/19
B24D11/00
B24D13/14
B24B1/00
B24B19/00
F21V33/00
G06F17/00
G06F3/00
G06F13/00
H04H60/33
H04N5/445
G11B23/30
G11B23/113
G11B23/087
G11B23/107
G11B23/02
H02H3/16
H01B7/32
H02G1/14
H01R13/713
H02H3/33
H02H7/00
H02H5/04
H01B7/00
H02G15/02
A61M29/00
A63B59/02
A63B65/12
A61K31/5685
A61K31/56
G08B23/00
G06F12/14
G06F9/00
G06F11/00
G06F12/16
H05K1/03
H05K1/11
H05K7/20
H01Q1/32
H01L27/08
H01L27/06
H01L21/822
H01L21/761
H01L27/092
H01L27/02
H01L27/04
H01L21/8238
G01R1/073
H01L23/498
H01L23/02
H01L23/14
H01L23/31
H01L21/768
H01L21/60
H01L21/20
H04B5/00
G01S13/08
G06F19/00
G08B1/08
H04Q5/22
G06F7/00
G06F17/00
A63F3/00
B32B5/20
B32B27/36
B32B3/30
B32B5/32
B32B5/18
B32B27/20
G02B5/02
H04B7/22
H04W72/00
F02D9/10
C25D5/36
B05D1/36
B65G1/00
G06N5/02
G06N5/00
G06F17/00
C02F1/46
H10B69/00
H01L21/8247
H01L29/76
H01L29/423
H01L29/792
H01L29/788
H01L21/3063
H01L21/28
H02K16/02
H02K17/30
H02K17/16
H02K7/10
B29C43/14
B29C43/02
A63B69/36
B29D99/00
A63B37/00
A63B45/00
G11B20/18
G11B7/00
H01M50/77
B05D5/12
H01M8/00
H02P27/06
E04B2/00
E04B2/32
H04N5/217
H01L27/00
H04N5/378
H04N5/374
H04N5/357
G06Q10/10
G06F15/16
F02B27/06
F01N1/06
F01N1/02
F01N1/08
F01N1/16
H04W80/04
H04W8/08
H04W60/00
H04W88/16
G01N1/20
H01R13/631
H01R13/629
H04L27/22
H03D3/00
H04L27/38
H04L27/00
H04J3/24
H04J3/00
H04L29/06
H04L29/08
H04J3/16
H04W80/04
H04W40/36
H04W80/10
H04J3/24
H02J7/00
H02M3/28
H01M6/50
A61B/
A61B17/00
A61B17/58
A61B17/16
A61B17/17
A61B17/04
A61H35/00
E04B7/02
E04B1/58
E04D13/00
F24F7/02
C08F283/04
C08G18/08
C08F2/14
C08F110/02
C08F4/24
B01J19/18
C08F6/02
C08F2/00
B01J19/00
C08F2/38
C08F10/00
C12P21/08
A61P9/10
A61K38/22
C07K16/18
A61K38/00
A61K39/395
A61K39/00
C07K16/26
C07K7/06
H04N7/26
H04N7/50
G06T9/00
G06K9/36
H04B1/66
B29C65/00
C12M1/00
C12P7/06
C07C29/80
G09G5/00
G06F3/038
H04L49/111
H04J3/24
H04L12/28
H04L12/54
B01D1/30
F22B27/16
F22B1/08
B01D1/10
C02F1/08
B01D1/00
F22B37/32
B01D1/06
B01D45/12
B01D1/22
G06F17/00
A61F2/82
A61F2/958
F23D11/32
B05B5/00
B05B5/025
B05B15/02
B05B12/06
G02B6/00
G02F1/1335
C12M1/22
C12M3/00
H10B10/00
H01L21/4763
H01L23/52
F01C1/24
F01C1/18
F04C2/18
F04C2/08
F03C2/08
A61K6/00
A61K/
G09B3/00
G09B23/28
G09B7/00
E06C9/14
B01F5/06
B01F3/04
H05B37/02
F21Y101/02
G06F1/16
F21V33/00
G06F1/00
G06F3/02
G06F1/18
G09G5/00
B60L11/18
H02P6/18
H02P9/14
H02P9/04
H02J7/00
H02P9/30
H02J7/14
H02M3/158
H02M7/217
H02P9/48
A61B6/00
H04L7/00
H04J3/06
H04J3/02
H04J3/04
G06F15/16
G06Q10/10
G01Q60/24
G01Q70/04
G01B21/00
G01Q70/00
G01Q10/00
G01Q70/02
G01Q10/04
G01Q10/06
H01L21/302
H01J27/00
A63B21/00
H04L69/40
H04W4/00
G06F17/50
F16H3/08
C07K14/02
A61K39/12
A61K39/00
A61K38/00
C07K14/18
A61K39/29
C07K14/74
H04N25/00
H04N3/14
F02B75/20
F01L7/00
F02F1/36
C25F3/08
H01R13/646
H01R13/52
H01R9/05
H01R43/042
G06F17/10
G06F7/60
F01L1/18
G07F19/00
G06K7/00
G07D11/00
G01R22/00
G01R31/08
G01R19/00
G01R31/28
G05D23/00
G05B11/01
G05B15/00
H01J49/00
G01N1/00
G01N30/72
G01N/
H01J49/04
G01N37/00
H01J49/26
B52D5/00
H01L27/144
H01Q1/26
H01L31/0352
H01L31/103
G01R29/10
H01L31/101
B03C3/016
H04R25/00
E05F11/28
H01L21/31
C08G77/50
H01L23/532
C08G77/58
C08G77/398
C09D183/14
H01L21/312
B32B9/04
F16B12/20
A47B96/00
A47B57/26
A61F2/06
A61B19/00
A61B17/11
A61B17/115
A61B17/064
G01R31/11
B01D46/00
A61N1/36
A61N1/375
F01D25/00
E05D13/00
H02K7/18
F42C14/02
H02K3/52
F42C15/40
F21L13/06
H02K1/14
F42C19/06
F42C11/00
A61B17/17
A61B17/04
A61F2/08
A61B17/82
D03C3/06
D03C3/12
D03C3/20
H04B1/06
H03G1/00
H03F3/45
C23C16/00
C30B25/14
C23C16/455
D21H17/66
D21H17/22
D21H17/26
D21H17/28
D21H17/34
G06F12/10
G06F11/34
G06F12/02
G06F13/24
G06F12/08
A61B5/103
H10B69/00
H01L21/336
D06F39/00
H01Q3/00
H05K7/00
H05K5/00
G06F1/16
G06F17/50
G06F9/30
G06F9/315
G06F7/76
G02F1/1335
G02F1/1333
F21V21/08
F21V21/084
G06F3/00
G06F3/01
G02C11/04
C07D205/04
C07K17/00
C07K14/00
C07K1/00
A61K38/00
C12P21/08
A61P1/16
A01N37/18
F16F9/348
B41J2/14
B41J2/135
H10N30/078
H10N30/20
H10N30/077
H10N30/01
H04R17/00
B05D3/02
B41J2/045
B41J2/055
B41J2/16
G01R31/50
G01R31/58
B60R16/02
H02P9/00
H02J7/14
G01R31/36
H01L21/52
B81C1/00
G06Q10/06
G06F3/048
G06Q10/00
G06Q10/08
E21B33/03
G06F9/00
G06F3/00
B65B9/10
B65B37/00
B65B37/06
H01L21/76
H04W24/08
H04W76/02
H01S5/00
B65D17/28
B65D5/54
A47F5/11
G21F9/00
H10K99/00
H01L29/08
H01S5/343
H01L21/3065
H01S5/223
H01S5/24
H01S5/22
H01L21/302
H01S5/323
H01L33/06
H01L33/14
H01L33/32
H01L33/22
H04N1/60
G06F3/02
G06F1/16
G06F17/30
E04B1/38
H01L29/78
H01L21/8238
C12N15/87
C12N15/867
C12N15/86
C07K14/78
G01B9/02
G03B27/74
G03B27/54
G01B11/14
G03B27/42
G03B27/32
G02B5/18
G01B11/00
H04N1/46
B41J29/38
B65H5/00
B41L13/00
H04N1/04
G06F3/12
H05B6/14
G02B6/38
G02B6/36
B60H1/00
G05G5/03
G09G5/00
G05B11/01
F25D17/00
B60R16/02
G06F3/023
B60K20/02
H04N21/241
H04N21/266
H04N21/24
H04N7/025
H04N7/10
H04L1/00
H04W28/04
H04W36/06
H04N7/50
H04N7/26
H04N7/01
H04N/
H03M7/36
H04N7/36
H04N7/32
H04N7/12
H04N11/02
A61F2/02
H01L31/075
H01L31/18
C23C16/455
C23C16/44
H01L31/20

2025-01-19 03:11:30 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:30 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:30 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:31 - snowflake.connector.cursor - INFO - Number of results in first chunk: 907
2025-01-19 03:11:31 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:31 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:31 - root - INFO - SQL:
SELECT DISTINCT f.value:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Results:
Too long, hard cut:
ipc_code
A61B90/00
H03F1/32
H04L9/08
H04N19/00
G06T3/40
G02B27/10
H04W72/54
B21F1/00
G06F1/3212
A61G7/057
G01B11/10
A61F2/46
B23K9/167
A61N1/37
G06F7/00
A01K67/027
B25J17/00
G10L21/02
G07C9/28
B60K17/02
F42B33/10
H01G4/30
G07F17/32
C07D471/04
G06F11/07
A44B11/25
H01S3/10
H01S3/13
H10B43/20
G06F40/174
H04W52/02
H04R3/04
A61M5/20
A47B3/06
B05D3/12
A61B17/34
C02F11/15
A61L15/32
G05B19/4061
H04N19/156
H04N19/577
B23K103/18
G06F21/54
B65B7/02
F16B21/09
H01R12/52
H04L47/36
C08L53/00
H04B7/0456
G02B6/12
B66C17/26
H04N19/105
G06K9/00
C06B33/00
A61P17/02
B01F35/92
A61B/
B82Y40/00
F02B67/00
C09D7/65
G01N15/14
G16H20/40
C22C21/08
G06V20/58
H01F27/25
H04N19/85
H04N19/159
A61M60/40
C09D5/00
C11D17/06
C11D7/50
B62K23/02
H01L21/3065
C08F236/18
F16H57/00
B60R21/0136
B64C29/00
H04W12/06
A61B5/318
A61M5/142
A61M39/06
A61L27/36
H01L21/308
G06K19/077
A61K8/46
C09D7/63
G06F1/16
B01J29/06
B65B7/28
H01S3/067
H04N21/84
B01F27/1143
H02N11/00
B60K6/36
B64D31/04
B01J38/02
A61K8/42
E21B33/134
A61B5/1486
G06V30/414
H04L9/40
G06N3/08
G06F9/54
B60W30/095
B01F27/272
H01L23/31
B29C64/214
G06F3/00
C08L9/02
H04W36/30
B60K17/16
G07F17/34
H01L21/3213
B82Y20/00
B01J35/06
H01L27/12
F21Y103/10
A61F2/848
G02B27/01
B60Q3/54
H04N21/435
G16H10/20
G06F13/42
G06K7/00
C11D11/00
H04R3/00
C07K16/28
A61F2/42
G01B11/00
A63F9/24
F17D1/20
B29C31/08
C12Q1/6818
A61K8/368
C07D519/00
C08F220/56
G06F13/40
G03B15/03
G01B11/14
A61K31/277
B65G17/18
A61G13/12
C07K14/54
B23K103/00
A61B5/026
A61F2/00
F15B9/09
G06T13/40
C08F20/16
B60S1/38
A61B90/57
E21B49/08
E05B13/10
H01L33/00
B66C15/00
E21B27/02
H01L29/40
H04W52/24
A61K38/39
H10B43/30
A61M5/158
H04N7/10
A41D1/06
B23K35/30
H01L27/24
H10B41/27
B65D79/02
A01K11/00
C22C9/00
C12Q1/6876
F21Y115/10
F21V8/00
G02F1/13
C08G18/64
G05B13/02
G03F7/20
A61M5/145
G06V40/20
B33Y40/00
B65H16/00
G06F3/041
B60K35/00
G06V10/764
H01L23/528
H04N19/136
A61K8/365
H05B47/175
A61B5/369
B29C48/42
B64C13/04
G10L17/00
A61L15/60
C08L27/16
H04N19/176
G06F3/04842
H04W4/02
H04W4/14
H04R9/06
H10B43/27
H01L29/06
G06F17/00
C08G18/80
H10B43/35
G06F11/00
C02F9/00
B62K11/14
C12N5/00
H01L21/033
H04W36/04
A61B17/86
G01R31/317
G06J1/02
H02J3/46
G06Q30/00
H04L67/1097
A61K8/81
H04B5/00
B65B55/18
F21S4/26
F02M35/16
F04B39/00
G07G1/00
H01G4/008
A41C3/12
A61B17/02
G06N20/00
H04L67/01
A61F2/30
H04W36/08
B29C48/00
H04L5/14
B60K1/02
B32B9/04
F01N3/035
B21D43/00
A61P17/12
B05B3/04
F16K11/22
E21B47/06
A61B18/20
H01Q1/22
H04W88/02
H01L21/306
B25J15/00
E04C3/04
G06F16/16
B05D1/18
B07C1/04
A62C3/02
G06F40/177
G01M11/02
H04L51/00
A61M5/32
H02H7/122
B43K24/14
F04B41/00
F04B33/00
G06F16/28
G05B19/418
G06K19/06
B21D11/12
G16H30/20
G06T5/50
G06F11/10
B60H1/24
F16K17/04
G06N3/04
A61B5/00
H04N5/235
B60K26/02
B01J23/20
G06F3/03
H01L21/768
H01L21/3105
H04L67/00
C08F20/56
F02F7/00
A61B1/00
C08G18/08
B08B3/02
H04N21/458
G16H40/63
A61B17/74
G06T19/00
C12N9/12
A61K8/73
H01L21/28
A47B13/08
G06F15/16
B65G1/00
E04C3/07
H04L67/02
A61K39/145
C08J7/18
A63F13/285
A01N25/04
F02M25/06
G06T7/80
H10K99/00
B25B13/48
H04N9/04
G06F1/18
A41H3/00
B01F25/431
F04B49/24
F02B37/00
G01D5/14
B29C64/218
G06F30/20
A61B90/10
B01J37/02
H04W72/12
E21B17/10
H01L21/677
H04N19/13
H04N19/52
G06F16/182
A61K31/136
A61P17/14
C01G39/02
A41D27/08
A61B17/80
G10L15/22
B66F9/075
H04N1/00
H04L69/321
B60R13/02
G01B11/08
B07C5/36
H04L1/00
G06F16/955
C07H19/16
H04W52/36
H03F3/181
G06V30/148
B29K27/06
G16H50/20
H02N1/08
G06F3/0354
F16H57/023
F02B39/14
H04W72/04
B25J9/14
B24C3/32
C08J3/22
H01L21/02
C07H19/06
A61B17/32
F01N11/00
G01S13/93
E05B73/00
G06V20/40
B05D3/00
A61B17/3205
B63G8/20
G06F3/0481
B25J15/06
C07D471/02
H04B7/0452
A61F5/34
G09B5/06
A61K8/37
G06V20/10
C07F9/6584
B32B15/085
C09D175/02
C07C2/84
G01S13/58
A61B5/145
B65B5/04
H04L67/75
H01L29/51
A41H3/08
H02J7/00
E21B21/00
B05D7/00
C08G18/28
F15B15/14
H01L23/00
H04M1/60
A61B8/12
A61B34/20
E05B15/00
B23K9/028
B41M5/24
A63B37/12
A61B17/56
G06F9/451
A61N1/372
C07C1/24
G06V10/56
B65H75/30
G01D1/00
H04N21/24
B62D12/00
H04W74/08
F17D3/12
A61K8/34
G05B19/042
F16H48/36
H01G2/06
B24C1/10
A61M5/14
C08F212/14
G06N7/00
H01R12/71
C12N5/10
G06F40/106
F04B27/18
B29C70/38
G06T5/00
H10B43/10
B44C1/22
B01F33/82
B22C5/00
B01F27/723
C08K5/47
F02M35/10
B25J9/16
G06T7/20
H01G4/248
C07D277/36
G01N29/34
G06V40/13
H04L5/00
A61B8/08
B29C64/30
C08F2/38
E21B33/13
E06B9/72
G06Q20/38
G02B6/14
H05B47/185
G06Q30/06
A47B3/00
B05B12/00
H10B41/10
A61B34/00
H05B45/14
F21S4/24
H04N5/369
A61L27/24
G02F1/1347
H04J11/00
G08B25/00
C09D5/08
F01D11/00
B24C9/00
B01J23/10
A61K45/06
H01L25/00
A61P17/06
A61B5/16
B29C48/03
F17D5/00
F16K3/26
A61Q19/10
G05G9/047
G02B27/42
H04L67/141
A61B6/12
C08F220/14
B01J23/34
B65H75/24
B64D11/00
B01L3/00
B05D3/10
G06F16/908
B65B51/22
H04W12/041
F17D3/01
A61K49/00
C12N7/00
F16B2/12
A47F3/00
B33Y50/02
H04W76/11
H04W4/80
G02B15/14
A61B5/11
H04W28/06
B66C13/16
G05B19/19
C07H1/06
C11D7/26
G06F16/18
H05B47/10
B60W50/02
G09F19/22
H04B7/06
H04B1/40
G06F40/103
F01N3/00
G06F21/32
E02D27/04
A61K38/16
H01F27/255
E21B47/00
E21B43/01
H04R29/00
G01S7/539
B65B55/02
G06K7/10
F02F1/24
B65D81/20
H01G4/2

2025-01-19 03:11:31 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:31 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:31 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:33 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1000
2025-01-19 03:11:33 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:33 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:33 - root - INFO - SQL:
SELECT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Results:
Too long, hard cut:
ipc4
H03D
H04L
H04L
H04L
G06F
H04L
G06F
H04B
G06F
F42B
G06Q
B81B
B82B
G03F
H01L
H01L
A61K
A61K
A61K
A61K
A61K
A61K
H10B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
C23C
H01L
H01L
H01J
H01J
H01J
H01J
G10H
G06T
G06T
B41J
G11C
G11C
H04L
G06F
G06F
H04L
G06F
H04M
G06F
H01R
G03G
G06F
G06F
H04L
G06Q
B03C
B03C
H05B
G01B
G02B
G02B
A61N
A61N
C12N
C07H
C12Q
G01N
C07H
C12P
D04H
D04H
D01F
C08L
C08L
D04H
C08L
C08L
C08L
G08B
H04N
H04N
H04N
H04N
G06F
G06F
A01K
H04N
G06K
G06K
F01B
F04B
F04B
F01B
F04B
G06F
G06F
G06F
B41J
G06F
H04Q
H04N
H04N
G06F
H04N
H04M
G06K
H04M
G06F
B41J
H04Q
H04Q
G06F
H04M
G08C
G06K
B41J
G06F
G10L
H04N
B41J
B41J
G10K
G10L
G06F
H04M
H04M
H04M
G06K
G06F
G06K
G06K
H04N
H04B
G06K
G06F
B82B
C09C
B05D
B05D
A63F
E05B
E05B
E05B
H04L
H04L
H04L
H04B
G01S
H04B
C25B
G01N
H04W
A61B
A61B
A61B
A61B
G06F
G06F
G06F
H01L
H04L
H04L
H04L
H04L
H04L
G03G
B23P
B01D
B01D
B01D
F01N
G06T
H04N
H04N
G03G
G06F
G06F
G06F
G06F
H05K
G03G
H02J
H01M
H01M
G01N
H02J
B60L
H01M
H01L
H01L
H04B
H04B
H04J
H04L
H04J
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G06V
G06F
H04L
H04N
H04N
H04N
B65B
G06F
G06K
C30B
A61Q
A61K
A61K
A61K
A01N
A61Q
A61K
G06K
G06K
H01L
G02B
H04L
G06F
B60N
B60N
H04N
H04N
F02M
F02M
F02M
F02M
F02M
F02M
H04W
H04H
B62D
G06F
G06Q
G06G
G06Q
G07B
G06Q
G06F
G06F
H04M
G07F
H04M
G06F
G06F
G06F
G06F
G06F
G06F
G06F
G06F
H04L
F16L
E21B
G02B
G01R
G01R
G06F
G06F
G06F
G06F
G06F
H04L
G06F
C12Q
C12N
G01N
A61K
A61B
C12N
A61K
C12P
G01N
C07H
C07K
C07H
G01N
G01N
G01N
G01N
B65D
B65D
B65F
B65D
G06F
A61K
A61K
A61K
A61K
A61K
A61K
A01N
A61K
A61K
A61Q
A01N
A61K
C07D
A61Q
G11C
G11C
G02B
G02B
G16H
G16H
G16H
G16H
G06K
G06T
A61B
A61B
B24B
B24B
B25B
H01L
B24B
B24D
B24D
B24B
B24B
F21V
G06F
G06F
G06F
H04H
H04N
G11B
G11B
G11B
G11B
G11B
H02H
H01B
H02G
H01R
H02H
H02H
H02H
H01B
H02G
A61M
A63B
A63B
A61K
A61K
G08B
G06F
G06F
G06F
G06F
H05K
H05K
H05K
H01Q
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G01R
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H04B
G01S
G06F
G08B
H04Q
G06F
G06F
A63F
B32B
B32B
B32B
B32B
B32B
B32B
G02B
H04B
H04W
F02D
C25D
B05D
B65G
G06N
G06N
G06F
C02F
H10B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H02K
H02K
H02K
H02K
B29C
B29C
A63B
B29D
A63B
A63B
G11B
G11B
H01M
B05D
H01M
H02P
E04B
E04B
H04N
H01L
H04N
H04N
H04N
G06Q
G06F
F02B
F01N
F01N
F01N
F01N
H04W
H04W
H04W
H04W
G01N
H01R
H01R
H04L
H03D
H04L
H04L
H04J
H04J
H04L
H04L
H04J
H04W
H04W
H04W
H04J
H02J
H02M
H01M
A61B
A61B
A61B
A61B
A61B
A61B
A61H
E04B
E04B
E04D
F24F
C08F
C08G
C08F
C08F
C08F
B01J
C08F
C08F
B01J
C08F
C08F
C12P
A61P
A61K
C07K
A61K
A61K
A61K
C07K
C07K
H04N
H04N
G06T
G06K
H04B
B29C
C12M
C12P
C07C
G09G
G06F
H04L
H04J
H04L
H04L
B01D
F22B
F22B
B01D
C02F
B01D
F22B
B01D
B01D
B01D
G06F
A61F
A61F
F23D
B05B
B05B
B05B
B05B
G02B
G02F
C12M
C12M
H10B
H01L
H01L
F01C
F01C
F04C
F04C
F03C
A61K
A61K
G09B
G09B
G09B
E06C
B01F
B01F
H05B
F21Y
G06F
F21V
G06F
G06F
G06F
G09G
B60L
H02P
H02P
H02P
H02J
H02P
H02J
H02M
H02M
H02P
A61B
H04L
H04J
H04J
H04J
G06F
G06Q
G01Q
G01Q
G01B
G01Q
G01Q
G01Q
G01Q
G01Q
H01L
H01J
A63B
H04L
H04W
G06F
F16H
C07K
A61K
A61K
A61K
C07K
A61K
C07K
H04N
H04N
F02B
F01L
F02F
C25F
H01R
H01R
H01R
H01R
G06F
G06F
F01L
G07F
G06K
G07D
G01R
G01R
G01R
G01R
G05D
G05B
G05B
H01J
G01N
G01N
G01N
H01J
G01N
H01J
B52D
G01N
G01N
A61F
G06F
H04W
H04W
H04W
G01N
G08C
G06K
G06K
G01R
C23F
G06F
G06F
H01J
H04R
H04N
H04B
G11C
G06F
G06F
G06F
A63B
A63B
B65D
B64F
G02B
A61C
B05C
B67D
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G02F
G02F
A63B
A63B
A63B
F21S
B60P
G06G
G03G
H03K
B29B
G06F
H03K
H04N
G06G
G06F
B60J
H01R
H01M
G01N
G06F
H04L
G06F
G06F
G06F
G08C
H04L
G06F
G06F
A63B
A63B
A47L
G06F
G06F
H04W
H04L
H04W
H04L
H04W
H04W
A63C
A63C
A63C
A63C
G11B
A61K
A61K
A61K
G06F
A61N
H04W
G06Q
C22C
C08K
C22C
C22C
B22F
C07K
C07K
A61K
A61P
A61K
C07K
G01N
G01N
A61D
B32B
B32B
B60R
B29C
B60R
H10B
H01L
C12Q
C08G
B64D
H02M
H05K
C07C
B01D
B01D
C07C
H04M
G06F
G06F
G06F
H04L
H04N
H04L
H04N
G06F
H04N
G06F
H04N
H04N
H04N
H01L
H01L
H01L
B60T
B60K
B60T
G01C
G01C
G06F
B60T
A61L
A61L
A61L
F24F
A01G
A01H
G06F
G06K
B23B
B23B
A61B
A61B
F16J
G03F
H01L
H04L
H04L
H04H
H04H
H04L
H04L
A47F
A47F
A47F
G09B
G06F
C01B
B01J
H04L
G06F
H04W
A63F
A63F
C07K
C07K
A61K
A61K
A61K
C07K
H01L
H04L
H04L
H04L
H04W
H04W
C08G
C08G
H04L
H01L
H01L
H01L
H01L
H01L
H01L
H02M
G03G
F02M
G06F
G11C
G06F
G06F
H01L
B23K
B23K
B23K
G06F
G06F
G06F
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
A61K
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
A01N
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
G01P
G05B
G01P
G06F
G06F
G05B
G06F
G01P
B65D
B65D
A61K
A61K
A61K
C12P
C12Q
A61K
G06F
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
C07C
B01J
B01J
C07C
C07C
B01J
B01J
B01J
B01J
B01J
B01J
H02M
H02J
H01F
H01F
F02P
H01F
H02J
H02J
H02M
H01F
H02J
H01F
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
G06F
G02B
A61B
A61B
A61B
A61B
H02M
H02M
A61N
H01M
G06F
H04B
B60K
G06F
B60Q
G06F
G02B
H04L
H04L
H04L
H04L
H04L
H04L
G06T
G06T
H04N
H04N
H04N
G01N
C12Q
G01N
H03B
H04B
H04M
H04M
H02B
H04R
B32B
G01C
G01C
G01S
G01S
A61M
A61M
A61M
G11C
G06F
G06F
H02P
H02H
E05B
A61L
A61L
E05B
C01G
C01G


2025-01-19 03:11:33 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:33 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:33 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:34 - snowflake.connector.cursor - INFO - Number of results in first chunk: 170
2025-01-19 03:11:34 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:35 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:35 - root - INFO - SQL:
SELECT DISTINCT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4"
    FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
    LIMIT 1000;
Results:
ipc4
E21B
G01N
F01M
B62D
B44C
G06N
H04J
E04D
G07C
B29B
G06V
F02F
E06B
G06T
C07K
B29C
F04B
B33Y
G01C
F02B
B01J
H01G
C06B
C07H
B23K
H04L
C22F
G07G
H01R
F17D
B07C
G01B
G16H
B60Q
B65B
G06J
G10L
A61L
A61Q
G03B
A61K
F16K
B05D
G01M
H03F
F15B
C09K
H02B
G01R
C07B
A61F
H04M
G02F
B23D
G01S
H02H
A61G
C22C
B66C
C08G
H02P
G06K
B29K
C12N
B22C
A01N
B66F
G02B
C09D
F02M
B82Y
A62C
B64D
D06C
G06Q
H01Q
A41H
B25J
B01L
G01D
G06F
C12Q
B65H
C07D
H04R
C07F
G09G
B60R
B08B
C12P
B63H
A01B
B24C
C11D
F01N
H04B
C08L
B05B
B41M
B60K
G05B
B64C
G05G
E04C
F16B
B22F
F21S
H10K
H10N
A41D
A61B
A01K
B63G
A63B
C08J
A47F
A61P
H04W
C08F
B21F
B21D
E02D
G09B
C01G
H02J
C08K
E05B
A61N
C02F
H01F
G03F
B23P
B60H
A44B
D06M
C07C
H02M
B60S
F21Y
A47B
E04B
B62K
A61M
B43K
G09F
H02N
G07F
D06Q
F42B
F21V
F16H
B25B
D06B
H01L
H04N
H05K
F01D
B01F
G08B
B65G
B60W
H10B
H01S
G11B
G05D
B65D
B32B
H05B
A41C
A63F

2025-01-19 03:11:35 - root - INFO - itercount: 0
2025-01-19 03:11:35 - root - INFO - Database Name: PATENTS
Schema Name: PATENTS
DDL describes table information.
,0
table_name,DISCLOSURES_13
description,
DDL,"create or replace TABLE DISCLOSURES_13 (
	""family_id"" VARCHAR(16777216),
	""record_id"" VARCHAR(16777216),
	""disclosure_event"" VARCHAR(16777216),
	""sso"" VARCHAR(16777216),
	""patent_owner_harmonized"" VARCHAR(16777216),
	""patent_owner_unharmonized"" VARCHAR(16777216),
	""date"" NUMBER(38,0),
	""standard"" VARCHAR(16777216),
	""committee_project"" VARCHAR(16777216),
	""tc_name"" VARCHAR(16777216),
	""sc_name"" VARCHAR(16777216),
	""wg_name"" VARCHAR(16777216),
	""licensing_commitment"" VARCHAR(16777216),
	""copyright"" VARCHAR(16777216),
	""blanket_type"" VARCHAR(16777216),
	""blanket_scope"" VARCHAR(16777216),
	""third_party"" VARCHAR(16777216),
	""reciprocity"" VARCHAR(16777216),
	""serial_cleaned"" VARCHAR(16777216),
	""pub_cleaned"" VARCHAR(16777216)
);"

,1
table_name,PUBLICATIONS
description,
DDL,"create or replace TABLE PUBLICATIONS (
	""publication_number"" VARCHAR(16777216),
	""application_number"" VARCHAR(16777216),
	""country_code"" VARCHAR(16777216),
	""kind_code"" VARCHAR(16777216),
	""application_kind"" VARCHAR(16777216),
	""application_number_formatted"" VARCHAR(16777216),
	""pct_number"" VARCHAR(16777216),
	""family_id"" VARCHAR(16777216),
	""spif_publication_number"" VARCHAR(16777216),
	""spif_application_number"" VARCHAR(16777216),
	""title_localized"" VARIANT,
	""abstract_localized"" VARIANT,
	""claims_localized"" VARIANT,
	""claims_localized_html"" VARIANT,
	""description_localized"" VARIANT,
	""description_localized_html"" VARIANT,
	""publication_date"" NUMBER(38,0),
	""filing_date"" NUMBER(38,0),
	""grant_date"" NUMBER(38,0),
	""priority_date"" NUMBER(38,0),
	""priority_claim"" VARIANT,
	""inventor"" VARIANT,
	""inventor_harmonized"" VARIANT,
	""assignee"" VARIANT,
	""assignee_harmonized"" VARIANT,
	""examiner"" VARIANT,
	""uspc"" VARIANT,
	""ipc"" VARIANT,
	""cpc"" VARIANT,
	""fi"" VARIANT,
	""fterm"" VARIANT,
	""locarno"" VARIANT,
	""citation"" VARIANT,
	""parent"" VARIANT,
	""child"" VARIANT,
	""entity_status"" VARCHAR(16777216),
	""art_unit"" VARCHAR(16777216)
);"

,2
table_name,CPC_DEFINITION
description,
DDL,"create or replace TABLE CPC_DEFINITION (
	""applicationReferences"" VARIANT,
	""breakdownCode"" BOOLEAN,
	""childGroups"" VARIANT,
	""children"" VARIANT,
	""dateRevised"" FLOAT,
	""definition"" VARIANT,
	""glossary"" VARIANT,
	""informativeReferences"" VARIANT,
	""ipcConcordant"" VARCHAR(16777216),
	""level"" FLOAT,
	""limitingReferences"" VARIANT,
	""notAllocatable"" BOOLEAN,
	""parents"" VARIANT,
	""precedenceLimitingReferences"" VARIANT,
	""residualReferences"" VARIANT,
	""rules"" VARIANT,
	""scopeLimitingReferences"" VARIANT,
	""status"" VARCHAR(16777216),
	""symbol"" VARCHAR(16777216),
	""synonyms"" VARIANT,
	""titleFull"" VARCHAR(16777216),
	""titlePart"" VARIANT
);"

External knowledge that might be helpful: 
### IPC Codes: Handling Main IPC Code Selection

When dealing with the `ipc` field in the `patents-public-data.patents.publications` dataset, it is important to understand the structure of this field, especially the subfield `first`. This subfield is a boolean that indicates whether a given IPC code is the main code for the publication number in question. This is crucial because each patent publication can be associated with multiple IPC codes, signifying the various aspects of the technology covered by the patent.

However, not every publication in the dataset has a designated main IPC code. This lack of a clearly identified main IPC code complicates the process of determining the most relevant IPC code for each publication, as selecting a single IPC code from multiple possibilities without clear prioritization can lead to inconsistent or skewed analyses.

This approach ensures a more consistent and representative selection of IPC codes across the dataset, facilitating more accurate and meaningful analysis of patent trends and classifications. By focusing on the most frequently occurring 4-digit IPC code, the view helps overcome the limitations posed by the absence of a designated main IPC code, thereby enhancing the reliability of patent-related studies and insights derived from this data.

Here is an example

```
SELECT 
    t1.publication_number, 
    SUBSTR(ipc_u.code, 0, 4) as ipc4, 
    COUNT(
    SUBSTR(ipc_u.code, 0, 4)
    ) as ipc4_count 
FROM 
    `patents-public-data.patents.publications` t1, 
    UNNEST(ipc) AS ipc_u 
GROUP BY 
    t1.publication_number, 
    ipc4

```



# Text Embeddings (Similarity)

Patent documents are rich with textual data. In fact, most of the information contained in a patent document is text. This includes the `abstract_localized`, `description_localized`, and `claims_localized`. Textual data can be a powerful tool to analyze and compare patent scope and content across patents. However, before being able to use textual data, it needs to be vectorized or transformed into text embeddings that can be used by machine learning models. Therefore, creating text embeddings from the textual data of patents is necessary to compare patent contents. Technically speaking, running an NLP algorithm that creates embeddings for all U.S. patents is computationally difficult.

Nevertheless, Google runs their own machine learning algorithm which transforms patent text metadata into text embeddings which they report in `patents-public-data.google_patents_research.publications` table. The textual embeddings of one patent, without any knowledge on the algorithm being used to create them, are meaningless on their own. However, the embeddings are powerful when it comes to comparing textual content of two or more patents. Embeddings can be used to calculate a similarity score between any two patents. This similarity score is calculated by applying the dot product of the embeddings vector of the patents, as shown below:

The similarity \( \text{Similarty}_{i,k} \) between two patents \( i \) and \( k \) is calculated as the dot product of their embedding vectors:

\[
\text{Similarty}_{i,k} = \mathbf{v}_i \cdot \mathbf{v}_k
\]

where

\[
\mathbf{v}_i = [v_{i1}, v_{i2}, v_{i3}, \ldots, v_{iN}]
\]
and
\[
\mathbf{v}_k = [v_{k1}, v_{k2}, v_{k3}, \ldots, v_{kN}]
\]

are the embedding vectors for patents \( i \) and \( k \) respectively. The higher the dot product, the more similar the patents.





# Originality (Trajtenberg)

One of the most important measures of a patent is "basicness". The aspects of basicness are tough to measure. Nevertheless, some literature finds that important aspects of these measures are embodied in the relationship between the invention and the technological predcessors and successors it is connected to through, for example, patent citations. We can thus use patent citations to construct measures that identify basicness and appropriability. Trajtenberg et al. 1997 provide a number of these measures. They distinguish between:

1. Forward-looking measures: measures that are derived from the relationship between an invention and subsequent technologies that build upon it. These measures are thus constructed from the forward citations. One example of a forward-looking basicness measure they provide is Generality, which is calculated as:

\[
\text{GENERALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITING}_{G_k}}{\text{NCITING}_i} \right)
\]


2. Backward-looking measures: measures that are derived from the relationship between a given patent and the body of knowledge that preceded it. These measure are thus constructed from the backward citations. One example of a backward-looking basicness measure they provide is Orginality, which is calculated as:

\[
\text{ORIGINALITY}_i = 1 - \sum_{k=1}^{N_i} \left( \frac{\text{NCITED}_{i,k}}{\text{NCITED}_i} \right)
\]

With **NCITING** and **NCITED** defined as the number of patents citing the focal patent and the number of patents cited by the focal patent, respectively. Index `i` corresponds to the focal patent considered, and `k` is the index of patent classes. For example, **NCITED_2,3** refers to the number of patents in patent class 3 and cited by our focal patent 2.


The table structure information is ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}
Begin Exploring Related Columns
**Relevant Columns and Potential Usage:**

- **"country_code"**: Used to filter patents by country. Condition: WHERE "country_code" = 'US'
- **"kind_code"**: Used to filter patents by kind code. Condition: WHERE "kind_code" = 'B2'
- **"grant_date"**: Used to filter patents by grant date. Condition: WHERE "grant_date" BETWEEN '20220601' AND '20220831'
- **"ipc"**: Contains IPC codes assigned to patents. Needs to be flattened using LATERAL FLATTEN to extract codes.
- **"publication_number"**: Identifies individual patents.
- **"ipc"."code"**: The IPC code within the nested "ipc" VARIANT field.

**Conditions that may be used:**

- Filtering for US patents: `"country_code" = 'US'`
- Filtering for B2 kind code: `"kind_code" = 'B2'`
- Filtering for grant dates in June to August 2022: `"grant_date" BETWEEN '20220601' AND '20220831'`

---

**SQL Queries:**

1. **Retrieve distinct country codes in the PUBLICATIONS table:**

   ```sql
   SELECT DISTINCT "country_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   LIMIT 1000;
   ```

2. **Get distinct kind codes for US patents:**

   ```sql
   SELECT DISTINCT "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
   ```

3. **List grant dates for US B2 patents:**

   ```sql
   SELECT "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 1000;
   ```

4. **Find publication numbers of US B2 patents granted between June and August 2022:**

   ```sql
   SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2' AND "grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
   ```

5. **View the "ipc" field for US B2 patents in the specified date range:**

   ```sql
   SELECT "ipc"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2' AND "grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
   ```

6. **Flatten the "ipc" field to see individual IPC entries:**

   ```sql
   SELECT f.value
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
   ```

7. **Extract the "code" from the flattened "ipc" entries:**

   ```sql
   SELECT f.value:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
   ```

8. **Retrieve distinct IPC codes for US B2 patents in the date range:**

   ```sql
   SELECT DISTINCT f.value:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
   ```

9. **Extract the first four characters of IPC codes (4-digit IPC codes):**

   ```sql
   SELECT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
   ```

10. **Get distinct 4-digit IPC codes for US B2 patents granted between June and August 2022:**

    ```sql
    SELECT DISTINCT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4"
    FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
    LIMIT 1000;
    ```

---

These queries help in understanding the structure and values of the relevant columns in the `PUBLICATIONS` table, particularly focusing on the IPC codes and how they relate to US B2 patents granted between June and August 2022.Query:
SELECT DISTINCT "country_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   LIMIT 1000;
Answer:
country_code
TR
BG
DO
JP
HU
DZ
AT
HR
CO
SI
AR
KE
FI
DK
US
DD
PH
DE
MA
PE
UA
MW
IT
OA
CY
RS
LU
NL
CS
LV
MY
FR
SU
AU
CU
LT
KR
RO
NO
MD
PL
CR
JO
NI
CZ
HN
SV
CN
MC
RU
CA
SK
IS
GB
SG
IE
EA
ES
ZW
IN
EC
EP
ZA
CH
SA
MN
PT
CL
NZ
BR
ID
KZ
IL
TW
MT
BE
SE
AP
SM
ME
MX
EE
GE
HK
GT
TN
GR
EG
PA
WO
BA
YU
ZM
Query:
SELECT DISTINCT "kind_code"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US'
   LIMIT 1000;
Answer:
kind_code
A2
P9
C1
A1
B1
B2
A
P1
A9
Query:
SELECT "grant_date"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2'
   LIMIT 1000;
Answer:
Too long, hard cut:
grant_date
20130820
20070320
20070828
20110517
20091208
20090908
20030916
20080513
20081021
20050524
20051101
20031118
20080415
20150317
20121023
20100420
20040921
20101019
20130326
20111122
20040615
20120619
20080422
20030527
20100406
20150512
20130319
20130820
20090317
20090714
20100316
20050614
20110222
20081230
20121127
20100817
20120501
20071009
20130604
20140204
20120131
20050426
20040420
20120717
20041123
20070710
20130521
20060221
20120221
20120717
20120807
20100427
20110215
20050809
20111220
20060425
20100831
20150915
20120522
20141028
20120904
20110614
20130409
20120807
20130416
20130917
20110823
20131231
20060509
20101109
20120515
20110201
20140107
20120807
20121009
20130820
20110315
20090908
20100810
20141104
20120612
20120814
20130716
20100914
20050614
20130820
20090804
20110329
20130122
20130723
20130326
20121225
20100720
20160105
20140429
20140128
20120807
20120124
20140114
20060418
20110809
20151229
20130226
20101102
20060103
20050329
20091201
20130305
20130101
20130423
20130604
20080129
20130226
20021105
20150120
20130903
20050705
20060110
20100720
20060411
20020924
20110705
20150908
20031202
20140701
20050614
20011023
20121211
20150210
20020820
20140318
20140218
20030819
20040210
20080318
20070313
20140304
20030826
20130226
20110906
20120904
20131112
20140812
20131001
20161206
20131001
20060516
20100504
20031014
20050705
20140401
20050913
20130416
20120904
20091117
20060725
20120828
20130108
20140617
20111011
20090818
20110712
20140318
20120619
20130604
20040127
20090915
20091103
20141209
20060124
20050531
20041221
20040803
20120515
20100525
20110809
20041012
20111227
20130917
20120529
20030610
20021126
20091020
20061205
20021224
20141111
20040330
19900821
20120703
20121225
20131217
20120814
20141202
20130709
20150512
20130611
20110517
20190319
20140527
20120821
20131126
20111227
20150922
20131119
20130226
20120821
20141223
20140204
20150303
20130806
20130709
20140422
20150519
20140715
20130108
20130813
20150929
20140603
20130226
20131105
20150210
20130416
20131105
20140415
20121211
20151027
20131008
20131015
20140701
20140422
20150728
20140909
20140610
20130903
20131231
20140812
20130226
20140318
20140729
20140114
20140128
20150811
20150512
20140211
20140218
20130716
20130730
20140114
20141209
20141125
20131029
20130827
20160503
20141125
20141202
20140909
20141007
20150526
20141118
20140603
20120724
20140520
20161129
20150303
20131015
20141021
20130903
20150303
20140218
20150602
20140708
20150414
20151110
20151006
20140513
20140909
20160301
20131203
20150407
20131029
20130709
20141202
20140812
20141209
20200818
20141111
20150609
20160412
20140225
20150317
20141230
20150414
20160419
20151006
20150811
20141111
20150714
20160223
20151013
20160315
20140909
20150217
20150303
20160906
20141014
20151027
20190507
20161011
20141007
20150728
20150721
20210330
20151013
20160209
20160126
20160419
20161206
20160920
20150113
20161018
20161004
20190625
20160126
20200324
20151020
20160531
20150217
20160112
20160823
20160705
20160209
20160517
20150721
20151229
20160614
20190507
20201020
20161115
20181218
20150127
20160816
20160329
20170321
20151006
20181030
20150623
20151020
20160607
20160830
20170418
20181023
20170103
20181120
20190507
20200225
20180911
20191217
20181106
20190723
20160524
20180828
20160301
20160830
20200317
20200225
20200218
20181106
20201027
20190521
20181211
20160927
20181030
20190528
20190903
20190716
20200407
20181211
20190507
20190319
20181204
20161122
20190423
20190212
20190806
20191203
20200407
20210511
20190108
20201103
20220712
20190827
20210105
20200609
20190514
20200505
20231003
20181218
20200407
20211123
20181106
20190709
20210309
20210622
20191008
20201110
20190514
20200225
20200310
20200714
20190205
20210817
20210601
20180911
20220927
20200825
20201124
20191126
20201103
20210803
20191015
20190709
20200825
20210216
20190205
20210119
20210406
20210413
20200922
20190319
20200317
20190709
20240416
20200915
20200721
20201208
20200609
20200818
20200331
20200609
20201013
20200407
20210216
20220104
20200407
20031021
20021112
20020212
20020806
20020312
20030513
20021015
20020205
20030520
20031104
20030930
20040518
20021231
20030325
20040706
20050920
20050426
20030513
20031007
20050118
20040525
20060801
20040511
20040824
20051101
20031216
20041116
20050802
20060801
20070130
20050726
20050315
20080923
20070522
20041123
20040525
20060228
20050517
20061010
20070220
20050125
20050111
20050524
20070123
20101026
20100223
20080129
20091103
20100302
20081021
20131119
20080909
20121204
20060815
20051213
20050607
20070123
20090106
20080513
20090407
20070612
20060530
20090303
20071120
20061031
20060117
20071204
20080923
20101005
20070814
20090505
20080205
20140311
20060829
20070424
20090421
20071113
20060905
20060411
20080520
20090224
20080923
20090512
20100202
20130820
20071009
20100202
20100316
20101228
20100907
20070925
20091117
20090915
20100406
20150224
20101221
20121023
20080701
20100601
20120911
20091229
20100323
20101214
20111129
20100126
20120131
20190611
20101116
20160906
20130625
201
Query:
SELECT "publication_number"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2' AND "grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Answer:
publication_number
US-11407775-B2
US-11422371-B2
US-11354278-B2
US-11390055-B2
US-11382363-B2
US-11401234-B2
US-11400486-B2
US-11397228-B2
US-11353321-B2
US-11363536-B2
US-11400138-B2
US-11393967-B2
US-11353839-B2
US-11373466-B2
US-11382705-B2
US-11397148-B2
US-11394231-B2
US-11408811-B2
US-11416022-B2
US-11393239-B2
US-11353091-B2
US-11372255-B2
US-11396506-B2
US-11386278-B2
US-11372388-B2
US-11374644-B2
US-11387209-B2
US-11428067-B2
US-11418602-B2
US-11423539-B2
US-11388673-B2
US-11398087-B2
US-11424563-B2
US-11375590-B2
US-11421473-B2
US-11381650-B2
US-11394671-B2
US-11381908-B2
US-11400796-B2
US-11405983-B2
US-11364337-B2
US-11407574-B2
US-11393841-B2
US-11417842-B2
US-11375809-B2
US-11385961-B2
US-11357437-B2
US-11376346-B2
US-11376070-B2
US-11352335-B2
US-11401923-B2
US-11430204-B2
US-11376885-B2
US-11372439-B2
US-11401219-B2
US-11392816-B2
US-11382018-B2
US-11412960-B2
US-11351355-B2
US-11364500-B2
US-11421276-B2
US-11414872-B2
US-11378383-B2
US-11401428-B2
US-11422402-B2
US-11410148-B2
US-11409969-B2
US-11374640-B2
US-11352902-B2
US-11389834-B2
US-11389955-B2
US-11368762-B2
US-11375960-B2
US-11404307-B2
US-11407307-B2
US-11410365-B2
US-11386741-B2
US-11370085-B2
US-11385163-B2
US-11391553-B2
US-11430607-B2
US-11412923-B2
US-11384000-B2
US-11369714-B2
US-11373467-B2
US-11407174-B2
US-11376718-B2
US-11427279-B2
US-11424341-B2
US-11379973-B2
US-11428135-B2
US-11407366-B2
US-11377840-B2
US-11388258-B2
US-11375403-B2
US-11363222-B2
US-11380354-B2
US-11392814-B2
US-11396158-B2
US-11431960-B2
US-11383851-B2
US-11363375-B2
US-11419318-B2
US-11351045-B2
US-11392648-B2
US-11395931-B2
US-11410444-B2
US-11424884-B2
US-11422523-B2
US-11367437-B2
US-11428911-B2
US-11422364-B2
US-11398593-B2
US-11384177-B2
US-11354261-B2
US-11396939-B2
US-11401845-B2
US-11365041-B2
US-11418715-B2
US-11420401-B2
US-11360211-B2
US-11398338-B2
US-11412422-B2
US-11354655-B2
US-11387213-B2
US-11375479-B2
US-11405208-B2
US-11420656-B2
US-11378746-B2
US-11375241-B2
US-11380566-B2
US-11416699-B2
US-11412231-B2
US-11368189-B2
US-11408566-B2
US-11386539-B2
US-11371080-B2
US-11429930-B2
US-11402589-B2
US-11356221-B2
US-11382847-B2
US-11407172-B2
US-11400006-B2
US-11391070-B2
US-11376109-B2
US-11393351-B2
US-11406832-B2
US-11379726-B2
US-11426701-B2
US-11412974-B2
US-11423376-B2
US-11363813-B2
US-11426634-B2
US-11365729-B2
US-11419647-B2
US-11375912-B2
US-11416109-B2
US-11430084-B2
US-11421980-B2
US-11374056-B2
US-11382760-B2
US-11413710-B2
US-11387621-B2
US-11373280-B2
US-11423146-B2
US-11400365-B2
US-11411015-B2
US-11386886-B2
US-11352686-B2
US-11352465-B2
US-11391059-B2
US-11380765-B2
US-11376319-B2
US-11404853-B2
US-11406524-B2
US-11390722-B2
US-11389656-B2
US-11374186-B2
US-11369979-B2
US-11391381-B2
US-11373404-B2
US-11421011-B2
US-11384463-B2
US-11413537-B2
US-11414016-B2
US-11415428-B2
US-11374401-B2
US-11397326-B2
US-11396572-B2
US-11407017-B2
US-11360542-B2
US-11379962-B2
US-11370724-B2
US-11416001-B2
US-11396732-B2
US-11374026-B2
US-11369217-B2
US-11407829-B2
US-11399950-B2
US-11381283-B2
US-11409410-B2
Query:
SELECT "ipc"
   FROM PATENTS.PATENTS.PUBLICATIONS
   WHERE "country_code" = 'US' AND "kind_code" = 'B2' AND "grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Answer:
Too long, hard cut:
ipc
"[
  {
    ""code"": ""C07H1/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07F9/6584"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07H19/16"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07H19/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G02B27/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02F1/1335"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04N7/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/09"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/01"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G09G5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06T19/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/14"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B3/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G02B27/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G06F16/182"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/32"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F17/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06F16/18"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/08"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04L9/14"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G06Q20/38"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""B32B15/085"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""A41C3/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A41C3/12"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C07B59/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K31/277"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K45/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07C291/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C07C225/36"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01N31/22"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""A61K31/136"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""C09D175/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D7/26"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D7/40"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D17/06"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09D175/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09D181/04"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D3/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C09D5/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D7/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D7/50"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D3/12"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""C11D11/00"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""B05D3/10"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  }
]"
"[
  {
    ""code"": ""G01N22/02"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01R33/00"",
    ""first"": true,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""G01R33/34"",
    ""first"": false,
    ""inventive"": true,
    ""tree"": []
  },
  {
    ""code"": ""H04N23/90"",
    ""first"": false,
    ""inventive"": tru
Query:
SELECT f.value
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Answer:
Too long, hard cut:
VALUE
"{
  ""code"": ""H02B1/36"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B60K6/36"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H02B11/04"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""C07D519/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07D471/02"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C07D471/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G07G1/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06K7/10"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B17/318"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G05B19/042"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B23P19/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G05B19/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B17/327"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04W24/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B7/08"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B7/06"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04B7/0452"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""H01L23/31"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L23/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/768"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L25/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/306"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/3105"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L23/48"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H01L21/56"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B36/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/13"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C06B47/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C22C9/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B27/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C09K8/42"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B17/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C06B33/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B47/00"",
  ""first"": false,
  ""inventive"": false,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/136"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/134"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""E21B33/12"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""C22C12/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64D31/04"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64C13/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G05G9/047"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64C29/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B64C13/30"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B9/09"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J9/16"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J15/02"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B15/10"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06F17/00"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J9/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""B25J15/00"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B15/14"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""F15B13/04"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04N21/81"",
  ""first"": true,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""H04N21/24"",
  ""first"": false,
  ""inventive"": true,
  ""tree"": []
}"
"{
  ""code"": ""G06V10/764"",
  ""first"": false,
  ""inventive"": true,
  ""tree"":
Query:
SELECT f.value:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Answer:
Too long, hard cut:
ipc_code
G16H15/00
G16H30/20
G16H40/67
G16H10/60
G06K9/00
G06T1/00
A61B6/03
A61B5/00
B24B7/30
B24B7/22
B25B23/16
H01L21/306
B24B7/19
B24D11/00
B24D13/14
B24B1/00
B24B19/00
F21V33/00
G06F17/00
G06F3/00
G06F13/00
H04H60/33
H04N5/445
G11B23/30
G11B23/113
G11B23/087
G11B23/107
G11B23/02
H02H3/16
H01B7/32
H02G1/14
H01R13/713
H02H3/33
H02H7/00
H02H5/04
H01B7/00
H02G15/02
A61M29/00
A63B59/02
A63B65/12
A61K31/5685
A61K31/56
G08B23/00
G06F12/14
G06F9/00
G06F11/00
G06F12/16
H05K1/03
H05K1/11
H05K7/20
H01Q1/32
H01L27/08
H01L27/06
H01L21/822
H01L21/761
H01L27/092
H01L27/02
H01L27/04
H01L21/8238
G01R1/073
H01L23/498
H01L23/02
H01L23/14
H01L23/31
H01L21/768
H01L21/60
H01L21/20
H04B5/00
G01S13/08
G06F19/00
G08B1/08
H04Q5/22
G06F7/00
G06F17/00
A63F3/00
B32B5/20
B32B27/36
B32B3/30
B32B5/32
B32B5/18
B32B27/20
G02B5/02
H04B7/22
H04W72/00
F02D9/10
C25D5/36
B05D1/36
B65G1/00
G06N5/02
G06N5/00
G06F17/00
C02F1/46
H10B69/00
H01L21/8247
H01L29/76
H01L29/423
H01L29/792
H01L29/788
H01L21/3063
H01L21/28
H02K16/02
H02K17/30
H02K17/16
H02K7/10
B29C43/14
B29C43/02
A63B69/36
B29D99/00
A63B37/00
A63B45/00
G11B20/18
G11B7/00
H01M50/77
B05D5/12
H01M8/00
H02P27/06
E04B2/00
E04B2/32
H04N5/217
H01L27/00
H04N5/378
H04N5/374
H04N5/357
G06Q10/10
G06F15/16
F02B27/06
F01N1/06
F01N1/02
F01N1/08
F01N1/16
H04W80/04
H04W8/08
H04W60/00
H04W88/16
G01N1/20
H01R13/631
H01R13/629
H04L27/22
H03D3/00
H04L27/38
H04L27/00
H04J3/24
H04J3/00
H04L29/06
H04L29/08
H04J3/16
H04W80/04
H04W40/36
H04W80/10
H04J3/24
H02J7/00
H02M3/28
H01M6/50
A61B/
A61B17/00
A61B17/58
A61B17/16
A61B17/17
A61B17/04
A61H35/00
E04B7/02
E04B1/58
E04D13/00
F24F7/02
C08F283/04
C08G18/08
C08F2/14
C08F110/02
C08F4/24
B01J19/18
C08F6/02
C08F2/00
B01J19/00
C08F2/38
C08F10/00
C12P21/08
A61P9/10
A61K38/22
C07K16/18
A61K38/00
A61K39/395
A61K39/00
C07K16/26
C07K7/06
H04N7/26
H04N7/50
G06T9/00
G06K9/36
H04B1/66
B29C65/00
C12M1/00
C12P7/06
C07C29/80
G09G5/00
G06F3/038
H04L49/111
H04J3/24
H04L12/28
H04L12/54
B01D1/30
F22B27/16
F22B1/08
B01D1/10
C02F1/08
B01D1/00
F22B37/32
B01D1/06
B01D45/12
B01D1/22
G06F17/00
A61F2/82
A61F2/958
F23D11/32
B05B5/00
B05B5/025
B05B15/02
B05B12/06
G02B6/00
G02F1/1335
C12M1/22
C12M3/00
H10B10/00
H01L21/4763
H01L23/52
F01C1/24
F01C1/18
F04C2/18
F04C2/08
F03C2/08
A61K6/00
A61K/
G09B3/00
G09B23/28
G09B7/00
E06C9/14
B01F5/06
B01F3/04
H05B37/02
F21Y101/02
G06F1/16
F21V33/00
G06F1/00
G06F3/02
G06F1/18
G09G5/00
B60L11/18
H02P6/18
H02P9/14
H02P9/04
H02J7/00
H02P9/30
H02J7/14
H02M3/158
H02M7/217
H02P9/48
A61B6/00
H04L7/00
H04J3/06
H04J3/02
H04J3/04
G06F15/16
G06Q10/10
G01Q60/24
G01Q70/04
G01B21/00
G01Q70/00
G01Q10/00
G01Q70/02
G01Q10/04
G01Q10/06
H01L21/302
H01J27/00
A63B21/00
H04L69/40
H04W4/00
G06F17/50
F16H3/08
C07K14/02
A61K39/12
A61K39/00
A61K38/00
C07K14/18
A61K39/29
C07K14/74
H04N25/00
H04N3/14
F02B75/20
F01L7/00
F02F1/36
C25F3/08
H01R13/646
H01R13/52
H01R9/05
H01R43/042
G06F17/10
G06F7/60
F01L1/18
G07F19/00
G06K7/00
G07D11/00
G01R22/00
G01R31/08
G01R19/00
G01R31/28
G05D23/00
G05B11/01
G05B15/00
H01J49/00
G01N1/00
G01N30/72
G01N/
H01J49/04
G01N37/00
H01J49/26
B52D5/00
H01L27/144
H01Q1/26
H01L31/0352
H01L31/103
G01R29/10
H01L31/101
B03C3/016
H04R25/00
E05F11/28
H01L21/31
C08G77/50
H01L23/532
C08G77/58
C08G77/398
C09D183/14
H01L21/312
B32B9/04
F16B12/20
A47B96/00
A47B57/26
A61F2/06
A61B19/00
A61B17/11
A61B17/115
A61B17/064
G01R31/11
B01D46/00
A61N1/36
A61N1/375
F01D25/00
E05D13/00
H02K7/18
F42C14/02
H02K3/52
F42C15/40
F21L13/06
H02K1/14
F42C19/06
F42C11/00
A61B17/17
A61B17/04
A61F2/08
A61B17/82
D03C3/06
D03C3/12
D03C3/20
H04B1/06
H03G1/00
H03F3/45
C23C16/00
C30B25/14
C23C16/455
D21H17/66
D21H17/22
D21H17/26
D21H17/28
D21H17/34
G06F12/10
G06F11/34
G06F12/02
G06F13/24
G06F12/08
A61B5/103
H10B69/00
H01L21/336
D06F39/00
H01Q3/00
H05K7/00
H05K5/00
G06F1/16
G06F17/50
G06F9/30
G06F9/315
G06F7/76
G02F1/1335
G02F1/1333
F21V21/08
F21V21/084
G06F3/00
G06F3/01
G02C11/04
C07D205/04
C07K17/00
C07K14/00
C07K1/00
A61K38/00
C12P21/08
A61P1/16
A01N37/18
F16F9/348
B41J2/14
B41J2/135
H10N30/078
H10N30/20
H10N30/077
H10N30/01
H04R17/00
B05D3/02
B41J2/045
B41J2/055
B41J2/16
G01R31/50
G01R31/58
B60R16/02
H02P9/00
H02J7/14
G01R31/36
H01L21/52
B81C1/00
G06Q10/06
G06F3/048
G06Q10/00
G06Q10/08
E21B33/03
G06F9/00
G06F3/00
B65B9/10
B65B37/00
B65B37/06
H01L21/76
H04W24/08
H04W76/02
H01S5/00
B65D17/28
B65D5/54
A47F5/11
G21F9/00
H10K99/00
H01L29/08
H01S5/343
H01L21/3065
H01S5/223
H01S5/24
H01S5/22
H01L21/302
H01S5/323
H01L33/06
H01L33/14
H01L33/32
H01L33/22
H04N1/60
G06F3/02
G06F1/16
G06F17/30
E04B1/38
H01L29/78
H01L21/8238
C12N15/87
C12N15/867
C12N15/86
C07K14/78
G01B9/02
G03B27/74
G03B27/54
G01B11/14
G03B27/42
G03B27/32
G02B5/18
G01B11/00
H04N1/46
B41J29/38
B65H5/00
B41L13/00
H04N1/04
G06F3/12
H05B6/14
G02B6/38
G02B6/36
B60H1/00
G05G5/03
G09G5/00
G05B11/01
F25D17/00
B60R16/02
G06F3/023
B60K20/02
H04N21/241
H04N21/266
H04N21/24
H04N7/025
H04N7/10
H04L1/00
H04W28/04
H04W36/06
H04N7/50
H04N7/26
H04N7/01
H04N/
H03M7/36
H04N7/36
H04N7/32
H04N7/12
H04N11/02
A61F2/02
H01L31/075
H01L31/18
C23C16/455
C23C16/44
H01L31/20
Query:
SELECT DISTINCT f.value:"code"::STRING AS "ipc_code"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
   LIMIT 1000;
Answer:
Too long, hard cut:
ipc_code
A61B90/00
H03F1/32
H04L9/08
H04N19/00
G06T3/40
G02B27/10
H04W72/54
B21F1/00
G06F1/3212
A61G7/057
G01B11/10
A61F2/46
B23K9/167
A61N1/37
G06F7/00
A01K67/027
B25J17/00
G10L21/02
G07C9/28
B60K17/02
F42B33/10
H01G4/30
G07F17/32
C07D471/04
G06F11/07
A44B11/25
H01S3/10
H01S3/13
H10B43/20
G06F40/174
H04W52/02
H04R3/04
A61M5/20
A47B3/06
B05D3/12
A61B17/34
C02F11/15
A61L15/32
G05B19/4061
H04N19/156
H04N19/577
B23K103/18
G06F21/54
B65B7/02
F16B21/09
H01R12/52
H04L47/36
C08L53/00
H04B7/0456
G02B6/12
B66C17/26
H04N19/105
G06K9/00
C06B33/00
A61P17/02
B01F35/92
A61B/
B82Y40/00
F02B67/00
C09D7/65
G01N15/14
G16H20/40
C22C21/08
G06V20/58
H01F27/25
H04N19/85
H04N19/159
A61M60/40
C09D5/00
C11D17/06
C11D7/50
B62K23/02
H01L21/3065
C08F236/18
F16H57/00
B60R21/0136
B64C29/00
H04W12/06
A61B5/318
A61M5/142
A61M39/06
A61L27/36
H01L21/308
G06K19/077
A61K8/46
C09D7/63
G06F1/16
B01J29/06
B65B7/28
H01S3/067
H04N21/84
B01F27/1143
H02N11/00
B60K6/36
B64D31/04
B01J38/02
A61K8/42
E21B33/134
A61B5/1486
G06V30/414
H04L9/40
G06N3/08
G06F9/54
B60W30/095
B01F27/272
H01L23/31
B29C64/214
G06F3/00
C08L9/02
H04W36/30
B60K17/16
G07F17/34
H01L21/3213
B82Y20/00
B01J35/06
H01L27/12
F21Y103/10
A61F2/848
G02B27/01
B60Q3/54
H04N21/435
G16H10/20
G06F13/42
G06K7/00
C11D11/00
H04R3/00
C07K16/28
A61F2/42
G01B11/00
A63F9/24
F17D1/20
B29C31/08
C12Q1/6818
A61K8/368
C07D519/00
C08F220/56
G06F13/40
G03B15/03
G01B11/14
A61K31/277
B65G17/18
A61G13/12
C07K14/54
B23K103/00
A61B5/026
A61F2/00
F15B9/09
G06T13/40
C08F20/16
B60S1/38
A61B90/57
E21B49/08
E05B13/10
H01L33/00
B66C15/00
E21B27/02
H01L29/40
H04W52/24
A61K38/39
H10B43/30
A61M5/158
H04N7/10
A41D1/06
B23K35/30
H01L27/24
H10B41/27
B65D79/02
A01K11/00
C22C9/00
C12Q1/6876
F21Y115/10
F21V8/00
G02F1/13
C08G18/64
G05B13/02
G03F7/20
A61M5/145
G06V40/20
B33Y40/00
B65H16/00
G06F3/041
B60K35/00
G06V10/764
H01L23/528
H04N19/136
A61K8/365
H05B47/175
A61B5/369
B29C48/42
B64C13/04
G10L17/00
A61L15/60
C08L27/16
H04N19/176
G06F3/04842
H04W4/02
H04W4/14
H04R9/06
H10B43/27
H01L29/06
G06F17/00
C08G18/80
H10B43/35
G06F11/00
C02F9/00
B62K11/14
C12N5/00
H01L21/033
H04W36/04
A61B17/86
G01R31/317
G06J1/02
H02J3/46
G06Q30/00
H04L67/1097
A61K8/81
H04B5/00
B65B55/18
F21S4/26
F02M35/16
F04B39/00
G07G1/00
H01G4/008
A41C3/12
A61B17/02
G06N20/00
H04L67/01
A61F2/30
H04W36/08
B29C48/00
H04L5/14
B60K1/02
B32B9/04
F01N3/035
B21D43/00
A61P17/12
B05B3/04
F16K11/22
E21B47/06
A61B18/20
H01Q1/22
H04W88/02
H01L21/306
B25J15/00
E04C3/04
G06F16/16
B05D1/18
B07C1/04
A62C3/02
G06F40/177
G01M11/02
H04L51/00
A61M5/32
H02H7/122
B43K24/14
F04B41/00
F04B33/00
G06F16/28
G05B19/418
G06K19/06
B21D11/12
G16H30/20
G06T5/50
G06F11/10
B60H1/24
F16K17/04
G06N3/04
A61B5/00
H04N5/235
B60K26/02
B01J23/20
G06F3/03
H01L21/768
H01L21/3105
H04L67/00
C08F20/56
F02F7/00
A61B1/00
C08G18/08
B08B3/02
H04N21/458
G16H40/63
A61B17/74
G06T19/00
C12N9/12
A61K8/73
H01L21/28
A47B13/08
G06F15/16
B65G1/00
E04C3/07
H04L67/02
A61K39/145
C08J7/18
A63F13/285
A01N25/04
F02M25/06
G06T7/80
H10K99/00
B25B13/48
H04N9/04
G06F1/18
A41H3/00
B01F25/431
F04B49/24
F02B37/00
G01D5/14
B29C64/218
G06F30/20
A61B90/10
B01J37/02
H04W72/12
E21B17/10
H01L21/677
H04N19/13
H04N19/52
G06F16/182
A61K31/136
A61P17/14
C01G39/02
A41D27/08
A61B17/80
G10L15/22
B66F9/075
H04N1/00
H04L69/321
B60R13/02
G01B11/08
B07C5/36
H04L1/00
G06F16/955
C07H19/16
H04W52/36
H03F3/181
G06V30/148
B29K27/06
G16H50/20
H02N1/08
G06F3/0354
F16H57/023
F02B39/14
H04W72/04
B25J9/14
B24C3/32
C08J3/22
H01L21/02
C07H19/06
A61B17/32
F01N11/00
G01S13/93
E05B73/00
G06V20/40
B05D3/00
A61B17/3205
B63G8/20
G06F3/0481
B25J15/06
C07D471/02
H04B7/0452
A61F5/34
G09B5/06
A61K8/37
G06V20/10
C07F9/6584
B32B15/085
C09D175/02
C07C2/84
G01S13/58
A61B5/145
B65B5/04
H04L67/75
H01L29/51
A41H3/08
H02J7/00
E21B21/00
B05D7/00
C08G18/28
F15B15/14
H01L23/00
H04M1/60
A61B8/12
A61B34/20
E05B15/00
B23K9/028
B41M5/24
A63B37/12
A61B17/56
G06F9/451
A61N1/372
C07C1/24
G06V10/56
B65H75/30
G01D1/00
H04N21/24
B62D12/00
H04W74/08
F17D3/12
A61K8/34
G05B19/042
F16H48/36
H01G2/06
B24C1/10
A61M5/14
C08F212/14
G06N7/00
H01R12/71
C12N5/10
G06F40/106
F04B27/18
B29C70/38
G06T5/00
H10B43/10
B44C1/22
B01F33/82
B22C5/00
B01F27/723
C08K5/47
F02M35/10
B25J9/16
G06T7/20
H01G4/248
C07D277/36
G01N29/34
G06V40/13
H04L5/00
A61B8/08
B29C64/30
C08F2/38
E21B33/13
E06B9/72
G06Q20/38
G02B6/14
H05B47/185
G06Q30/06
A47B3/00
B05B12/00
H10B41/10
A61B34/00
H05B45/14
F21S4/24
H04N5/369
A61L27/24
G02F1/1347
H04J11/00
G08B25/00
C09D5/08
F01D11/00
B24C9/00
B01J23/10
A61K45/06
H01L25/00
A61P17/06
A61B5/16
B29C48/03
F17D5/00
F16K3/26
A61Q19/10
G05G9/047
G02B27/42
H04L67/141
A61B6/12
C08F220/14
B01J23/34
B65H75/24
B64D11/00
B01L3/00
B05D3/10
G06F16/908
B65B51/22
H04W12/041
F17D3/01
A61K49/00
C12N7/00
F16B2/12
A47F3/00
B33Y50/02
H04W76/11
H04W4/80
G02B15/14
A61B5/11
H04W28/06
B66C13/16
G05B19/19
C07H1/06
C11D7/26
G06F16/18
H05B47/10
B60W50/02
G09F19/22
H04B7/06
H04B1/40
G06F40/103
F01N3/00
G06F21/32
E02D27/04
A61K38/16
H01F27/255
E21B47/00
E21B43/01
H04R29/00
G01S7/539
B65B55/02
G06K7/10
F02F1/24
B65D81/20
H01G4/2
Query:
SELECT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4"
   FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
   WHERE t."country_code" = 'US' AND t."kind_code" = 'B2'
   LIMIT 1000;
Answer:
Too long, hard cut:
ipc4
H03D
H04L
H04L
H04L
G06F
H04L
G06F
H04B
G06F
F42B
G06Q
B81B
B82B
G03F
H01L
H01L
A61K
A61K
A61K
A61K
A61K
A61K
H10B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
C23C
H01L
H01L
H01J
H01J
H01J
H01J
G10H
G06T
G06T
B41J
G11C
G11C
H04L
G06F
G06F
H04L
G06F
H04M
G06F
H01R
G03G
G06F
G06F
H04L
G06Q
B03C
B03C
H05B
G01B
G02B
G02B
A61N
A61N
C12N
C07H
C12Q
G01N
C07H
C12P
D04H
D04H
D01F
C08L
C08L
D04H
C08L
C08L
C08L
G08B
H04N
H04N
H04N
H04N
G06F
G06F
A01K
H04N
G06K
G06K
F01B
F04B
F04B
F01B
F04B
G06F
G06F
G06F
B41J
G06F
H04Q
H04N
H04N
G06F
H04N
H04M
G06K
H04M
G06F
B41J
H04Q
H04Q
G06F
H04M
G08C
G06K
B41J
G06F
G10L
H04N
B41J
B41J
G10K
G10L
G06F
H04M
H04M
H04M
G06K
G06F
G06K
G06K
H04N
H04B
G06K
G06F
B82B
C09C
B05D
B05D
A63F
E05B
E05B
E05B
H04L
H04L
H04L
H04B
G01S
H04B
C25B
G01N
H04W
A61B
A61B
A61B
A61B
G06F
G06F
G06F
H01L
H04L
H04L
H04L
H04L
H04L
G03G
B23P
B01D
B01D
B01D
F01N
G06T
H04N
H04N
G03G
G06F
G06F
G06F
G06F
H05K
G03G
H02J
H01M
H01M
G01N
H02J
B60L
H01M
H01L
H01L
H04B
H04B
H04J
H04L
H04J
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G06V
G06F
H04L
H04N
H04N
H04N
B65B
G06F
G06K
C30B
A61Q
A61K
A61K
A61K
A01N
A61Q
A61K
G06K
G06K
H01L
G02B
H04L
G06F
B60N
B60N
H04N
H04N
F02M
F02M
F02M
F02M
F02M
F02M
H04W
H04H
B62D
G06F
G06Q
G06G
G06Q
G07B
G06Q
G06F
G06F
H04M
G07F
H04M
G06F
G06F
G06F
G06F
G06F
G06F
G06F
G06F
H04L
F16L
E21B
G02B
G01R
G01R
G06F
G06F
G06F
G06F
G06F
H04L
G06F
C12Q
C12N
G01N
A61K
A61B
C12N
A61K
C12P
G01N
C07H
C07K
C07H
G01N
G01N
G01N
G01N
B65D
B65D
B65F
B65D
G06F
A61K
A61K
A61K
A61K
A61K
A61K
A01N
A61K
A61K
A61Q
A01N
A61K
C07D
A61Q
G11C
G11C
G02B
G02B
G16H
G16H
G16H
G16H
G06K
G06T
A61B
A61B
B24B
B24B
B25B
H01L
B24B
B24D
B24D
B24B
B24B
F21V
G06F
G06F
G06F
H04H
H04N
G11B
G11B
G11B
G11B
G11B
H02H
H01B
H02G
H01R
H02H
H02H
H02H
H01B
H02G
A61M
A63B
A63B
A61K
A61K
G08B
G06F
G06F
G06F
G06F
H05K
H05K
H05K
H01Q
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G01R
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H04B
G01S
G06F
G08B
H04Q
G06F
G06F
A63F
B32B
B32B
B32B
B32B
B32B
B32B
G02B
H04B
H04W
F02D
C25D
B05D
B65G
G06N
G06N
G06F
C02F
H10B
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H02K
H02K
H02K
H02K
B29C
B29C
A63B
B29D
A63B
A63B
G11B
G11B
H01M
B05D
H01M
H02P
E04B
E04B
H04N
H01L
H04N
H04N
H04N
G06Q
G06F
F02B
F01N
F01N
F01N
F01N
H04W
H04W
H04W
H04W
G01N
H01R
H01R
H04L
H03D
H04L
H04L
H04J
H04J
H04L
H04L
H04J
H04W
H04W
H04W
H04J
H02J
H02M
H01M
A61B
A61B
A61B
A61B
A61B
A61B
A61H
E04B
E04B
E04D
F24F
C08F
C08G
C08F
C08F
C08F
B01J
C08F
C08F
B01J
C08F
C08F
C12P
A61P
A61K
C07K
A61K
A61K
A61K
C07K
C07K
H04N
H04N
G06T
G06K
H04B
B29C
C12M
C12P
C07C
G09G
G06F
H04L
H04J
H04L
H04L
B01D
F22B
F22B
B01D
C02F
B01D
F22B
B01D
B01D
B01D
G06F
A61F
A61F
F23D
B05B
B05B
B05B
B05B
G02B
G02F
C12M
C12M
H10B
H01L
H01L
F01C
F01C
F04C
F04C
F03C
A61K
A61K
G09B
G09B
G09B
E06C
B01F
B01F
H05B
F21Y
G06F
F21V
G06F
G06F
G06F
G09G
B60L
H02P
H02P
H02P
H02J
H02P
H02J
H02M
H02M
H02P
A61B
H04L
H04J
H04J
H04J
G06F
G06Q
G01Q
G01Q
G01B
G01Q
G01Q
G01Q
G01Q
G01Q
H01L
H01J
A63B
H04L
H04W
G06F
F16H
C07K
A61K
A61K
A61K
C07K
A61K
C07K
H04N
H04N
F02B
F01L
F02F
C25F
H01R
H01R
H01R
H01R
G06F
G06F
F01L
G07F
G06K
G07D
G01R
G01R
G01R
G01R
G05D
G05B
G05B
H01J
G01N
G01N
G01N
H01J
G01N
H01J
B52D
G01N
G01N
A61F
G06F
H04W
H04W
H04W
G01N
G08C
G06K
G06K
G01R
C23F
G06F
G06F
H01J
H04R
H04N
H04B
G11C
G06F
G06F
G06F
A63B
A63B
B65D
B64F
G02B
A61C
B05C
B67D
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
H01L
G02F
G02F
A63B
A63B
A63B
F21S
B60P
G06G
G03G
H03K
B29B
G06F
H03K
H04N
G06G
G06F
B60J
H01R
H01M
G01N
G06F
H04L
G06F
G06F
G06F
G08C
H04L
G06F
G06F
A63B
A63B
A47L
G06F
G06F
H04W
H04L
H04W
H04L
H04W
H04W
A63C
A63C
A63C
A63C
G11B
A61K
A61K
A61K
G06F
A61N
H04W
G06Q
C22C
C08K
C22C
C22C
B22F
C07K
C07K
A61K
A61P
A61K
C07K
G01N
G01N
A61D
B32B
B32B
B60R
B29C
B60R
H10B
H01L
C12Q
C08G
B64D
H02M
H05K
C07C
B01D
B01D
C07C
H04M
G06F
G06F
G06F
H04L
H04N
H04L
H04N
G06F
H04N
G06F
H04N
H04N
H04N
H01L
H01L
H01L
B60T
B60K
B60T
G01C
G01C
G06F
B60T
A61L
A61L
A61L
F24F
A01G
A01H
G06F
G06K
B23B
B23B
A61B
A61B
F16J
G03F
H01L
H04L
H04L
H04H
H04H
H04L
H04L
A47F
A47F
A47F
G09B
G06F
C01B
B01J
H04L
G06F
H04W
A63F
A63F
C07K
C07K
A61K
A61K
A61K
C07K
H01L
H04L
H04L
H04L
H04W
H04W
C08G
C08G
H04L
H01L
H01L
H01L
H01L
H01L
H01L
H02M
G03G
F02M
G06F
G11C
G06F
G06F
H01L
B23K
B23K
B23K
G06F
G06F
G06F
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
A61K
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
A01N
C07D
C07D
C07D
C07D
C07D
C07D
C07D
C07D
G01P
G05B
G01P
G06F
G06F
G05B
G06F
G01P
B65D
B65D
A61K
A61K
A61K
C12P
C12Q
A61K
G06F
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
B01J
C07C
B01J
B01J
C07C
C07C
B01J
B01J
B01J
B01J
B01J
B01J
H02M
H02J
H01F
H01F
F02P
H01F
H02J
H02J
H02M
H01F
H02J
H01F
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
H04N
G06F
G02B
A61B
A61B
A61B
A61B
H02M
H02M
A61N
H01M
G06F
H04B
B60K
G06F
B60Q
G06F
G02B
H04L
H04L
H04L
H04L
H04L
H04L
G06T
G06T
H04N
H04N
H04N
G01N
C12Q
G01N
H03B
H04B
H04M
H04M
H02B
H04R
B32B
G01C
G01C
G01S
G01S
A61M
A61M
A61M
G11C
G06F
G06F
H02P
H02H
E05B
A61L
A61L
E05B
C01G
C01G

Query:
SELECT DISTINCT SUBSTR(f.value:"code"::STRING, 1, 4) AS "ipc4"
    FROM PATENTS.PATENTS.PUBLICATIONS t, LATERAL FLATTEN(input => t."ipc") f
    WHERE t."country_code" = 'US' AND t."kind_code" = 'B2' AND t."grant_date" BETWEEN '20220601' AND '20220831'
    LIMIT 1000;
Answer:
ipc4
E21B
G01N
F01M
B62D
B44C
G06N
H04J
E04D
G07C
B29B
G06V
F02F
E06B
G06T
C07K
B29C
F04B
B33Y
G01C
F02B
B01J
H01G
C06B
C07H
B23K
H04L
C22F
G07G
H01R
F17D
B07C
G01B
G16H
B60Q
B65B
G06J
G10L
A61L
A61Q
G03B
A61K
F16K
B05D
G01M
H03F
F15B
C09K
H02B
G01R
C07B
A61F
H04M
G02F
B23D
G01S
H02H
A61G
C22C
B66C
C08G
H02P
G06K
B29K
C12N
B22C
A01N
B66F
G02B
C09D
F02M
B82Y
A62C
B64D
D06C
G06Q
H01Q
A41H
B25J
B01L
G01D
G06F
C12Q
B65H
C07D
H04R
C07F
G09G
B60R
B08B
C12P
B63H
A01B
B24C
C11D
F01N
H04B
C08L
B05B
B41M
B60K
G05B
B64C
G05G
E04C
F16B
B22F
F21S
H10K
H10N
A41D
A61B
A01K
B63G
A63B
C08J
A47F
A61P
H04W
C08F
B21F
B21D
E02D
G09B
C01G
H02J
C08K
E05B
A61N
C02F
H01F
G03F
B23P
B60H
A44B
D06M
C07C
H02M
B60S
F21Y
A47B
E04B
B62K
A61M
B43K
G09F
H02N
G07F
D06Q
F42B
F21V
F16H
B25B
D06B
H01L
H04N
H05K
F01D
B01F
G08B
B65G
B60W
H10B
H01S
G11B
G05D
B65D
B32B
H05B
A41C
A63F
End Exploring Related Columns
Task: What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?

Please answer only one complete SQL in snowflake dialect in ```sql``` format.
Usage example: SELECT S."Column_Name" FROM {Database Name}.{Schema Name}.{Table_name} (ensure all column names are enclosed in double quotations)
Follow the answer format like: ```csv
Most_common_IPC4_Code,Count
code:str,count:int(Attention: answer in one row)
```

To find the most common 4-digit IPC code among US B2 utility patents granted from June to August 2022, we filtered the patents where `country_code` is 'US', `kind_code` is 'B2', and `grant_date` is between '20220601' and '20220831'. Then, we extracted the IPC codes from the `ipc` field, truncated them to their first four characters to obtain the 4-digit IPC codes, counted the occurrences of each code, and identified the one with the highest count..
Here are some useful tips for answering:
When performing a UNION operation on many tables, ensure that all table names are explicitly listed. Union first and then add condition and selection. e.g. SELECT "col1", "col2" FROM (TABLE1 UNION ALL TABLE2) WHERE ...; Don't write sqls as (SELECT col1, col2 FROM TABLE1 WHERE ...) UNION ALL (SELECT col1, col2 FROM TABLE2 WHERE ...); Don't use ['-- Include all', '-- Omit', '-- Continue', '-- Union all', '-- ...', '-- List all', '-- Replace this', '-- Each table', '-- Add other'] to omit any table. Table names here: ({database name: {schema name: {table name}}}): 
{'PATENTS': {'PATENTS': ['CPC_DEFINITION', 'DISCLOSURES_13', 'PUBLICATIONS']}}

For string-matching scenarios, if the string is decided, don't use fuzzy query, and avoid using REGEXP. e.g. Get the object's title contains the word "book" SQL: WHERE "title" LIKE '%book%'
However, if the string is not decided, you may use ILIKE and %. e.g. Get articles that mention "education": SQL: "body" ILIKE '%education%' OR "title" ILIKE '%education%'
When using ORDER BY xxx DESC, add NULLS LAST to exclude null records: ORDER BY xxx DESC NULLS LAST.
When using ORDER BY, if there are duplicate values in the primary sort column, sort by an additional column as a secondary criterion.Keep all decimals to four decimal places.

2025-01-19 03:11:50 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:11:50 - root - INFO - ```sql
SELECT
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "Most_common_IPC4_Code",
    COUNT(*) AS "Count"
FROM
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE
    t."country_code" = 'US'
    AND t."kind_code" = 'B2'
    AND t."grant_date" BETWEEN '20220601' AND '20220831'
GROUP BY
    "Most_common_IPC4_Code"
ORDER BY
    "Count" DESC NULLS LAST
LIMIT 1;
```
2025-01-19 03:11:50 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:11:50 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:11:50 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:11:51 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 03:11:51 - snowflake.connector.connection - INFO - closed
2025-01-19 03:11:51 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:11:51 - root - INFO - itercount: 1
2025-01-19 03:11:51 - root - INFO - 0
2025-01-19 03:11:51 - root - INFO - results: 
Most_common_IPC4_Code,Count
G06F,62


2025-01-19 03:11:51 - root - INFO - Please check the answer again by reviewing What is the most common 4-digit IPC code among US B2 utility patents granted from June to August in 2022?, reviewing Relevant Tables and Columns and Possible Conditions and then give the final SQL query. Don't output other queries. If you think the answer is right, just output the current SQL.
Keep all decimals to four decimal places.
The answer format should be like: ```csv
Most_common_IPC4_Code,Count
code:str,count:int(Attention: answer in one row)
```

To find the most common 4-digit IPC code among US B2 utility patents granted from June to August 2022, we filtered the patents where `country_code` is 'US', `kind_code` is 'B2', and `grant_date` is between '20220601' and '20220831'. Then, we extracted the IPC codes from the `ipc` field, truncated them to their first four characters to obtain the 4-digit IPC codes, counted the occurrences of each code, and identified the one with the highest count. The answer should match the number of rows, the column name of the format and the filled values in the format (e.g. filled year or month). Don't output extra rows or nested rows!
Current snswer: 
Most_common_IPC4_Code,Count
G06F,62
Current sql:
SELECT
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "Most_common_IPC4_Code",
    COUNT(*) AS "Count"
FROM
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE
    t."country_code" = 'US'
    AND t."kind_code" = 'B2'
    AND t."grant_date" BETWEEN '20220601' AND '20220831'
GROUP BY
    "Most_common_IPC4_Code"
ORDER BY
    "Count" DESC NULLS LAST
LIMIT 1;
2025-01-19 03:12:15 - httpx - INFO - HTTP Request: POST https://sfc-ml-sweden.openai.azure.com/openai/deployments/o1-preview/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
2025-01-19 03:12:15 - root - INFO - ```sql
SELECT
    SUBSTR(f.value:"code"::STRING, 1, 4) AS "Most_common_IPC4_Code",
    COUNT(*) AS "Count"
FROM
    PATENTS.PATENTS.PUBLICATIONS t,
    LATERAL FLATTEN(input => t."ipc") f
WHERE
    t."country_code" = 'US'
    AND t."kind_code" = 'B2'
    AND t."grant_date" BETWEEN '20220601' AND '20220831'
GROUP BY
    "Most_common_IPC4_Code"
ORDER BY
    "Count" DESC NULLS LAST
LIMIT 1;
```
2025-01-19 03:12:15 - snowflake.connector.connection - INFO - Snowflake Connector for Python Version: 3.12.4, Python Version: 3.11.11, Platform: Linux-6.1.62-x86_64-with-glibc2.31
2025-01-19 03:12:15 - snowflake.connector.connection - INFO - Connecting to GLOBAL Snowflake domain
2025-01-19 03:12:15 - snowflake.connector.connection - INFO - This connection is in OCSP Fail Open Mode. TLS Certificates would be checked for validity and revocation status. Any other Certificate Revocation related exceptions or OCSP Responder failures would be disregarded in favor of connectivity.
2025-01-19 03:12:17 - snowflake.connector.cursor - INFO - Number of results in first chunk: 1
2025-01-19 03:12:17 - snowflake.connector.connection - INFO - closed
2025-01-19 03:12:17 - snowflake.connector.connection - INFO - No async queries seem to be running, deleting session
2025-01-19 03:12:17 - root - INFO - itercount: 2
2025-01-19 03:12:17 - root - INFO - 0
2025-01-19 03:12:17 - root - INFO - Total iteration counts: 2
